/*
 The buffer module from node.js, for the browser.

 @author   Feross Aboukhadijeh <https://feross.org>
 @license  MIT
 Determine if an object is a Buffer

 @author   Feross Aboukhadijeh <https://feross.org>
 @license  MIT
 safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource>  http://mths.be/fromcodepoint v0.1.0 by @mathias */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,n,h){d!=Array.prototype&&d!=Object.prototype&&(d[n]=h.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(d,n,h,a){if(n){h=$jscomp.global;d=d.split(".");for(a=0;a<d.length-1;a++){var c=d[a];c in h||(h[c]={});h=h[c]}d=d[d.length-1];a=h[d];n=n(a);n!=a&&null!=n&&$jscomp.defineProperty(h,d,{configurable:!0,writable:!0,value:n})}};$jscomp.polyfill("Array.prototype.fill",function(d){return d?d:function(d,h,a){var c=this.length||0;0>h&&(h=Math.max(0,c+h));if(null==a||a>c)a=c;a=Number(a);0>a&&(a=Math.max(0,c+a));for(h=Number(h||0);h<a;h++)this[h]=d;return this}},"es6","es3");
$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var d=0;return function(n){return $jscomp.SYMBOL_PREFIX+(n||"")+d++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.asyncIterator;d||(d=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.arrayIterator=function(d){var n=0;return $jscomp.iteratorPrototype(function(){return n<d.length?{done:!1,value:d[n++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};$jscomp.iteratorFromArray=function(d,n){$jscomp.initSymbolIterator();d instanceof String&&(d+="");var h=0,a={next:function(){if(h<d.length){var c=h++;return{value:n(c,d[c]),done:!1}}a.next=function(){return{done:!0,value:void 0}};return a.next()}};a[Symbol.iterator]=function(){return a};return a};
$jscomp.polyfill("Array.prototype.keys",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(d){return d})}},"es6","es3");$jscomp.polyfill("Object.getOwnPropertySymbols",function(d){return d?d:function(){return[]}},"es6","es5");
$jscomp.polyfill("Reflect.ownKeys",function(d){return d?d:function(d){var h=[],a=Object.getOwnPropertyNames(d);d=Object.getOwnPropertySymbols(d);for(var c=0;c<a.length;c++)("jscomp_symbol_"==a[c].substring(0,14)?d:h).push(a[c]);return h.concat(d)}},"es6","es5");
$jscomp.polyfill("String.fromCodePoint",function(d){return d?d:function(d){for(var h="",a=0;a<arguments.length;a++){var c=Number(arguments[a]);if(0>c||1114111<c||c!==Math.floor(c))throw new RangeError("invalid_code_point "+c);65535>=c?h+=String.fromCharCode(c):(c-=65536,h+=String.fromCharCode(c>>>10&1023|55296),h+=String.fromCharCode(c&1023|56320))}return h}},"es6","es3");$jscomp.owns=function(d,n){return Object.prototype.hasOwnProperty.call(d,n)};
$jscomp.assign="function"==typeof Object.assign?Object.assign:function(d,n){for(var h=1;h<arguments.length;h++){var a=arguments[h];if(a)for(var c in a)$jscomp.owns(a,c)&&(d[c]=a[c])}return d};$jscomp.polyfill("Object.assign",function(d){return d||$jscomp.assign},"es6","es3");$jscomp.polyfill("Object.entries",function(d){return d?d:function(d){var h=[],a;for(a in d)$jscomp.owns(d,a)&&h.push([a,d[a]]);return h}},"es8","es3");
$jscomp.polyfill("Math.sign",function(d){return d?d:function(d){d=Number(d);return 0===d||isNaN(d)?d:0<d?1:-1}},"es6","es3");$jscomp.checkEs6ConformanceViaProxy=function(){try{var d={},n=Object.create(new $jscomp.global.Proxy(d,{get:function(h,a,c){return h==d&&"q"==a&&c==n}}));return!0===n.q}catch(h){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();
$jscomp.makeIterator=function(d){$jscomp.initSymbolIterator();var n=d[Symbol.iterator];return n?n.call(d):$jscomp.arrayIterator(d)};
$jscomp.polyfill("WeakMap",function(d){function n(){if(!d||!Object.seal)return!1;try{var a=Object.seal({}),c=Object.seal({}),b=new d([[a,2],[c,3]]);if(2!=b.get(a)||3!=b.get(c))return!1;b.delete(a);b.set(c,4);return!b.has(a)&&4==b.get(c)}catch(u){return!1}}function h(a){$jscomp.owns(a,c)||$jscomp.defineProperty(a,c,{value:{}})}function a(a){var c=Object[a];c&&(Object[a]=function(b){h(b);return c(b)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(d&&$jscomp.ES6_CONFORMANCE)return d}else if(n())return d;
var c="$jscomp_hidden_"+Math.random();a("freeze");a("preventExtensions");a("seal");var k=0,q=function(a){this.id_=(k+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();a=$jscomp.makeIterator(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}};q.prototype.set=function(a,d){h(a);if(!$jscomp.owns(a,c))throw Error("WeakMap key fail: "+a);a[c][this.id_]=d;return this};q.prototype.get=function(a){return $jscomp.owns(a,c)?a[c][this.id_]:void 0};q.prototype.has=
function(a){return $jscomp.owns(a,c)&&$jscomp.owns(a[c],this.id_)};q.prototype.delete=function(a){return $jscomp.owns(a,c)&&$jscomp.owns(a[c],this.id_)?delete a[c][this.id_]:!1};return q},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(d){function n(){if($jscomp.ASSUME_NO_NATIVE_MAP||!d||"function"!=typeof d||!d.prototype.entries||"function"!=typeof Object.seal)return!1;try{var a=Object.seal({x:4}),b=new d($jscomp.makeIterator([[a,"s"]]));if("s"!=b.get(a)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;var c=b.entries(),k=c.next();if(k.done||k.value[0]!=a||"s"!=k.value[1])return!1;k=c.next();return k.done||4!=k.value[0].x||"t"!=k.value[1]||!c.next().done?!1:!0}catch(t){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(d&&$jscomp.ES6_CONFORMANCE)return d}else if(n())return d;$jscomp.initSymbol();$jscomp.initSymbolIterator();var h=new WeakMap,a=function(a){this.data_={};this.head_=q();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};a.prototype.set=function(a,b){a=0===a?0:a;var u=c(this,a);u.list||(u.list=this.data_[u.id]=[]);u.entry?u.entry.value=b:(u.entry={next:this.head_,previous:this.head_.previous,head:this.head_,
key:a,value:b},u.list.push(u.entry),this.head_.previous.next=u.entry,this.head_.previous=u.entry,this.size++);return this};a.prototype.delete=function(a){a=c(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};a.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=q();this.size=0};a.prototype.has=function(a){return!!c(this,a).entry};
a.prototype.get=function(a){return(a=c(this,a).entry)&&a.value};a.prototype.entries=function(){return k(this,function(a){return[a.key,a.value]})};a.prototype.keys=function(){return k(this,function(a){return a.key})};a.prototype.values=function(){return k(this,function(a){return a.value})};a.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};a.prototype[Symbol.iterator]=a.prototype.entries;var c=function(a,b){var c=b&&typeof b;"object"==
c||"function"==c?h.has(b)?c=h.get(b):(c=""+ ++B,h.set(b,c)):c="p_"+b;var d=a.data_[c];if(d&&$jscomp.owns(a.data_,c))for(a=0;a<d.length;a++){var k=d[a];if(b!==b&&k.key!==k.key||b===k.key)return{id:c,list:d,index:a,entry:k}}return{id:c,list:d,index:-1,entry:void 0}},k=function(a,b){var c=a.head_;return $jscomp.iteratorPrototype(function(){if(c){for(;c.head!=a.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}})},q=function(){var a={};return a.previous=
a.next=a.head=a},B=0;return a},"es6","es3");
$jscomp.polyfill("Set",function(d){function n(){if($jscomp.ASSUME_NO_NATIVE_SET||!d||"function"!=typeof d||!d.prototype.entries||"function"!=typeof Object.seal)return!1;try{var a=Object.seal({x:4}),c=new d($jscomp.makeIterator([a]));if(!c.has(a)||1!=c.size||c.add(a)!=c||1!=c.size||c.add({x:4})!=c||2!=c.size)return!1;var k=c.entries(),q=k.next();if(q.done||q.value[0]!=a||q.value[1]!=a)return!1;q=k.next();return q.done||q.value[0]==a||4!=q.value[0].x||q.value[1]!=q.value[0]?!1:k.next().done}catch(B){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(d&&$jscomp.ES6_CONFORMANCE)return d}else if(n())return d;$jscomp.initSymbol();$jscomp.initSymbolIterator();var h=function(a){this.map_=new Map;if(a){a=$jscomp.makeIterator(a);for(var c;!(c=a.next()).done;)this.add(c.value)}this.size=this.map_.size};h.prototype.add=function(a){a=0===a?0:a;this.map_.set(a,a);this.size=this.map_.size;return this};h.prototype.delete=function(a){a=this.map_.delete(a);this.size=this.map_.size;return a};h.prototype.clear=
function(){this.map_.clear();this.size=0};h.prototype.has=function(a){return this.map_.has(a)};h.prototype.entries=function(){return this.map_.entries()};h.prototype.values=function(){return this.map_.values()};h.prototype.keys=h.prototype.values;h.prototype[Symbol.iterator]=h.prototype.values;h.prototype.forEach=function(a,c){var d=this;this.map_.forEach(function(k){return a.call(c,k,k,d)})};return h},"es6","es3");
(function(d){"object"===typeof exports&&"undefined"!==typeof module?module.exports=d():"function"===typeof define&&define.amd?define([],d):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).imsc=d()})(function(){return function(){function d(n,h,a){function c(q,D){if(!h[q]){if(!n[q]){var b="function"==typeof require&&require;if(!D&&b)return b(q,!0);if(k)return k(q,!0);D=Error("Cannot find module '"+q+"'");throw D.code="MODULE_NOT_FOUND",D;}D=
h[q]={exports:{}};n[q][0].call(D.exports,function(a){return c(n[q][1][a]||a)},D,D.exports,d,n,h,a)}return h[q].exports}for(var k="function"==typeof require&&require,q=0;q<a.length;q++)c(a[q]);return c}return d}()({1:[function(d,n,h){function a(a){var b=a.length;if(0<b%4)throw Error("Invalid string. Length must be a multiple of 4");a=a.indexOf("=");-1===a&&(a=b);return[a,a===b?0:4-a%4]}function c(a,b,c){for(var d=[],u=b;u<c;u+=3)b=(a[u]<<16&16711680)+(a[u+1]<<8&65280)+(a[u+2]&255),d.push(k[b>>18&63]+
k[b>>12&63]+k[b>>6&63]+k[b&63]);return d.join("")}h.byteLength=function(c){c=a(c);var b=c[1];return 3*(c[0]+b)/4-b};h.toByteArray=function(c){var b=a(c);var d=b[0];b=b[1];var k=new B(3*(d+b)/4-b),t=0,h=0<b?d-4:d,x;for(x=0;x<h;x+=4)d=q[c.charCodeAt(x)]<<18|q[c.charCodeAt(x+1)]<<12|q[c.charCodeAt(x+2)]<<6|q[c.charCodeAt(x+3)],k[t++]=d>>16&255,k[t++]=d>>8&255,k[t++]=d&255;2===b&&(d=q[c.charCodeAt(x)]<<2|q[c.charCodeAt(x+1)]>>4,k[t++]=d&255);1===b&&(d=q[c.charCodeAt(x)]<<10|q[c.charCodeAt(x+1)]<<4|q[c.charCodeAt(x+
2)]>>2,k[t++]=d>>8&255,k[t++]=d&255);return k};h.fromByteArray=function(a){for(var b=a.length,d=b%3,q=[],t=0,B=b-d;t<B;t+=16383)q.push(c(a,t,t+16383>B?B:t+16383));1===d?(a=a[b-1],q.push(k[a>>2]+k[a<<4&63]+"==")):2===d&&(a=(a[b-2]<<8)+a[b-1],q.push(k[a>>10]+k[a>>4&63]+k[a<<2&63]+"="));return q.join("")};var k=[],q=[],B="undefined"!==typeof Uint8Array?Uint8Array:Array;for(d=0;64>d;++d)k[d]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[d],q["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(d)]=
d;q[45]=62;q[95]=63},{}],2:[function(d,n,h){},{}],3:[function(d,n,h){(function(a){function c(m){if(2147483647<m)throw new RangeError('The value "'+m+'" is invalid for option "size"');m=new Uint8Array(m);m.__proto__=a.prototype;return m}function a(m,a,g){if("number"===typeof m){if("string"===typeof a)throw new TypeError('The "string" argument must be of type string. Received type number');return B(m)}return k(m,a,g)}function k(m,C,g){if("string"===typeof m){var f=C;if("string"!==typeof f||""===f)f=
"utf8";if(!a.isEncoding(f))throw new TypeError("Unknown encoding: "+f);C=v(m,f)|0;g=c(C);m=g.write(m,f);m!==C&&(g=g.slice(0,m));return g}if(ArrayBuffer.isView(m))return D(m);if(null==m)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(J(m,ArrayBuffer)||m&&J(m.buffer,ArrayBuffer)){if(0>C||m.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<C+(g||0))throw new RangeError('"length" is outside of buffer bounds');
m=void 0===C&&void 0===g?new Uint8Array(m):void 0===g?new Uint8Array(m,C):new Uint8Array(m,C,g);m.__proto__=a.prototype;return m}if("number"===typeof m)throw new TypeError('The "value" argument must not be of type number. Received type number');f=m.valueOf&&m.valueOf();if(null!=f&&f!==m)return a.from(f,C,g);if(f=b(m))return f;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof m[Symbol.toPrimitive])return a.from(m[Symbol.toPrimitive]("string"),C,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+
typeof m);}function q(m){if("number"!==typeof m)throw new TypeError('"size" argument must be of type number');if(0>m)throw new RangeError('The value "'+m+'" is invalid for option "size"');}function B(m){q(m);return c(0>m?0:u(m)|0)}function D(m){for(var a=0>m.length?0:u(m.length)|0,g=c(a),f=0;f<a;f+=1)g[f]=m[f]&255;return g}function b(m){if(a.isBuffer(m)){var b=u(m.length)|0,g=c(b);if(0===g.length)return g;m.copy(g,0,0,b);return g}if(void 0!==m.length)return(b="number"!==typeof m.length)||(b=m.length,
b=b!==b),b?c(0):D(m);if("Buffer"===m.type&&Array.isArray(m.data))return D(m.data)}function u(m){if(2147483647<=m)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(2147483647).toString(16)+" bytes");return m|0}function v(m,b){if(a.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||J(m,ArrayBuffer))return m.byteLength;if("string"!==typeof m)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);var g=
m.length,f=2<arguments.length&&!0===arguments[2];if(!f&&0===g)return 0;for(var C=!1;;)switch(b){case "ascii":case "latin1":case "binary":return g;case "utf8":case "utf-8":return l(m).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*g;case "hex":return g>>>1;case "base64":return L.toByteArray(p(m)).length;default:if(C)return f?-1:l(m).length;b=(""+b).toLowerCase();C=!0}}function t(m,a,g){var f=!1;if(void 0===a||0>a)a=0;if(a>this.length)return"";if(void 0===g||g>this.length)g=
this.length;if(0>=g)return"";g>>>=0;a>>>=0;if(g<=a)return"";for(m||(m="utf8");;)switch(m){case "hex":m=a;a=g;g=this.length;if(!m||0>m)m=0;if(!a||0>a||a>g)a=g;f="";for(g=m;g<a;++g)m=f,f=this[g],f=16>f?"0"+f.toString(16):f.toString(16),f=m+f;return f;case "utf8":case "utf-8":return G(this,a,g);case "ascii":m="";for(g=Math.min(this.length,g);a<g;++a)m+=String.fromCharCode(this[a]&127);return m;case "latin1":case "binary":m="";for(g=Math.min(this.length,g);a<g;++a)m+=String.fromCharCode(this[a]);return m;
case "base64":return a=0===a&&g===this.length?L.fromByteArray(this):L.fromByteArray(this.slice(a,g)),a;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":a=this.slice(a,g);g="";for(m=0;m<a.length;m+=2)g+=String.fromCharCode(a[m]+256*a[m+1]);return g;default:if(f)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase();f=!0}}function r(m,a,g){var f=m[a];m[a]=m[g];m[g]=f}function x(m,b,g,f,e){if(0===m.length)return-1;"string"===typeof g?(f=g,g=0):2147483647<g?g=2147483647:-2147483648>
g&&(g=-2147483648);g=+g;g!==g&&(g=e?0:m.length-1);0>g&&(g=m.length+g);if(g>=m.length){if(e)return-1;g=m.length-1}else if(0>g)if(e)g=0;else return-1;"string"===typeof b&&(b=a.from(b,f));if(a.isBuffer(b))return 0===b.length?-1:n(m,b,g,f,e);if("number"===typeof b)return b&=255,"function"===typeof Uint8Array.prototype.indexOf?e?Uint8Array.prototype.indexOf.call(m,b,g):Uint8Array.prototype.lastIndexOf.call(m,b,g):n(m,[b],g,f,e);throw new TypeError("val must be string, number or Buffer");}function n(m,
a,g,f,b){function e(f,m){return 1===C?f[m]:f.readUInt16BE(m*C)}var C=1,c=m.length,p=a.length;if(void 0!==f&&(f=String(f).toLowerCase(),"ucs2"===f||"ucs-2"===f||"utf16le"===f||"utf-16le"===f)){if(2>m.length||2>a.length)return-1;C=2;c/=2;p/=2;g/=2}if(b)for(f=-1;g<c;g++)if(e(m,g)===e(a,-1===f?0:g-f)){if(-1===f&&(f=g),g-f+1===p)return f*C}else-1!==f&&(g-=g-f),f=-1;else for(g+p>c&&(g=c-p);0<=g;g--){c=!0;for(f=0;f<p;f++)if(e(m,g+f)!==e(a,f)){c=!1;break}if(c)return g}return-1}function G(m,a,g){g=Math.min(m.length,
g);for(var f=[];a<g;){var b=m[a],e=null,c=239<b?4:223<b?3:191<b?2:1;if(a+c<=g)switch(c){case 1:128>b&&(e=b);break;case 2:var C=m[a+1];128===(C&192)&&(b=(b&31)<<6|C&63,127<b&&(e=b));break;case 3:C=m[a+1];var p=m[a+2];128===(C&192)&&128===(p&192)&&(b=(b&15)<<12|(C&63)<<6|p&63,2047<b&&(55296>b||57343<b)&&(e=b));break;case 4:C=m[a+1];p=m[a+2];var d=m[a+3];128===(C&192)&&128===(p&192)&&128===(d&192)&&(b=(b&15)<<18|(C&63)<<12|(p&63)<<6|d&63,65535<b&&1114112>b&&(e=b))}null===e?(e=65533,c=1):65535<e&&(e-=
65536,f.push(e>>>10&1023|55296),e=56320|e&1023);f.push(e);a+=c}m=f.length;if(m<=w)f=String.fromCharCode.apply(String,f);else{g="";for(a=0;a<m;)g+=String.fromCharCode.apply(String,f.slice(a,a+=w));f=g}return f}function A(m,a,g){if(0!==m%1||0>m)throw new RangeError("offset is not uint");if(m+a>g)throw new RangeError("Trying to access beyond buffer length");}function z(m,b,g,f,e,c){if(!a.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>e||b<c)throw new RangeError('"value" argument is out of bounds');
if(g+f>m.length)throw new RangeError("Index out of range");}function K(m,a,g,f,b,e){if(g+f>m.length)throw new RangeError("Index out of range");if(0>g)throw new RangeError("Index out of range");}function e(m,a,g,f,b){a=+a;g>>>=0;b||K(m,a,g,4,3.4028234663852886E38,-3.4028234663852886E38);I.write(m,a,g,f,23,4);return g+4}function y(m,a,g,f,b){a=+a;g>>>=0;b||K(m,a,g,8,1.7976931348623157E308,-1.7976931348623157E308);I.write(m,a,g,f,52,8);return g+8}function p(a){a=a.split("=")[0];a=a.trim().replace(H,
"");if(2>a.length)return"";for(;0!==a.length%4;)a+="=";return a}function l(a,b){b=b||Infinity;for(var m,f=a.length,e=null,c=[],C=0;C<f;++C){m=a.charCodeAt(C);if(55295<m&&57344>m){if(!e){if(56319<m){-1<(b-=3)&&c.push(239,191,189);continue}else if(C+1===f){-1<(b-=3)&&c.push(239,191,189);continue}e=m;continue}if(56320>m){-1<(b-=3)&&c.push(239,191,189);e=m;continue}m=(e-55296<<10|m-56320)+65536}else e&&-1<(b-=3)&&c.push(239,191,189);e=null;if(128>m){if(0>--b)break;c.push(m)}else if(2048>m){if(0>(b-=2))break;
c.push(m>>6|192,m&63|128)}else if(65536>m){if(0>(b-=3))break;c.push(m>>12|224,m>>6&63|128,m&63|128)}else if(1114112>m){if(0>(b-=4))break;c.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw Error("Invalid code point");}return c}function E(a){for(var m=[],g=0;g<a.length;++g)m.push(a.charCodeAt(g)&255);return m}function N(a,b,g,f){for(var m=0;m<f&&!(m+g>=b.length||m>=a.length);++m)b[m+g]=a[m];return m}function J(a,b){return a instanceof b||null!=a&&null!=a.constructor&&null!=a.constructor.name&&
a.constructor.name===b.name}var L=d("base64-js"),I=d("ieee754");h.Buffer=a;h.SlowBuffer=function(m){+m!=m&&(m=0);return a.alloc(+m)};h.INSPECT_MAX_BYTES=50;h.kMaxLength=2147483647;a.TYPED_ARRAY_SUPPORT=function(){try{var a=new Uint8Array(1);a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===a.foo()}catch(C){return!1}}();a.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}});Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});"undefined"!==typeof Symbol&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1});a.poolSize=8192;a.from=function(a,b,g){return k(a,b,g)};a.prototype.__proto__=Uint8Array.prototype;
a.__proto__=Uint8Array;a.alloc=function(a,b,g){q(a);a=0>=a?c(a):void 0!==b?"string"===typeof g?c(a).fill(b,g):c(a).fill(b):c(a);return a};a.allocUnsafe=function(a){return B(a)};a.allocUnsafeSlow=function(a){return B(a)};a.isBuffer=function(m){return null!=m&&!0===m._isBuffer&&m!==a.prototype};a.compare=function(m,b){J(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength));J(b,Uint8Array)&&(b=a.from(b,b.offset,b.byteLength));if(!a.isBuffer(m)||!a.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');
if(m===b)return 0;for(var g=m.length,f=b.length,e=0,c=Math.min(g,f);e<c;++e)if(m[e]!==b[e]){g=m[e];f=b[e];break}return g<f?-1:f<g?1:0};a.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};a.concat=function(m,b){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(0===m.length)return a.alloc(0);
var g;if(void 0===b)for(g=b=0;g<m.length;++g)b+=m[g].length;b=a.allocUnsafe(b);var f=0;for(g=0;g<m.length;++g){var e=m[g];J(e,Uint8Array)&&(e=a.from(e));if(!a.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(b,f);f+=e.length}return b};a.byteLength=v;a.prototype._isBuffer=!0;a.prototype.swap16=function(){var a=this.length;if(0!==a%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<a;b+=2)r(this,b,b+1);return this};a.prototype.swap32=
function(){var a=this.length;if(0!==a%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)r(this,b,b+3),r(this,b+1,b+2);return this};a.prototype.swap64=function(){var a=this.length;if(0!==a%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)r(this,b,b+7),r(this,b+1,b+6),r(this,b+2,b+5),r(this,b+3,b+4);return this};a.prototype.toString=function(){var a=this.length;return 0===a?"":0===arguments.length?G(this,0,a):t.apply(this,
arguments)};a.prototype.toLocaleString=a.prototype.toString;a.prototype.equals=function(b){if(!a.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:0===a.compare(this,b)};a.prototype.inspect=function(){var a=h.INSPECT_MAX_BYTES;var b=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim();this.length>a&&(b+=" ... ");return"<Buffer "+b+">"};a.prototype.compare=function(b,e,g,f,c){J(b,Uint8Array)&&(b=a.from(b,b.offset,b.byteLength));if(!a.isBuffer(b))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+
typeof b);void 0===e&&(e=0);void 0===g&&(g=b?b.length:0);void 0===f&&(f=0);void 0===c&&(c=this.length);if(0>e||g>b.length||0>f||c>this.length)throw new RangeError("out of range index");if(f>=c&&e>=g)return 0;if(f>=c)return-1;if(e>=g)return 1;e>>>=0;g>>>=0;f>>>=0;c>>>=0;if(this===b)return 0;var m=c-f,p=g-e,d=Math.min(m,p);f=this.slice(f,c);b=b.slice(e,g);for(e=0;e<d;++e)if(f[e]!==b[e]){m=f[e];p=b[e];break}return m<p?-1:p<m?1:0};a.prototype.includes=function(a,b,g){return-1!==this.indexOf(a,b,g)};a.prototype.indexOf=
function(a,b,g){return x(this,a,b,g,!0)};a.prototype.lastIndexOf=function(a,b,g){return x(this,a,b,g,!1)};a.prototype.write=function(a,b,g,f){if(void 0===b)f="utf8",g=this.length,b=0;else if(void 0===g&&"string"===typeof b)f=b,g=this.length,b=0;else if(isFinite(b))b>>>=0,isFinite(g)?(g>>>=0,void 0===f&&(f="utf8")):(f=g,g=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var m=this.length-b;if(void 0===g||g>m)g=m;if(0<a.length&&(0>g||0>b)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");
f||(f="utf8");for(m=!1;;)switch(f){case "hex":a:{b=Number(b)||0;f=this.length-b;g?(g=Number(g),g>f&&(g=f)):g=f;f=a.length;g>f/2&&(g=f/2);for(f=0;f<g;++f){m=parseInt(a.substr(2*f,2),16);if(m!==m){a=f;break a}this[b+f]=m}a=f}return a;case "utf8":case "utf-8":return N(l(a,this.length-b),this,b,g);case "ascii":return N(E(a),this,b,g);case "latin1":case "binary":return N(E(a),this,b,g);case "base64":return N(L.toByteArray(p(a)),this,b,g);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":f=a;m=this.length-
b;for(var e=[],c=0;c<f.length&&!(0>(m-=2));++c){var d=f.charCodeAt(c);a=d>>8;d%=256;e.push(d);e.push(a)}return N(e,this,b,g);default:if(m)throw new TypeError("Unknown encoding: "+f);f=(""+f).toLowerCase();m=!0}};a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;a.prototype.slice=function(b,e){var g=this.length;b=~~b;e=void 0===e?g:~~e;0>b?(b+=g,0>b&&(b=0)):b>g&&(b=g);0>e?(e+=g,0>e&&(e=0)):e>g&&(e=g);e<b&&(e=b);b=this.subarray(b,e);b.__proto__=
a.prototype;return b};a.prototype.readUIntLE=function(a,b,g){a>>>=0;b>>>=0;g||A(a,b,this.length);g=this[a];for(var f=1,m=0;++m<b&&(f*=256);)g+=this[a+m]*f;return g};a.prototype.readUIntBE=function(a,b,g){a>>>=0;b>>>=0;g||A(a,b,this.length);g=this[a+--b];for(var f=1;0<b&&(f*=256);)g+=this[a+--b]*f;return g};a.prototype.readUInt8=function(a,b){a>>>=0;b||A(a,1,this.length);return this[a]};a.prototype.readUInt16LE=function(a,b){a>>>=0;b||A(a,2,this.length);return this[a]|this[a+1]<<8};a.prototype.readUInt16BE=
function(a,b){a>>>=0;b||A(a,2,this.length);return this[a]<<8|this[a+1]};a.prototype.readUInt32LE=function(a,b){a>>>=0;b||A(a,4,this.length);return(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]};a.prototype.readUInt32BE=function(a,b){a>>>=0;b||A(a,4,this.length);return 16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])};a.prototype.readIntLE=function(a,b,g){a>>>=0;b>>>=0;g||A(a,b,this.length);g=this[a];for(var f=1,e=0;++e<b&&(f*=256);)g+=this[a+e]*f;g>=128*f&&(g-=Math.pow(2,8*b));return g};
a.prototype.readIntBE=function(a,b,g){a>>>=0;b>>>=0;g||A(a,b,this.length);g=b;for(var f=1,e=this[a+--g];0<g&&(f*=256);)e+=this[a+--g]*f;e>=128*f&&(e-=Math.pow(2,8*b));return e};a.prototype.readInt8=function(a,b){a>>>=0;b||A(a,1,this.length);return this[a]&128?-1*(255-this[a]+1):this[a]};a.prototype.readInt16LE=function(a,b){a>>>=0;b||A(a,2,this.length);a=this[a]|this[a+1]<<8;return a&32768?a|4294901760:a};a.prototype.readInt16BE=function(a,b){a>>>=0;b||A(a,2,this.length);a=this[a+1]|this[a]<<8;return a&
32768?a|4294901760:a};a.prototype.readInt32LE=function(a,b){a>>>=0;b||A(a,4,this.length);return this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24};a.prototype.readInt32BE=function(a,b){a>>>=0;b||A(a,4,this.length);return this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]};a.prototype.readFloatLE=function(a,b){a>>>=0;b||A(a,4,this.length);return I.read(this,a,!0,23,4)};a.prototype.readFloatBE=function(a,b){a>>>=0;b||A(a,4,this.length);return I.read(this,a,!1,23,4)};a.prototype.readDoubleLE=function(a,
b){a>>>=0;b||A(a,8,this.length);return I.read(this,a,!0,52,8)};a.prototype.readDoubleBE=function(a,b){a>>>=0;b||A(a,8,this.length);return I.read(this,a,!1,52,8)};a.prototype.writeUIntLE=function(a,b,g,f){a=+a;b>>>=0;g>>>=0;f||z(this,a,b,g,Math.pow(2,8*g)-1,0);f=1;var e=0;for(this[b]=a&255;++e<g&&(f*=256);)this[b+e]=a/f&255;return b+g};a.prototype.writeUIntBE=function(a,b,g,f){a=+a;b>>>=0;g>>>=0;f||z(this,a,b,g,Math.pow(2,8*g)-1,0);f=g-1;var e=1;for(this[b+f]=a&255;0<=--f&&(e*=256);)this[b+f]=a/e&
255;return b+g};a.prototype.writeUInt8=function(a,b,g){a=+a;b>>>=0;g||z(this,a,b,1,255,0);this[b]=a&255;return b+1};a.prototype.writeUInt16LE=function(a,b,g){a=+a;b>>>=0;g||z(this,a,b,2,65535,0);this[b]=a&255;this[b+1]=a>>>8;return b+2};a.prototype.writeUInt16BE=function(a,b,g){a=+a;b>>>=0;g||z(this,a,b,2,65535,0);this[b]=a>>>8;this[b+1]=a&255;return b+2};a.prototype.writeUInt32LE=function(a,b,g){a=+a;b>>>=0;g||z(this,a,b,4,4294967295,0);this[b+3]=a>>>24;this[b+2]=a>>>16;this[b+1]=a>>>8;this[b]=a&
255;return b+4};a.prototype.writeUInt32BE=function(a,b,g){a=+a;b>>>=0;g||z(this,a,b,4,4294967295,0);this[b]=a>>>24;this[b+1]=a>>>16;this[b+2]=a>>>8;this[b+3]=a&255;return b+4};a.prototype.writeIntLE=function(a,b,g,f){a=+a;b>>>=0;f||(f=Math.pow(2,8*g-1),z(this,a,b,g,f-1,-f));f=0;var e=1,c=0;for(this[b]=a&255;++f<g&&(e*=256);)0>a&&0===c&&0!==this[b+f-1]&&(c=1),this[b+f]=(a/e>>0)-c&255;return b+g};a.prototype.writeIntBE=function(a,b,g,f){a=+a;b>>>=0;f||(f=Math.pow(2,8*g-1),z(this,a,b,g,f-1,-f));f=g-
1;var e=1,c=0;for(this[b+f]=a&255;0<=--f&&(e*=256);)0>a&&0===c&&0!==this[b+f+1]&&(c=1),this[b+f]=(a/e>>0)-c&255;return b+g};a.prototype.writeInt8=function(a,b,g){a=+a;b>>>=0;g||z(this,a,b,1,127,-128);0>a&&(a=255+a+1);this[b]=a&255;return b+1};a.prototype.writeInt16LE=function(a,b,g){a=+a;b>>>=0;g||z(this,a,b,2,32767,-32768);this[b]=a&255;this[b+1]=a>>>8;return b+2};a.prototype.writeInt16BE=function(a,b,g){a=+a;b>>>=0;g||z(this,a,b,2,32767,-32768);this[b]=a>>>8;this[b+1]=a&255;return b+2};a.prototype.writeInt32LE=
function(a,b,g){a=+a;b>>>=0;g||z(this,a,b,4,2147483647,-2147483648);this[b]=a&255;this[b+1]=a>>>8;this[b+2]=a>>>16;this[b+3]=a>>>24;return b+4};a.prototype.writeInt32BE=function(a,b,g){a=+a;b>>>=0;g||z(this,a,b,4,2147483647,-2147483648);0>a&&(a=4294967295+a+1);this[b]=a>>>24;this[b+1]=a>>>16;this[b+2]=a>>>8;this[b+3]=a&255;return b+4};a.prototype.writeFloatLE=function(a,b,g){return e(this,a,b,!0,g)};a.prototype.writeFloatBE=function(a,b,g){return e(this,a,b,!1,g)};a.prototype.writeDoubleLE=function(a,
b,g){return y(this,a,b,!0,g)};a.prototype.writeDoubleBE=function(a,b,g){return y(this,a,b,!1,g)};a.prototype.copy=function(b,e,g,f){if(!a.isBuffer(b))throw new TypeError("argument should be a Buffer");g||(g=0);f||0===f||(f=this.length);e>=b.length&&(e=b.length);e||(e=0);0<f&&f<g&&(f=g);if(f===g||0===b.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>g||g>=this.length)throw new RangeError("Index out of range");if(0>f)throw new RangeError("sourceEnd out of bounds");
f>this.length&&(f=this.length);b.length-e<f-g&&(f=b.length-e+g);var c=f-g;if(this===b&&"function"===typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,g,f);else if(this===b&&g<e&&e<f)for(f=c-1;0<=f;--f)b[f+e]=this[f+g];else Uint8Array.prototype.set.call(b,this.subarray(g,f),e);return c};a.prototype.fill=function(b,e,g,f){if("string"===typeof b){"string"===typeof e?(f=e,e=0,g=this.length):"string"===typeof g&&(f=g,g=this.length);if(void 0!==f&&"string"!==typeof f)throw new TypeError("encoding must be a string");
if("string"===typeof f&&!a.isEncoding(f))throw new TypeError("Unknown encoding: "+f);if(1===b.length){var c=b.charCodeAt(0);if("utf8"===f&&128>c||"latin1"===f)b=c}}else"number"===typeof b&&(b&=255);if(0>e||this.length<e||this.length<g)throw new RangeError("Out of range index");if(g<=e)return this;e>>>=0;g=void 0===g?this.length:g>>>0;b||(b=0);if("number"===typeof b)for(f=e;f<g;++f)this[f]=b;else{c=a.isBuffer(b)?b:a.from(b,f);var p=c.length;if(0===p)throw new TypeError('The value "'+b+'" is invalid for argument "value"');
for(f=0;f<g-e;++f)this[f+e]=c[f%p]}return this};var H=/[^+/0-9A-Za-z-_]/g}).call(this,d("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:6}],4:[function(d,n,h){(function(a){h.isArray=function(a){return Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)};h.isBoolean=function(a){return"boolean"===typeof a};h.isNull=function(a){return null===a};h.isNullOrUndefined=function(a){return null==a};h.isNumber=function(a){return"number"===typeof a};h.isString=function(a){return"string"===
typeof a};h.isSymbol=function(a){return"symbol"===typeof a};h.isUndefined=function(a){return void 0===a};h.isRegExp=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)};h.isObject=function(a){return"object"===typeof a&&null!==a};h.isDate=function(a){return"[object Date]"===Object.prototype.toString.call(a)};h.isError=function(a){return"[object Error]"===Object.prototype.toString.call(a)||a instanceof Error};h.isFunction=function(a){return"function"===typeof a};h.isPrimitive=function(a){return null===
a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a};h.isBuffer=a.isBuffer}).call(this,{isBuffer:d("../../is-buffer/index.js")})},{"../../is-buffer/index.js":8}],5:[function(d,n,h){function a(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0);this._maxListeners=this._maxListeners||void 0}function c(b,c,e,d){var p;if("function"!==typeof e)throw new TypeError('"listener" argument must be a function');
if(p=b._events){p.newListener&&(b.emit("newListener",c,e.listener?e.listener:e),p=b._events);var l=p[c]}else p=b._events=r(null),b._eventsCount=0;l?("function"===typeof l?l=p[c]=d?[e,l]:[l,e]:d?l.unshift(e):l.push(e),l.warned||(e=void 0===b._maxListeners?a.defaultMaxListeners:b._maxListeners)&&0<e&&l.length>e&&(l.warned=!0,e=Error("Possible EventEmitter memory leak detected. "+l.length+' "'+String(c)+'" listeners added. Use emitter.setMaxListeners() to increase limit.'),e.name="MaxListenersExceededWarning",
e.emitter=b,e.type=c,e.count=l.length,"object"===typeof console&&console.warn&&console.warn("%s: %s",e.name,e.message))):(p[c]=e,++b._eventsCount);return b}function k(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],
arguments[1],arguments[2]);default:for(var a=Array(arguments.length),b=0;b<a.length;++b)a[b]=arguments[b];this.listener.apply(this.target,a)}}function q(a,b,e){a={fired:!1,wrapFn:void 0,target:a,type:b,listener:e};b=F.call(k,a);b.listener=e;return a.wrapFn=b}function B(a,c,e){a=a._events;if(!a)return[];c=a[c];if(!c)return[];if("function"===typeof c)return e?[c.listener||c]:[c];if(e)for(e=Array(c.length),a=0;a<e.length;++a)e[a]=c[a].listener||c[a];else e=b(c,c.length);return e}function D(a){var b=
this._events;if(b){a=b[a];if("function"===typeof a)return 1;if(a)return a.length}return 0}function b(a,b){for(var e=Array(b),c=0;c<b;++c)e[c]=a[c];return e}function u(a){var b=function(){};b.prototype=a;return new b}function v(a){var b=[],e;for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&b.push(e);return e}function t(a){var b=this;return function(){return b.apply(a,arguments)}}var r=Object.create||u,x=Object.keys||v,F=Function.prototype.bind||t;n.exports=a;a.EventEmitter=a;a.prototype._events=
void 0;a.prototype._maxListeners=void 0;var G=10;try{d={};Object.defineProperty&&Object.defineProperty(d,"x",{value:0});var A=0===d.x}catch(z){A=!1}A?Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return G},set:function(a){if("number"!==typeof a||0>a||a!==a)throw new TypeError('"defaultMaxListeners" must be a positive number');G=a}}):a.defaultMaxListeners=G;a.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw new TypeError('"n" argument must be a positive number');
this._maxListeners=a;return this};a.prototype.getMaxListeners=function(){return void 0===this._maxListeners?a.defaultMaxListeners:this._maxListeners};a.prototype.emit=function(a){var c,e,d;var p="error"===a;if(d=this._events)p=p&&null==d.error;else if(!p)return!1;if(p){1<arguments.length&&(c=arguments[1]);if(c instanceof Error)throw c;d=Error('Unhandled "error" event. ('+c+")");d.context=c;throw d;}c=d[a];if(!c)return!1;d="function"===typeof c;var l=arguments.length;switch(l){case 1:if(d)c.call(this);
else for(d=c.length,c=b(c,d),p=0;p<d;++p)c[p].call(this);break;case 2:p=arguments[1];if(d)c.call(this,p);else for(d=c.length,c=b(c,d),l=0;l<d;++l)c[l].call(this,p);break;case 3:p=arguments[1];l=arguments[2];if(d)c.call(this,p,l);else for(d=c.length,c=b(c,d),e=0;e<d;++e)c[e].call(this,p,l);break;case 4:p=arguments[1];l=arguments[2];e=arguments[3];if(d)c.call(this,p,l,e);else{d=c.length;c=b(c,d);for(var k=0;k<d;++k)c[k].call(this,p,l,e)}break;default:p=Array(l-1);for(e=1;e<l;e++)p[e-1]=arguments[e];
if(d)c.apply(this,p);else for(d=c.length,c=b(c,d),l=0;l<d;++l)c[l].apply(this,p)}return!0};a.prototype.addListener=function(a,b){return c(this,a,b,!1)};a.prototype.on=a.prototype.addListener;a.prototype.prependListener=function(a,b){return c(this,a,b,!0)};a.prototype.once=function(a,b){if("function"!==typeof b)throw new TypeError('"listener" argument must be a function');this.on(a,q(this,a,b));return this};a.prototype.prependOnceListener=function(a,b){if("function"!==typeof b)throw new TypeError('"listener" argument must be a function');
this.prependListener(a,q(this,a,b));return this};a.prototype.removeListener=function(a,b){var e;if("function"!==typeof b)throw new TypeError('"listener" argument must be a function');var c=this._events;if(!c)return this;var d=c[a];if(!d)return this;if(d===b||d.listener===b)0===--this._eventsCount?this._events=r(null):(delete c[a],c.removeListener&&this.emit("removeListener",a,d.listener||b));else if("function"!==typeof d){var l=-1;for(e=d.length-1;0<=e;e--)if(d[e]===b||d[e].listener===b){var k=d[e].listener;
l=e;break}if(0>l)return this;if(0===l)d.shift();else{e=l+1;for(var u=d.length;e<u;l+=1,e+=1)d[l]=d[e];d.pop()}1===d.length&&(c[a]=d[0]);c.removeListener&&this.emit("removeListener",a,k||b)}return this};a.prototype.removeAllListeners=function(a){var b=this._events;if(!b)return this;if(!b.removeListener)return 0===arguments.length?(this._events=r(null),this._eventsCount=0):b[a]&&(0===--this._eventsCount?this._events=r(null):delete b[a]),this;if(0===arguments.length){var e=x(b);for(b=0;b<e.length;++b){var c=
e[b];"removeListener"!==c&&this.removeAllListeners(c)}this.removeAllListeners("removeListener");this._events=r(null);this._eventsCount=0;return this}e=b[a];if("function"===typeof e)this.removeListener(a,e);else if(e)for(b=e.length-1;0<=b;b--)this.removeListener(a,e[b]);return this};a.prototype.listeners=function(a){return B(this,a,!0)};a.prototype.rawListeners=function(a){return B(this,a,!1)};a.listenerCount=function(a,b){return"function"===typeof a.listenerCount?a.listenerCount(b):D.call(a,b)};a.prototype.listenerCount=
D;a.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],6:[function(d,n,h){h.read=function(a,c,d,q,B){var k=8*B-q-1;var b=(1<<k)-1,u=b>>1,v=-7;B=d?B-1:0;var t=d?-1:1,h=a[c+B];B+=t;d=h&(1<<-v)-1;h>>=-v;for(v+=k;0<v;d=256*d+a[c+B],B+=t,v-=8);k=d&(1<<-v)-1;d>>=-v;for(v+=q;0<v;k=256*k+a[c+B],B+=t,v-=8);if(0===d)d=1-u;else{if(d===b)return k?NaN:Infinity*(h?-1:1);k+=Math.pow(2,q);d-=u}return(h?-1:1)*k*Math.pow(2,d-q)};h.write=function(a,c,d,q,h,D){var b,k=8*
D-h-1,v=(1<<k)-1,t=v>>1,B=23===h?Math.pow(2,-24)-Math.pow(2,-77):0;D=q?0:D-1;var x=q?1:-1,n=0>c||0===c&&0>1/c?1:0;c=Math.abs(c);isNaN(c)||Infinity===c?(c=isNaN(c)?1:0,q=v):(q=Math.floor(Math.log(c)/Math.LN2),1>c*(b=Math.pow(2,-q))&&(q--,b*=2),c=1<=q+t?c+B/b:c+B*Math.pow(2,1-t),2<=c*b&&(q++,b/=2),q+t>=v?(c=0,q=v):1<=q+t?(c=(c*b-1)*Math.pow(2,h),q+=t):(c=c*Math.pow(2,t-1)*Math.pow(2,h),q=0));for(;8<=h;a[d+D]=c&255,D+=x,c/=256,h-=8);q=q<<h|c;for(k+=h;0<k;a[d+D]=q&255,D+=x,q/=256,k-=8);a[d+D-x]|=128*
n}},{}],7:[function(d,n,h){n.exports="function"===typeof Object.create?function(a,c){c&&(a.super_=c,a.prototype=Object.create(c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:function(a,c){if(c){a.super_=c;var d=function(){};d.prototype=c.prototype;a.prototype=new d;a.prototype.constructor=a}}},{}],8:[function(d,n,h){function a(a){return!!a.constructor&&"function"===typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)}n.exports=function(c){return null!=c&&(a(c)||
"function"===typeof c.readFloatLE&&"function"===typeof c.slice&&a(c.slice(0,0))||!!c._isBuffer)}},{}],9:[function(d,n,h){var a={}.toString;n.exports=Array.isArray||function(c){return"[object Array]"==a.call(c)}},{}],10:[function(d,n,h){(function(a){function c(c,d,h,D){if("function"!==typeof c)throw new TypeError('"callback" argument must be a function');var b=arguments.length;switch(b){case 0:case 1:return a.nextTick(c);case 2:return a.nextTick(function(){c.call(null,d)});case 3:return a.nextTick(function(){c.call(null,
d,h)});case 4:return a.nextTick(function(){c.call(null,d,h,D)});default:var k=Array(b-1);for(b=0;b<k.length;)k[b++]=arguments[b];return a.nextTick(function(){c.apply(null,k)})}}"undefined"===typeof a||!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?n.exports={nextTick:c}:n.exports=a}).call(this,d("_process"))},{_process:11}],11:[function(d,n,h){function a(){throw Error("setTimeout has not been defined");}function c(){throw Error("clearTimeout has not been defined");
}function k(b){if(v===setTimeout)return setTimeout(b,0);if((v===a||!v)&&setTimeout)return v=setTimeout,setTimeout(b,0);try{return v(b,0)}catch(z){try{return v.call(null,b,0)}catch(K){return v.call(this,b,0)}}}function q(a){if(t===clearTimeout)return clearTimeout(a);if((t===c||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(a);try{return t(a)}catch(z){try{return t.call(null,a)}catch(K){return t.call(this,a)}}}function B(){x&&F&&(x=!1,F.length?r=F.concat(r):G=-1,r.length&&D())}function D(){if(!x){var a=
k(B);x=!0;for(var b=r.length;b;){F=r;for(r=[];++G<b;)F&&F[G].run();G=-1;b=r.length}F=null;x=!1;q(a)}}function b(a,b){this.fun=a;this.array=b}function u(){}d=n.exports={};try{var v="function"===typeof setTimeout?setTimeout:a}catch(A){v=a}try{var t="function"===typeof clearTimeout?clearTimeout:c}catch(A){t=c}var r=[],x=!1,F,G=-1;d.nextTick=function(a){var c=Array(arguments.length-1);if(1<arguments.length)for(var d=1;d<arguments.length;d++)c[d-1]=arguments[d];r.push(new b(a,c));1!==r.length||x||k(D)};
b.prototype.run=function(){this.fun.apply(null,this.array)};d.title="browser";d.browser=!0;d.env={};d.argv=[];d.version="";d.versions={};d.on=u;d.addListener=u;d.once=u;d.off=u;d.removeListener=u;d.removeAllListeners=u;d.emit=u;d.prependListener=u;d.prependOnceListener=u;d.listeners=function(a){return[]};d.binding=function(a){throw Error("process.binding is not supported");};d.cwd=function(){return"/"};d.chdir=function(a){throw Error("process.chdir is not supported");};d.umask=function(){return 0}},
{}],12:[function(d,n,h){n.exports=d("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":13}],13:[function(d,n,h){function a(b){if(!(this instanceof a))return new a(b);B.call(this,b);D.call(this,b);b&&!1===b.readable&&(this.readable=!1);b&&!1===b.writable&&(this.writable=!1);this.allowHalfOpen=!0;b&&!1===b.allowHalfOpen&&(this.allowHalfOpen=!1);this.once("end",c)}function c(){this.allowHalfOpen||this._writableState.ended||q.nextTick(k,this)}function k(a){a.end()}var q=d("process-nextick-args");
h=Object.keys||function(a){var b=[],c;for(c in a)b.push(c);return b};n.exports=a;n=Object.create(d("core-util-is"));n.inherits=d("inherits");var B=d("./_stream_readable"),D=d("./_stream_writable");n.inherits(a,B);d=h(D.prototype);for(n=0;n<d.length;n++)h=d[n],a.prototype[h]||(a.prototype[h]=D.prototype[h]);Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(a.prototype,"destroyed",{get:function(){return void 0===
this._readableState||void 0===this._writableState?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(a){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=a,this._writableState.destroyed=a)}});a.prototype._destroy=function(a,c){this.push(null);this.end();q.nextTick(c,a)}},{"./_stream_readable":15,"./_stream_writable":17,"core-util-is":4,inherits:7,"process-nextick-args":10}],14:[function(d,n,h){function a(d){if(!(this instanceof a))return new a(d);
c.call(this,d)}n.exports=a;var c=d("./_stream_transform");n=Object.create(d("core-util-is"));n.inherits=d("inherits");n.inherits(a,c);a.prototype._transform=function(a,c,d){d(null,a)}},{"./_stream_transform":16,"core-util-is":4,inherits:7}],15:[function(d,n,h){(function(a,c){function k(a,b,e){if("function"===typeof a.prependListener)return a.prependListener(b,e);if(a._events&&a._events[b])l(a._events[b])?a._events[b].unshift(e):a._events[b]=[e,a._events[b]];else a.on(b,e)}function q(a,b){E=E||d("./_stream_duplex");
a=a||{};b=b instanceof E;this.objectMode=!!a.objectMode;b&&(this.objectMode=this.objectMode||!!a.readableObjectMode);var f=a.highWaterMark,e=a.readableHighWaterMark,g=this.objectMode?16:16384;this.highWaterMark=f||0===f?f:b&&(e||0===e)?e:g;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=new H;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.reading=this.endEmitted=this.ended=!1;this.sync=!0;this.destroyed=this.resumeScheduled=this.readableListening=this.emittedReadable=
this.needReadable=!1;this.defaultEncoding=a.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=!1;this.encoding=this.decoder=null;a.encoding&&(m||(m=d("string_decoder/").StringDecoder),this.decoder=new m(a.encoding),this.encoding=a.encoding)}function h(a){E=E||d("./_stream_duplex");if(!(this instanceof h))return new h(a);this._readableState=new q(a,this);this.readable=!0;a&&("function"===typeof a.read&&(this._read=a.read),"function"===typeof a.destroy&&(this._destroy=a.destroy));N.call(this)}
function D(a,f,e,c,d){var g=a._readableState;if(null===f)g.reading=!1,g.ended||(g.decoder&&(f=g.decoder.end())&&f.length&&(g.buffer.push(f),g.length+=g.objectMode?1:f.length),g.ended=!0,v(a));else{if(!d){d=f;var l;J.isBuffer(d)||d instanceof L||"string"===typeof d||void 0===d||g.objectMode||(l=new TypeError("Invalid non-string/buffer chunk"));var m=l}m?a.emit("error",m):g.objectMode||f&&0<f.length?("string"===typeof f||g.objectMode||Object.getPrototypeOf(f)===J.prototype||(f=J.from(f)),c?g.endEmitted?
a.emit("error",Error("stream.unshift() after end event")):b(a,g,f,!0):g.ended?a.emit("error",Error("stream.push() after EOF")):(g.reading=!1,g.decoder&&!e?(f=g.decoder.write(f),g.objectMode||0!==f.length?b(a,g,f,!1):g.readingMore||(g.readingMore=!0,p.nextTick(r,a,g))):b(a,g,f,!1))):c||(g.reading=!1)}return!g.ended&&(g.needReadable||g.length<g.highWaterMark||0===g.length)}function b(a,b,e,c){b.flowing&&0===b.length&&!b.sync?(a.emit("data",e),a.read(0)):(b.length+=b.objectMode?1:e.length,c?b.buffer.unshift(e):
b.buffer.push(e),b.needReadable&&v(a));b.readingMore||(b.readingMore=!0,p.nextTick(r,a,b))}function u(a,b){if(0>=a||0===b.length&&b.ended)return 0;if(b.objectMode)return 1;if(a!==a)return b.flowing&&b.length?b.buffer.head.data.length:b.length;if(a>b.highWaterMark){var f=a;8388608<=f?f=8388608:(f--,f|=f>>>1,f|=f>>>2,f|=f>>>4,f|=f>>>8,f|=f>>>16,f++);b.highWaterMark=f}return a<=b.length?a:b.ended?b.length:(b.needReadable=!0,0)}function v(a){var b=a._readableState;b.needReadable=!1;b.emittedReadable||
(w("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?p.nextTick(t,a):t(a))}function t(a){w("emit readable");a.emit("readable");A(a)}function r(a,b){for(var f=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(w("maybeReadMore read 0"),a.read(0),f!==b.length);)f=b.length;b.readingMore=!1}function x(a){return function(){var b=a._readableState;w("pipeOnDrain",b.awaitDrain);b.awaitDrain&&b.awaitDrain--;0===b.awaitDrain&&a.listeners("data").length&&(b.flowing=!0,A(a))}}function F(a){w("readable nexttick read 0");
a.read(0)}function G(a,b){b.reading||(w("resume read 0"),a.read(0));b.resumeScheduled=!1;b.awaitDrain=0;a.emit("resume");A(a);b.flowing&&!b.reading&&a.read(0)}function A(a){var b=a._readableState;for(w("flow",b.flowing);b.flowing&&null!==a.read(););}function z(a,b){if(0===b.length)return null;if(b.objectMode)var e=b.buffer.shift();else if(!a||a>=b.length)e=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.head.data:b.buffer.concat(b.length),b.buffer.clear();else{e=b.buffer;b=b.decoder;if(a<
e.head.data.length)b=e.head.data.slice(0,a),e.head.data=e.head.data.slice(a);else{if(a===e.head.data.length)e=e.shift();else if(b){b=e.head;var f=1,g=b.data;for(a-=g.length;b=b.next;){var c=b.data,d=a>c.length?c.length:a;g=d===c.length?g+c:g+c.slice(0,a);a-=d;if(0===a){d===c.length?(++f,e.head=b.next?b.next:e.tail=null):(e.head=b,b.data=c.slice(d));break}++f}e.length-=f;e=g}else{b=J.allocUnsafe(a);f=e.head;g=1;f.data.copy(b);for(a-=f.data.length;f=f.next;){c=f.data;d=a>c.length?c.length:a;c.copy(b,
b.length-a,0,d);a-=d;if(0===a){d===c.length?(++g,e.head=f.next?f.next:e.tail=null):(e.head=f,f.data=c.slice(d));break}++g}e.length-=g;e=b}b=e}e=b}return e}function K(a){var b=a._readableState;if(0<b.length)throw Error('"endReadable()" called on non-empty stream');b.endEmitted||(b.ended=!0,p.nextTick(e,b,a))}function e(a,b){a.endEmitted||0!==a.length||(a.endEmitted=!0,b.readable=!1,b.emit("end"))}function y(a,b){for(var e=0,f=a.length;e<f;e++)if(a[e]===b)return e;return-1}var p=d("process-nextick-args");
n.exports=h;var l=d("isarray"),E;h.ReadableState=q;d("events");var N=d("./internal/streams/stream"),J=d("safe-buffer").Buffer,L=c.Uint8Array||function(){};c=Object.create(d("core-util-is"));c.inherits=d("inherits");var I=d("util"),w=void 0;w=I&&I.debuglog?I.debuglog("stream"):function(){};var H=d("./internal/streams/BufferList");I=d("./internal/streams/destroy");var m;c.inherits(h,N);var C=["error","close","destroy","pause","resume"];Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0===
this._readableState?!1:this._readableState.destroyed},set:function(a){this._readableState&&(this._readableState.destroyed=a)}});h.prototype.destroy=I.destroy;h.prototype._undestroy=I.undestroy;h.prototype._destroy=function(a,b){this.push(null);b(a)};h.prototype.push=function(a,b){var e=this._readableState;if(e.objectMode)var f=!0;else"string"===typeof a&&(b=b||e.defaultEncoding,b!==e.encoding&&(a=J.from(a,b),b=""),f=!0);return D(this,a,b,!1,f)};h.prototype.unshift=function(a){return D(this,a,null,
!0,!1)};h.prototype.isPaused=function(){return!1===this._readableState.flowing};h.prototype.setEncoding=function(a){m||(m=d("string_decoder/").StringDecoder);this._readableState.decoder=new m(a);this._readableState.encoding=a;return this};h.prototype.read=function(a){w("read",a);a=parseInt(a,10);var b=this._readableState,e=a;0!==a&&(b.emittedReadable=!1);if(0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return w("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?K(this):v(this),
null;a=u(a,b);if(0===a&&b.ended)return 0===b.length&&K(this),null;var c=b.needReadable;w("need readable",c);if(0===b.length||b.length-a<b.highWaterMark)c=!0,w("length less than watermark",c);b.ended||b.reading?w("reading or ended",!1):c&&(w("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(a=u(e,b)));c=0<a?z(a,b):null;null===c?(b.needReadable=!0,a=0):b.length-=a;0===b.length&&(b.ended||(b.needReadable=!0),e!==a&&b.ended&&K(this));
null!==c&&this.emit("data",c);return c};h.prototype._read=function(a){this.emit("error",Error("_read() is not implemented"))};h.prototype.pipe=function(b,e){function f(a,e){w("onunpipe");a===u&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,w("cleanup"),b.removeListener("close",l),b.removeListener("finish",m),b.removeListener("drain",h),b.removeListener("error",g),b.removeListener("unpipe",f),u.removeListener("end",c),u.removeListener("end",E),u.removeListener("data",d),q=!0,!t.awaitDrain||b._writableState&&
!b._writableState.needDrain||h())}function c(){w("onend");b.end()}function d(a){w("ondata");U=!1;!1!==b.write(a)||U||((1===t.pipesCount&&t.pipes===b||1<t.pipesCount&&-1!==y(t.pipes,b))&&!q&&(w("false write response, pause",u._readableState.awaitDrain),u._readableState.awaitDrain++,U=!0),u.pause())}function g(a){w("onerror",a);E();b.removeListener("error",g);0===b.listeners("error").length&&b.emit("error",a)}function l(){b.removeListener("finish",m);E()}function m(){w("onfinish");b.removeListener("close",
l);E()}function E(){w("unpipe");u.unpipe(b)}var u=this,t=this._readableState;switch(t.pipesCount){case 0:t.pipes=b;break;case 1:t.pipes=[t.pipes,b];break;default:t.pipes.push(b)}t.pipesCount+=1;w("pipe count=%d opts=%j",t.pipesCount,e);e=e&&!1===e.end||b===a.stdout||b===a.stderr?E:c;if(t.endEmitted)p.nextTick(e);else u.once("end",e);b.on("unpipe",f);var h=x(u);b.on("drain",h);var q=!1,U=!1;u.on("data",d);k(b,"error",g);b.once("close",l);b.once("finish",m);b.emit("pipe",u);t.flowing||(w("pipe resume"),
u.resume());return b};h.prototype.unpipe=function(a){var b=this._readableState,e={hasUnpiped:!1};if(0===b.pipesCount)return this;if(1===b.pipesCount){if(a&&a!==b.pipes)return this;a||(a=b.pipes);b.pipes=null;b.pipesCount=0;b.flowing=!1;a&&a.emit("unpipe",this,e);return this}if(!a){a=b.pipes;var c=b.pipesCount;b.pipes=null;b.pipesCount=0;b.flowing=!1;for(b=0;b<c;b++)a[b].emit("unpipe",this,e);return this}c=y(b.pipes,a);if(-1===c)return this;b.pipes.splice(c,1);--b.pipesCount;1===b.pipesCount&&(b.pipes=
b.pipes[0]);a.emit("unpipe",this,e);return this};h.prototype.on=function(a,b){b=N.prototype.on.call(this,a,b);"data"===a?!1!==this._readableState.flowing&&this.resume():"readable"===a&&(a=this._readableState,a.endEmitted||a.readableListening||(a.readableListening=a.needReadable=!0,a.emittedReadable=!1,a.reading?a.length&&v(this):p.nextTick(F,this)));return b};h.prototype.addListener=h.prototype.on;h.prototype.resume=function(){var a=this._readableState;a.flowing||(w("resume"),a.flowing=!0,a.resumeScheduled||
(a.resumeScheduled=!0,p.nextTick(G,this,a)));return this};h.prototype.pause=function(){w("call pause flowing=%j",this._readableState.flowing);!1!==this._readableState.flowing&&(w("pause"),this._readableState.flowing=!1,this.emit("pause"));return this};h.prototype.wrap=function(a){var b=this,e=this._readableState,c=!1;a.on("end",function(){w("wrapped end");if(e.decoder&&!e.ended){var a=e.decoder.end();a&&a.length&&b.push(a)}b.push(null)});a.on("data",function(f){w("wrapped data");e.decoder&&(f=e.decoder.write(f));
e.objectMode&&(null===f||void 0===f)||!(e.objectMode||f&&f.length)||b.push(f)||(c=!0,a.pause())});for(var d in a)void 0===this[d]&&"function"===typeof a[d]&&(this[d]=function(b){return function(){return a[b].apply(a,arguments)}}(d));for(d=0;d<C.length;d++)a.on(C[d],this.emit.bind(this,C[d]));this._read=function(b){w("wrapped _read",b);c&&(c=!1,a.resume())};return this};Object.defineProperty(h.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});
h._fromList=z}).call(this,d("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./_stream_duplex":13,"./internal/streams/BufferList":18,"./internal/streams/destroy":19,"./internal/streams/stream":20,_process:11,"core-util-is":4,events:5,inherits:7,isarray:9,"process-nextick-args":10,"safe-buffer":21,"string_decoder/":22,util:2}],16:[function(d,n,h){function a(a,b){var c=this._transformState;c.transforming=!1;var d=c.writecb;if(!d)return this.emit("error",
Error("write callback called multiple times"));c.writechunk=null;c.writecb=null;null!=b&&this.push(b);d(a);a=this._readableState;a.reading=!1;(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function c(d){if(!(this instanceof c))return new c(d);B.call(this,d);this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=!0;this._readableState.sync=!1;d&&("function"===typeof d.transform&&
(this._transform=d.transform),"function"===typeof d.flush&&(this._flush=d.flush));this.on("prefinish",k)}function k(){var a=this;"function"===typeof this._flush?this._flush(function(b,c){q(a,b,c)}):q(this,null,null)}function q(a,b,c){if(b)return a.emit("error",b);null!=c&&a.push(c);if(a._writableState.length)throw Error("Calling transform done when ws.length != 0");if(a._transformState.transforming)throw Error("Calling transform done when still transforming");return a.push(null)}n.exports=c;var B=
d("./_stream_duplex");n=Object.create(d("core-util-is"));n.inherits=d("inherits");n.inherits(c,B);c.prototype.push=function(a,b){this._transformState.needTransform=!1;return B.prototype.push.call(this,a,b)};c.prototype._transform=function(a,b,c){throw Error("_transform() is not implemented");};c.prototype._write=function(a,b,c){var d=this._transformState;d.writecb=c;d.writechunk=a;d.writeencoding=b;d.transforming||(a=this._readableState,(d.needTransform||a.needReadable||a.length<a.highWaterMark)&&
this._read(a.highWaterMark))};c.prototype._read=function(a){a=this._transformState;null!==a.writechunk&&a.writecb&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0};c.prototype._destroy=function(a,b){var c=this;B.prototype._destroy.call(this,a,function(a){b(a);c.emit("close")})}},{"./_stream_duplex":13,"core-util-is":4,inherits:7}],17:[function(d,n,h){(function(a,c,k){function h(a){var b=this;this.entry=this.next=null;this.finish=
function(){var e=b.entry;for(b.entry=null;e;){var c=e.callback;a.pendingcb--;c(void 0);e=e.next}a.corkedRequestsFree?a.corkedRequestsFree.next=b:a.corkedRequestsFree=b}}function B(){}function D(a,b){z=z||d("./_stream_duplex");a=a||{};var e=b instanceof z;this.objectMode=!!a.objectMode;e&&(this.objectMode=this.objectMode||!!a.writableObjectMode);var c=a.highWaterMark,p=a.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:e&&(p||0===p)?p:l;this.highWaterMark=Math.floor(this.highWaterMark);
this.destroyed=this.finished=this.ended=this.ending=this.needDrain=this.finalCalled=!1;this.decodeStrings=!1!==a.decodeStrings;this.defaultEncoding=a.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.corked=0;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(a){var e=b._writableState,c=e.sync,d=e.writecb;e.writing=!1;e.writecb=null;e.length-=e.writelen;e.writelen=0;a?(--e.pendingcb,c?(G.nextTick(d,a),G.nextTick(F,b,e),b._writableState.errorEmitted=!0,b.emit("error",a)):(d(a),b._writableState.errorEmitted=
!0,b.emit("error",a),F(b,e))):((a=r(e))||e.corked||e.bufferProcessing||!e.bufferedRequest||t(b,e),c?A(v,b,e,a,d):v(b,e,a,d))};this.writecb=null;this.writelen=0;this.lastBufferedRequest=this.bufferedRequest=null;this.pendingcb=0;this.errorEmitted=this.prefinished=!1;this.bufferedRequestCount=0;this.corkedRequestsFree=new h(this)}function b(a){z=z||d("./_stream_duplex");if(!(l.call(b,this)||this instanceof z))return new b(a);this._writableState=new D(a,this);this.writable=!0;a&&("function"===typeof a.write&&
(this._write=a.write),"function"===typeof a.writev&&(this._writev=a.writev),"function"===typeof a.destroy&&(this._destroy=a.destroy),"function"===typeof a.final&&(this._final=a.final));e.call(this)}function u(a,b,e,c,d,p,l){b.writelen=c;b.writecb=l;b.writing=!0;b.sync=!0;e?a._writev(d,b.onwrite):a._write(d,p,b.onwrite);b.sync=!1}function v(a,b,e,c){!e&&0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"));b.pendingcb--;c();F(a,b)}function t(a,b){b.bufferProcessing=!0;var e=b.bufferedRequest;
if(a._writev&&e&&e.next){var c=Array(b.bufferedRequestCount),d=b.corkedRequestsFree;d.entry=e;for(var p=0,l=!0;e;)c[p]=e,e.isBuf||(l=!1),e=e.next,p+=1;c.allBuffers=l;u(a,b,!0,b.length,c,"",d.finish);b.pendingcb++;b.lastBufferedRequest=null;d.next?(b.corkedRequestsFree=d.next,d.next=null):b.corkedRequestsFree=new h(b);b.bufferedRequestCount=0}else{for(;e&&(c=e.chunk,u(a,b,!1,b.objectMode?1:c.length,c,e.encoding,e.callback),e=e.next,b.bufferedRequestCount--,!b.writing););null===e&&(b.lastBufferedRequest=
null)}b.bufferedRequest=e;b.bufferProcessing=!1}function r(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function x(a,b){a._final(function(e){b.pendingcb--;e&&a.emit("error",e);b.prefinished=!0;a.emit("prefinish");F(a,b)})}function F(a,b){var e=r(b);e&&(b.prefinished||b.finalCalled||("function"===typeof a._final?(b.pendingcb++,b.finalCalled=!0,G.nextTick(x,a,b)):(b.prefinished=!0,a.emit("prefinish"))),0===b.pendingcb&&(b.finished=!0,a.emit("finish")));return e}
var G=d("process-nextick-args");n.exports=b;var A=!a.browser&&-1<["v0.10","v0.9."].indexOf(a.version.slice(0,5))?k:G.nextTick,z;b.WritableState=D;a=Object.create(d("core-util-is"));a.inherits=d("inherits");var K={deprecate:d("util-deprecate")},e=d("./internal/streams/stream"),y=d("safe-buffer").Buffer,p=c.Uint8Array||function(){};c=d("./internal/streams/destroy");a.inherits(b,e);D.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b};(function(){try{Object.defineProperty(D.prototype,
"buffer",{get:K.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(E){}})();if("function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]){var l=Function.prototype[Symbol.hasInstance];Object.defineProperty(b,Symbol.hasInstance,{value:function(a){return l.call(this,a)?!0:this!==b?!1:a&&a._writableState instanceof D}})}else l=function(a){return a instanceof this};
b.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))};b.prototype.write=function(a,b,e){var c=this._writableState,d=!1,l;if(l=!c.objectMode)l=a,l=y.isBuffer(l)||l instanceof p;l&&!y.isBuffer(a)&&(a=y.from(a));"function"===typeof b&&(e=b,b=null);l?b="buffer":b||(b=c.defaultEncoding);"function"!==typeof e&&(e=B);if(c.ended)c=e,e=Error("write after end"),this.emit("error",e),G.nextTick(c,e);else{var k;if(!(k=l)){k=a;var m=e,t=!0,g=!1;null===k?g=new TypeError("May not write null values to stream"):
"string"===typeof k||void 0===k||c.objectMode||(g=new TypeError("Invalid non-string/buffer chunk"));g&&(this.emit("error",g),G.nextTick(m,g),t=!1);k=t}k&&(c.pendingcb++,d=l,d||(l=a,c.objectMode||!1===c.decodeStrings||"string"!==typeof l||(l=y.from(l,b)),a!==l&&(d=!0,b="buffer",a=l)),k=c.objectMode?1:a.length,c.length+=k,l=c.length<c.highWaterMark,l||(c.needDrain=!0),c.writing||c.corked?(k=c.lastBufferedRequest,c.lastBufferedRequest={chunk:a,encoding:b,isBuf:d,callback:e,next:null},k?k.next=c.lastBufferedRequest:
c.bufferedRequest=c.lastBufferedRequest,c.bufferedRequestCount+=1):u(this,c,!1,k,a,b,e),d=l)}return d};b.prototype.cork=function(){this._writableState.corked++};b.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.finished||a.bufferProcessing||!a.bufferedRequest||t(this,a))};b.prototype.setDefaultEncoding=function(a){"string"===typeof a&&(a=a.toLowerCase());if(!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((a+
"").toLowerCase())))throw new TypeError("Unknown encoding: "+a);this._writableState.defaultEncoding=a;return this};Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});b.prototype._write=function(a,b,e){e(Error("_write() is not implemented"))};b.prototype._writev=null;b.prototype.end=function(a,b,e){var c=this._writableState;"function"===typeof a?(e=a,b=a=null):"function"===typeof b&&(e=b,b=null);null!==a&&void 0!==a&&
this.write(a,b);c.corked&&(c.corked=1,this.uncork());if(!c.ending&&!c.finished){a=e;c.ending=!0;F(this,c);if(a)if(c.finished)G.nextTick(a);else this.once("finish",a);c.ended=!0;this.writable=!1}};Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0===this._writableState?!1:this._writableState.destroyed},set:function(a){this._writableState&&(this._writableState.destroyed=a)}});b.prototype.destroy=c.destroy;b.prototype._undestroy=c.undestroy;b.prototype._destroy=function(a,b){this.end();
b(a)}}).call(this,d("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},d("timers").setImmediate)},{"./_stream_duplex":13,"./internal/streams/destroy":19,"./internal/streams/stream":20,_process:11,"core-util-is":4,inherits:7,"process-nextick-args":10,"safe-buffer":21,timers:31,"util-deprecate":32}],18:[function(d,n,h){var a=d("safe-buffer").Buffer,c=d("util");n.exports=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
this.tail=this.head=null;this.length=0}c.prototype.push=function(a){a={data:a,next:null};0<this.length?this.tail.next=a:this.head=a;this.tail=a;++this.length};c.prototype.unshift=function(a){a={data:a,next:this.head};0===this.length&&(this.tail=a);this.head=a;++this.length};c.prototype.shift=function(){if(0!==this.length){var a=this.head.data;this.head=1===this.length?this.tail=null:this.head.next;--this.length;return a}};c.prototype.clear=function(){this.head=this.tail=null;this.length=0};c.prototype.join=
function(a){if(0===this.length)return"";for(var c=this.head,d=""+c.data;c=c.next;)d+=a+c.data;return d};c.prototype.concat=function(c){if(0===this.length)return a.alloc(0);if(1===this.length)return this.head.data;c=a.allocUnsafe(c>>>0);for(var d=this.head,k=0;d;)d.data.copy(c,k),k+=d.data.length,d=d.next;return c};return c}();c&&c.inspect&&c.inspect.custom&&(n.exports.prototype[c.inspect.custom]=function(){var a=c.inspect({length:this.length});return this.constructor.name+" "+a})},{"safe-buffer":21,
util:2}],19:[function(d,n,h){function a(a,c){a.emit("error",c)}var c=d("process-nextick-args");n.exports={destroy:function(d,h){var k=this,q=this._writableState&&this._writableState.destroyed;if(this._readableState&&this._readableState.destroyed||q)return h?h(d):!d||this._writableState&&this._writableState.errorEmitted||c.nextTick(a,this,d),this;this._readableState&&(this._readableState.destroyed=!0);this._writableState&&(this._writableState.destroyed=!0);this._destroy(d||null,function(b){!h&&b?(c.nextTick(a,
k,b),k._writableState&&(k._writableState.errorEmitted=!0)):h&&h(b)});return this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1);this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":10}],20:[function(d,n,h){n.exports=d("events").EventEmitter},
{events:5}],21:[function(d,n,h){function a(a,c){for(var b in a)c[b]=a[b]}function c(a,c,b){return q(a,c,b)}var k=d("buffer"),q=k.Buffer;q.from&&q.alloc&&q.allocUnsafe&&q.allocUnsafeSlow?n.exports=k:(a(k,h),h.Buffer=c);a(q,c);c.from=function(a,c,b){if("number"===typeof a)throw new TypeError("Argument must not be a number");return q(a,c,b)};c.alloc=function(a,c,b){if("number"!==typeof a)throw new TypeError("Argument must be a number");a=q(a);void 0!==c?"string"===typeof b?a.fill(c,b):a.fill(c):a.fill(0);
return a};c.allocUnsafe=function(a){if("number"!==typeof a)throw new TypeError("Argument must be a number");return q(a)};c.allocUnsafeSlow=function(a){if("number"!==typeof a)throw new TypeError("Argument must be a number");return k.SlowBuffer(a)}},{buffer:3}],22:[function(d,n,h){function a(a){if(!a)return"utf8";for(var b;;)switch(a){case "utf8":case "utf-8":return"utf8";case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return"utf16le";case "latin1":case "binary":return"latin1";case "base64":case "ascii":case "hex":return a;
default:if(b)return;a=(""+a).toLowerCase();b=!0}}function c(c){var d=a(c);if("string"!==typeof d&&(x.isEncoding===F||!F(c)))throw Error("Unknown encoding: "+c);this.encoding=d||c;switch(this.encoding){case "utf16le":this.text=D;this.end=b;c=4;break;case "utf8":this.fillLast=B;c=4;break;case "base64":this.text=u;this.end=v;c=3;break;default:this.write=t;this.end=r;return}this.lastTotal=this.lastNeed=0;this.lastChar=x.allocUnsafe(c)}function k(a){return 127>=a?0:6===a>>5?2:14===a>>4?3:30===a>>3?4:2===
a>>6?-1:-2}function q(a,b,c){var d=b.length-1;if(d<c)return 0;var e=k(b[d]);if(0<=e)return 0<e&&(a.lastNeed=e-1),e;if(--d<c||-2===e)return 0;e=k(b[d]);if(0<=e)return 0<e&&(a.lastNeed=e-2),e;if(--d<c||-2===e)return 0;e=k(b[d]);return 0<=e?(0<e&&(2===e?e=0:a.lastNeed=e-3),e):0}function B(a){var b=this.lastTotal-this.lastNeed;a:if(128!==(a[0]&192)){this.lastNeed=0;var c="\ufffd"}else{if(1<this.lastNeed&&1<a.length){if(128!==(a[1]&192)){this.lastNeed=1;c="\ufffd";break a}if(2<this.lastNeed&&2<a.length&&
128!==(a[2]&192)){this.lastNeed=2;c="\ufffd";break a}}c=void 0}if(void 0!==c)return c;if(this.lastNeed<=a.length)return a.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,b,0,a.length);this.lastNeed-=a.length}function D(a,b){if(0===(a.length-b)%2){if(b=a.toString("utf16le",b)){var c=b.charCodeAt(b.length-1);if(55296<=c&&56319>=c)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],b.slice(0,
-1)}return b}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=a[a.length-1];return a.toString("utf16le",b,a.length-1)}function b(a){a=a&&a.length?this.write(a):"";return this.lastNeed?a+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):a}function u(a,b){var c=(a.length-b)%3;if(0===c)return a.toString("base64",b);this.lastNeed=3-c;this.lastTotal=3;1===c?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]);return a.toString("base64",b,a.length-
c)}function v(a){a=a&&a.length?this.write(a):"";return this.lastNeed?a+this.lastChar.toString("base64",0,3-this.lastNeed):a}function t(a){return a.toString(this.encoding)}function r(a){return a&&a.length?this.write(a):""}var x=d("safe-buffer").Buffer,F=x.isEncoding||function(a){a=""+a;switch(a&&a.toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":case "raw":return!0;default:return!1}};h.StringDecoder=
c;c.prototype.write=function(a){if(0===a.length)return"";if(this.lastNeed){var b=this.fillLast(a);if(void 0===b)return"";var c=this.lastNeed;this.lastNeed=0}else c=0;return c<a.length?b?b+this.text(a,c):this.text(a,c):b||""};c.prototype.end=function(a){a=a&&a.length?this.write(a):"";return this.lastNeed?a+"\ufffd":a};c.prototype.text=function(a,b){var c=q(this,a,b);if(!this.lastNeed)return a.toString("utf8",b);this.lastTotal=c;c=a.length-(c-this.lastNeed);a.copy(this.lastChar,0,c);return a.toString("utf8",
b,c)};c.prototype.fillLast=function(a){if(this.lastNeed<=a.length)return a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length);this.lastNeed-=a.length}},{"safe-buffer":21}],23:[function(d,n,h){n.exports=d("./readable").PassThrough},{"./readable":24}],24:[function(d,n,h){h=n.exports=d("./lib/_stream_readable.js");h.Stream=h;h.Readable=h;h.Writable=d("./lib/_stream_writable.js");
h.Duplex=d("./lib/_stream_duplex.js");h.Transform=d("./lib/_stream_transform.js");h.PassThrough=d("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":13,"./lib/_stream_passthrough.js":14,"./lib/_stream_readable.js":15,"./lib/_stream_transform.js":16,"./lib/_stream_writable.js":17}],25:[function(d,n,h){n.exports=d("./readable").Transform},{"./readable":24}],26:[function(d,n,h){n.exports=d("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":17}],27:[function(d,n,h){function a(a,c){for(var b in a)c[b]=
a[b]}function c(a,c,b){return q(a,c,b)}var k=d("buffer"),q=k.Buffer;q.from&&q.alloc&&q.allocUnsafe&&q.allocUnsafeSlow?n.exports=k:(a(k,h),h.Buffer=c);c.prototype=Object.create(q.prototype);a(q,c);c.from=function(a,c,b){if("number"===typeof a)throw new TypeError("Argument must not be a number");return q(a,c,b)};c.alloc=function(a,c,b){if("number"!==typeof a)throw new TypeError("Argument must be a number");a=q(a);void 0!==c?"string"===typeof b?a.fill(c,b):a.fill(c):a.fill(0);return a};c.allocUnsafe=
function(a){if("number"!==typeof a)throw new TypeError("Argument must be a number");return q(a)};c.allocUnsafeSlow=function(a){if("number"!==typeof a)throw new TypeError("Argument must be a number");return k.SlowBuffer(a)}},{buffer:3}],28:[function(d,n,h){(function(a){(function(c){function k(a,b){if(!(this instanceof k))return new k(a,b);for(var e=0,d=p.length;e<d;e++)this[p[e]]="";this.q=this.c="";this.bufferCheckPosition=c.MAX_BUFFER_LENGTH;this.opt=b||{};this.opt.lowercase=this.opt.lowercase||
this.opt.lowercasetags;this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase";this.tags=[];this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.strict=!!a;this.noscript=!(!a&&!this.opt.noscript);this.state=f.BEGIN;this.ENTITIES=(this.strictEntities=this.opt.strictEntities)?Object.create(c.XML_ENTITIES):Object.create(c.ENTITIES);this.attribList=[];this.opt.xmlns&&(this.ns=Object.create(w));if(this.trackPosition=!1!==this.opt.position)this.position=this.line=this.column=
0;this.onready&&this.onready(void 0)}function h(a,b){if(!(this instanceof h))return new h(a,b);l.apply(this);this._parser=new k(a,b);this.readable=this.writable=!0;var e=this;this._parser.onend=function(){e.emit("end")};this._parser.onerror=function(a){e.emit("error",a);e._parser.error=null};this._decoder=null;E.forEach(function(a){Object.defineProperty(e,"on"+a,{get:function(){return e._parser["on"+a]},set:function(b){if(!b)return e.removeAllListeners(a),e._parser["on"+a]=b;e.on(a,b)},enumerable:!0,
configurable:!1})})}function n(a){return" "===a||"\n"===a||"\r"===a||"\t"===a}function D(a){return'"'===a||"'"===a}function b(a,b,e){a.textNode&&u(a);a[b]&&a[b](e)}function u(a){a.textNode=v(a.opt,a.textNode);a.textNode&&a.ontext&&a.ontext(a.textNode);a.textNode=""}function v(a,b){a.trim&&(b=b.trim());a.normalize&&(b=b.replace(/\s+/g," "));return b}function t(a,b){u(a);a.trackPosition&&(b+="\nLine: "+a.line+"\nColumn: "+a.column+"\nChar: "+a.c);b=Error(b);a.error=b;a.onerror&&a.onerror(b);return a}
function r(a){a.sawRoot&&!a.closedRoot&&x(a,"Unclosed root tag");a.state!==f.BEGIN&&a.state!==f.BEGIN_WHITESPACE&&a.state!==f.TEXT&&t(a,"Unexpected end");u(a);a.c="";a.closed=!0;a.onend&&a.onend(void 0);k.call(a,a.strict,a.opt);return a}function x(a,b){if("object"!==typeof a||!(a instanceof k))throw Error("bad call to strictFail");a.strict&&t(a,b)}function F(a,b){var e=0>a.indexOf(":")?["",a]:a.split(":"),c=e[0];e=e[1];b&&"xmlns"===a&&(c="xmlns",e="");return{prefix:c,local:e}}function G(a){a.strict||
(a.attribName=a.attribName[a.looseCase]());if(-1===a.attribList.indexOf(a.attribName)&&!a.tag.attributes.hasOwnProperty(a.attribName))if(a.opt.xmlns){var e=F(a.attribName,!0),c=e.local;if("xmlns"===e.prefix)if("xml"===c&&a.attribValue!==L)x(a,"xml: prefix must be bound to "+L+"\nActual: "+a.attribValue);else if("xmlns"===c&&a.attribValue!==I)x(a,"xmlns: prefix must be bound to "+I+"\nActual: "+a.attribValue);else{e=a.tag;var d=a.tags[a.tags.length-1]||a;e.ns===d.ns&&(e.ns=Object.create(d.ns));e.ns[c]=
a.attribValue}a.attribList.push([a.attribName,a.attribValue])}else a.tag.attributes[a.attribName]=a.attribValue,b(a,"onattribute",{name:a.attribName,value:a.attribValue});a.attribName=a.attribValue=""}function A(a,e){if(a.opt.xmlns){var c=a.tag,d=F(a.tagName);c.prefix=d.prefix;c.local=d.local;c.uri=c.ns[d.prefix]||"";c.prefix&&!c.uri&&(x(a,"Unbound namespace prefix: "+JSON.stringify(a.tagName)),c.uri=d.prefix);d=a.tags[a.tags.length-1]||a;c.ns&&d.ns!==c.ns&&Object.keys(c.ns).forEach(function(e){b(a,
"onopennamespace",{prefix:e,uri:c.ns[e]})});d=0;for(var g=a.attribList.length;d<g;d++){var p=a.attribList[d],l=p[0],k=p[1],m=F(l,!0);p=m.prefix;var u=""===p?"":c.ns[p]||"";k={name:l,value:k,prefix:p,local:m.local,uri:u};p&&"xmlns"!==p&&!u&&(x(a,"Unbound namespace prefix: "+JSON.stringify(p)),k.uri=p);a.tag.attributes[l]=k;b(a,"onattribute",k)}a.attribList.length=0}a.tag.isSelfClosing=!!e;a.sawRoot=!0;a.tags.push(a.tag);b(a,"onopentag",a.tag);e||(a.noscript||"script"!==a.tagName.toLowerCase()?a.state=
f.TEXT:a.state=f.SCRIPT,a.tag=null,a.tagName="");a.attribName=a.attribValue="";a.attribList.length=0}function z(a){if(a.tagName){if(a.script){if("script"!==a.tagName){a.script+="</"+a.tagName+">";a.tagName="";a.state=f.SCRIPT;return}b(a,"onscript",a.script);a.script=""}var e=a.tags.length,c=a.tagName;a.strict||(c=c[a.looseCase]());for(var d=c;e--;)if(a.tags[e].name!==d)x(a,"Unexpected close tag");else break;if(0>e)x(a,"Unmatched closing tag: "+a.tagName),a.textNode+="</"+a.tagName+">";else{a.tagName=
c;for(c=a.tags.length;c-- >e;){var g=a.tag=a.tags.pop();a.tagName=a.tag.name;b(a,"onclosetag",a.tagName);for(var p in g.ns);d=a.tags[a.tags.length-1]||a;a.opt.xmlns&&g.ns!==d.ns&&Object.keys(g.ns).forEach(function(e){b(a,"onclosenamespace",{prefix:e,uri:g.ns[e]})})}0===e&&(a.closedRoot=!0);a.tagName=a.attribValue=a.attribName="";a.attribList.length=0}}else x(a,"Weird empty close tag."),a.textNode+="</>";a.state=f.TEXT}function K(a){var b=a.entity,e=b.toLowerCase(),c="";if(a.ENTITIES[b])return a.ENTITIES[b];
if(a.ENTITIES[e])return a.ENTITIES[e];b=e;if("#"===b.charAt(0))if("x"===b.charAt(1)){b=b.slice(2);var d=parseInt(b,16);c=d.toString(16)}else b=b.slice(1),d=parseInt(b,10),c=d.toString(10);b=b.replace(/^0+/,"");return isNaN(d)||c.toLowerCase()!==b?(x(a,"Invalid character entity"),"&"+a.entity+";"):String.fromCodePoint(d)}function e(a,b){"<"===b?(a.state=f.OPEN_WAKA,a.startTagPosition=a.position):n(b)||(x(a,"Non-whitespace before first tag."),a.textNode=b,a.state=f.TEXT)}function y(a,b){var e="";b<
a.length&&(e=a.charAt(b));return e}c.parser=function(a,b){return new k(a,b)};c.SAXParser=k;c.SAXStream=h;c.createStream=function(a,b){return new h(a,b)};c.MAX_BUFFER_LENGTH=65536;var p="comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script".split(" ");c.EVENTS="text processinginstruction sgmldeclaration doctype comment opentagstart attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace".split(" ");
Object.create||(Object.create=function(a){function b(){}b.prototype=a;return new b});Object.keys||(Object.keys=function(a){var b=[],e;for(e in a)a.hasOwnProperty(e)&&b.push(e);return b});k.prototype={end:function(){r(this)},write:function(a){if(this.error)throw this.error;if(this.closed)return t(this,"Cannot write after close. Assign an onready handler.");if(null===a)return r(this);"object"===typeof a&&(a=a.toString());for(var d=0,l;;){this.c=l=y(a,d++);if(!l)break;this.trackPosition&&(this.position++,
"\n"===l?(this.line++,this.column=0):this.column++);switch(this.state){case f.BEGIN:this.state=f.BEGIN_WHITESPACE;if("\ufeff"===l)continue;e(this,l);continue;case f.BEGIN_WHITESPACE:e(this,l);continue;case f.TEXT:if(this.sawRoot&&!this.closedRoot){for(var k=d-1;l&&"<"!==l&&"&"!==l;)(l=y(a,d++))&&this.trackPosition&&(this.position++,"\n"===l?(this.line++,this.column=0):this.column++);this.textNode+=a.substring(k,d-1)}"<"!==l||this.sawRoot&&this.closedRoot&&!this.strict?(n(l)||this.sawRoot&&!this.closedRoot||
x(this,"Text data outside of root node."),"&"===l?this.state=f.TEXT_ENTITY:this.textNode+=l):(this.state=f.OPEN_WAKA,this.startTagPosition=this.position);continue;case f.SCRIPT:"<"===l?this.state=f.SCRIPT_ENDING:this.script+=l;continue;case f.SCRIPT_ENDING:"/"===l?this.state=f.CLOSE_TAG:(this.script+="<"+l,this.state=f.SCRIPT);continue;case f.OPEN_WAKA:"!"===l?(this.state=f.SGML_DECL,this.sgmlDecl=""):n(l)||(H.test(l)?(this.state=f.OPEN_TAG,this.tagName=l):"/"===l?(this.state=f.CLOSE_TAG,this.tagName=
""):"?"===l?(this.state=f.PROC_INST,this.procInstName=this.procInstBody=""):(x(this,"Unencoded <"),this.startTagPosition+1<this.position&&(l=Array(this.position-this.startTagPosition).join(" ")+l),this.textNode+="<"+l,this.state=f.TEXT));continue;case f.SGML_DECL:(this.sgmlDecl+l).toUpperCase()===N?(b(this,"onopencdata"),this.state=f.CDATA,this.cdata=this.sgmlDecl=""):"--"===this.sgmlDecl+l?(this.state=f.COMMENT,this.sgmlDecl=this.comment=""):(this.sgmlDecl+l).toUpperCase()===J?(this.state=f.DOCTYPE,
(this.doctype||this.sawRoot)&&x(this,"Inappropriately located doctype declaration"),this.sgmlDecl=this.doctype=""):">"===l?(b(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=f.TEXT):(D(l)&&(this.state=f.SGML_DECL_QUOTED),this.sgmlDecl+=l);continue;case f.SGML_DECL_QUOTED:l===this.q&&(this.state=f.SGML_DECL,this.q="");this.sgmlDecl+=l;continue;case f.DOCTYPE:">"===l?(this.state=f.TEXT,b(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=l,"["===l?this.state=f.DOCTYPE_DTD:
D(l)&&(this.state=f.DOCTYPE_QUOTED,this.q=l));continue;case f.DOCTYPE_QUOTED:this.doctype+=l;l===this.q&&(this.q="",this.state=f.DOCTYPE);continue;case f.DOCTYPE_DTD:this.doctype+=l;"]"===l?this.state=f.DOCTYPE:D(l)&&(this.state=f.DOCTYPE_DTD_QUOTED,this.q=l);continue;case f.DOCTYPE_DTD_QUOTED:this.doctype+=l;l===this.q&&(this.state=f.DOCTYPE_DTD,this.q="");continue;case f.COMMENT:"-"===l?this.state=f.COMMENT_ENDING:this.comment+=l;continue;case f.COMMENT_ENDING:"-"===l?(this.state=f.COMMENT_ENDED,
(this.comment=v(this.opt,this.comment))&&b(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+l,this.state=f.COMMENT);continue;case f.COMMENT_ENDED:">"!==l?(x(this,"Malformed comment"),this.comment+="--"+l,this.state=f.COMMENT):this.state=f.TEXT;continue;case f.CDATA:"]"===l?this.state=f.CDATA_ENDING:this.cdata+=l;continue;case f.CDATA_ENDING:"]"===l?this.state=f.CDATA_ENDING_2:(this.cdata+="]"+l,this.state=f.CDATA);continue;case f.CDATA_ENDING_2:">"===l?(this.cdata&&b(this,"oncdata",
this.cdata),b(this,"onclosecdata"),this.cdata="",this.state=f.TEXT):"]"===l?this.cdata+="]":(this.cdata+="]]"+l,this.state=f.CDATA);continue;case f.PROC_INST:"?"===l?this.state=f.PROC_INST_ENDING:n(l)?this.state=f.PROC_INST_BODY:this.procInstName+=l;continue;case f.PROC_INST_BODY:if(!this.procInstBody&&n(l))continue;else"?"===l?this.state=f.PROC_INST_ENDING:this.procInstBody+=l;continue;case f.PROC_INST_ENDING:">"===l?(b(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),
this.procInstName=this.procInstBody="",this.state=f.TEXT):(this.procInstBody+="?"+l,this.state=f.PROC_INST_BODY);continue;case f.OPEN_TAG:if(m.test(l))this.tagName+=l;else{this.strict||(this.tagName=this.tagName[this.looseCase]());k=this.tags[this.tags.length-1]||this;var h=this.tag={name:this.tagName,attributes:{}};this.opt.xmlns&&(h.ns=k.ns);this.attribList.length=0;b(this,"onopentagstart",h);">"===l?A(this):"/"===l?this.state=f.OPEN_TAG_SLASH:(n(l)||x(this,"Invalid character in tag name"),this.state=
f.ATTRIB)}continue;case f.OPEN_TAG_SLASH:">"===l?(A(this,!0),z(this)):(x(this,"Forward-slash in opening tag not followed by >"),this.state=f.ATTRIB);continue;case f.ATTRIB:if(n(l))continue;else">"===l?A(this):"/"===l?this.state=f.OPEN_TAG_SLASH:H.test(l)?(this.attribName=l,this.attribValue="",this.state=f.ATTRIB_NAME):x(this,"Invalid attribute name");continue;case f.ATTRIB_NAME:"="===l?this.state=f.ATTRIB_VALUE:">"===l?(x(this,"Attribute without value"),this.attribValue=this.attribName,G(this),A(this)):
n(l)?this.state=f.ATTRIB_NAME_SAW_WHITE:m.test(l)?this.attribName+=l:x(this,"Invalid attribute name");continue;case f.ATTRIB_NAME_SAW_WHITE:if("="===l)this.state=f.ATTRIB_VALUE;else if(n(l))continue;else x(this,"Attribute without value"),this.attribValue=this.tag.attributes[this.attribName]="",b(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===l?A(this):H.test(l)?(this.attribName=l,this.state=f.ATTRIB_NAME):(x(this,"Invalid attribute name"),this.state=f.ATTRIB);continue;
case f.ATTRIB_VALUE:if(n(l))continue;else D(l)?(this.q=l,this.state=f.ATTRIB_VALUE_QUOTED):(x(this,"Unquoted attribute value"),this.state=f.ATTRIB_VALUE_UNQUOTED,this.attribValue=l);continue;case f.ATTRIB_VALUE_QUOTED:if(l!==this.q){"&"===l?this.state=f.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=l;continue}G(this);this.q="";this.state=f.ATTRIB_VALUE_CLOSED;continue;case f.ATTRIB_VALUE_CLOSED:n(l)?this.state=f.ATTRIB:">"===l?A(this):"/"===l?this.state=f.OPEN_TAG_SLASH:H.test(l)?(x(this,"No whitespace between attributes"),
this.attribName=l,this.attribValue="",this.state=f.ATTRIB_NAME):x(this,"Invalid attribute name");continue;case f.ATTRIB_VALUE_UNQUOTED:if(">"!==l&&!n(l)){"&"===l?this.state=f.ATTRIB_VALUE_ENTITY_U:this.attribValue+=l;continue}G(this);">"===l?A(this):this.state=f.ATTRIB;continue;case f.CLOSE_TAG:if(this.tagName)">"===l?z(this):m.test(l)?this.tagName+=l:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=f.SCRIPT):(n(l)||x(this,"Invalid tagname in closing tag"),this.state=f.CLOSE_TAG_SAW_WHITE);
else if(n(l))continue;else H.test(l)?this.tagName=l:this.script?(this.script+="</"+l,this.state=f.SCRIPT):x(this,"Invalid tagname in closing tag.");continue;case f.CLOSE_TAG_SAW_WHITE:if(n(l))continue;">"===l?z(this):x(this,"Invalid characters in closing tag");continue;case f.TEXT_ENTITY:case f.ATTRIB_VALUE_ENTITY_Q:case f.ATTRIB_VALUE_ENTITY_U:switch(this.state){case f.TEXT_ENTITY:var q=f.TEXT;var E="textNode";break;case f.ATTRIB_VALUE_ENTITY_Q:q=f.ATTRIB_VALUE_QUOTED;E="attribValue";break;case f.ATTRIB_VALUE_ENTITY_U:q=
f.ATTRIB_VALUE_UNQUOTED,E="attribValue"}";"===l?(this[E]+=K(this),this.entity="",this.state=q):(this.entity.length?g:C).test(l)?this.entity+=l:(x(this,"Invalid character in entity name"),this[E]+="&"+this.entity+l,this.entity="",this.state=q);continue;default:throw Error(this,"Unknown state: "+this.state);}}if(this.position>=this.bufferCheckPosition){a=Math.max(c.MAX_BUFFER_LENGTH,10);l=d=0;for(q=p.length;l<q;l++){E=this[p[l]].length;if(E>a)switch(p[l]){case "textNode":u(this);break;case "cdata":b(this,
"oncdata",this.cdata);this.cdata="";break;case "script":b(this,"onscript",this.script);this.script="";break;default:t(this,"Max buffer length exceeded: "+p[l])}d=Math.max(d,E)}this.bufferCheckPosition=c.MAX_BUFFER_LENGTH-d+this.position}return this},resume:function(){this.error=null;return this},close:function(){return this.write(null)},flush:function(){u(this);""!==this.cdata&&(b(this,"oncdata",this.cdata),this.cdata="");""!==this.script&&(b(this,"onscript",this.script),this.script="")}};try{var l=
d("stream").Stream}catch(Q){l=function(){}}var E=c.EVENTS.filter(function(a){return"error"!==a&&"end"!==a});h.prototype=Object.create(l.prototype,{constructor:{value:h}});h.prototype.write=function(b){"function"===typeof a&&"function"===typeof a.isBuffer&&a.isBuffer(b)&&(this._decoder||(this._decoder=new (d("string_decoder").StringDecoder)("utf8")),b=this._decoder.write(b));this._parser.write(b.toString());this.emit("data",b);return!0};h.prototype.end=function(a){a&&a.length&&this.write(a);this._parser.end();
return!0};h.prototype.on=function(a,b){var e=this;e._parser["on"+a]||-1===E.indexOf(a)||(e._parser["on"+a]=function(){var b=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);b.splice(0,0,a);e.emit.apply(e,b)});return l.prototype.on.call(e,a,b)};var N="[CDATA[",J="DOCTYPE",L="http://www.w3.org/XML/1998/namespace",I="http://www.w3.org/2000/xmlns/",w={xml:L,xmlns:I},H=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,
m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,C=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,g=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,
f=0;c.STATE={BEGIN:f++,BEGIN_WHITESPACE:f++,TEXT:f++,TEXT_ENTITY:f++,OPEN_WAKA:f++,SGML_DECL:f++,SGML_DECL_QUOTED:f++,DOCTYPE:f++,DOCTYPE_QUOTED:f++,DOCTYPE_DTD:f++,DOCTYPE_DTD_QUOTED:f++,COMMENT_STARTING:f++,COMMENT:f++,COMMENT_ENDING:f++,COMMENT_ENDED:f++,CDATA:f++,CDATA_ENDING:f++,CDATA_ENDING_2:f++,PROC_INST:f++,PROC_INST_BODY:f++,PROC_INST_ENDING:f++,OPEN_TAG:f++,OPEN_TAG_SLASH:f++,ATTRIB:f++,ATTRIB_NAME:f++,ATTRIB_NAME_SAW_WHITE:f++,ATTRIB_VALUE:f++,ATTRIB_VALUE_QUOTED:f++,ATTRIB_VALUE_CLOSED:f++,
ATTRIB_VALUE_UNQUOTED:f++,ATTRIB_VALUE_ENTITY_Q:f++,ATTRIB_VALUE_ENTITY_U:f++,CLOSE_TAG:f++,CLOSE_TAG_SAW_WHITE:f++,SCRIPT:f++,SCRIPT_ENDING:f++};c.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};c.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,
THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,
laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,
Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,
lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,
ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(c.ENTITIES).forEach(function(a){var b=c.ENTITIES[a];b="number"===typeof b?String.fromCharCode(b):b;c.ENTITIES[a]=b});for(var R in c.STATE)c.STATE[c.STATE[R]]=R;f=c.STATE;String.fromCodePoint||function(){var a=String.fromCharCode,b=Math.floor,e=function(){var e=[],c=-1,
d=arguments.length;if(!d)return"";for(var f="";++c<d;){var l=Number(arguments[c]);if(!isFinite(l)||0>l||1114111<l||b(l)!==l)throw RangeError("Invalid code point: "+l);if(65535>=l)e.push(l);else{l-=65536;var g=(l>>10)+55296;l=l%1024+56320;e.push(g,l)}if(c+1===d||16384<e.length)f+=a.apply(null,e),e.length=0}return f};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:e,configurable:!0,writable:!0}):String.fromCodePoint=e}()})("undefined"===typeof h?this.sax={}:h)}).call(this,
d("buffer").Buffer)},{buffer:3,stream:29,string_decoder:30}],29:[function(d,n,h){function a(){c.call(this)}n.exports=a;var c=d("events").EventEmitter;d("inherits")(a,c);a.Readable=d("readable-stream/readable.js");a.Writable=d("readable-stream/writable.js");a.Duplex=d("readable-stream/duplex.js");a.Transform=d("readable-stream/transform.js");a.PassThrough=d("readable-stream/passthrough.js");a.Stream=a;a.prototype.pipe=function(a,d){function k(b){a.writable&&!1===a.write(b)&&r.pause&&r.pause()}function h(){r.readable&&
r.resume&&r.resume()}function b(){x||(x=!0,a.end())}function u(){x||(x=!0,"function"===typeof a.destroy&&a.destroy())}function q(a){t();if(0===c.listenerCount(this,"error"))throw a;}function t(){r.removeListener("data",k);a.removeListener("drain",h);r.removeListener("end",b);r.removeListener("close",u);r.removeListener("error",q);a.removeListener("error",q);r.removeListener("end",t);r.removeListener("close",t);a.removeListener("close",t)}var r=this;r.on("data",k);a.on("drain",h);a._isStdio||d&&!1===
d.end||(r.on("end",b),r.on("close",u));var x=!1;r.on("error",q);a.on("error",q);r.on("end",t);r.on("close",t);a.on("close",t);a.emit("pipe",r);return a}},{events:5,inherits:7,"readable-stream/duplex.js":12,"readable-stream/passthrough.js":23,"readable-stream/readable.js":24,"readable-stream/transform.js":25,"readable-stream/writable.js":26}],30:[function(d,n,h){arguments[4][22][0].apply(h,arguments)},{dup:22,"safe-buffer":27}],31:[function(d,n,h){(function(a,c){function k(a,b){this._id=a;this._clearFn=
b}var q=d("process/browser.js").nextTick,n=Function.prototype.apply,D=Array.prototype.slice,b={},u=0;h.setTimeout=function(){return new k(n.call(setTimeout,window,arguments),clearTimeout)};h.setInterval=function(){return new k(n.call(setInterval,window,arguments),clearInterval)};h.clearTimeout=h.clearInterval=function(a){a.close()};k.prototype.unref=k.prototype.ref=function(){};k.prototype.close=function(){this._clearFn.call(window,this._id)};h.enroll=function(a,b){clearTimeout(a._idleTimeoutId);
a._idleTimeout=b};h.unenroll=function(a){clearTimeout(a._idleTimeoutId);a._idleTimeout=-1};h._unrefActive=h.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;0<=b&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))};h.setImmediate="function"===typeof a?a:function(a){var c=u++,d=2>arguments.length?!1:D.call(arguments,1);b[c]=!0;q(function(){b[c]&&(d?a.apply(null,d):a.call(null),h.clearImmediate(c))});return c};h.clearImmediate="function"===typeof c?c:function(a){delete b[a]}}).call(this,
d("timers").setImmediate,d("timers").clearImmediate)},{"process/browser.js":11,timers:31}],32:[function(d,n,h){(function(a){function c(c){try{if(!a.localStorage)return!1}catch(q){return!1}c=a.localStorage[c];return null==c?!1:"true"===String(c).toLowerCase()}n.exports=function(a,d){if(c("noDeprecation"))return a;var k=!1;return function(){if(!k){if(c("throwDeprecation"))throw Error(d);c("traceDeprecation")?console.trace(d):console.warn(d);k=!0}return a.apply(this,arguments)}}}).call(this,"undefined"!==
typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],33:[function(d,n,h){(function(a,c,d,h,n){function k(a,b){var e=a.styleAttrs&&a.styleAttrs["http://www.w3.org/ns/ttml#styling backgroundColor"];if("span"===a.kind)!e&&b&&(a.styleAttrs||(a.styleAttrs={}),a.styleAttrs["http://www.w3.org/ns/ttml#styling backgroundColor"]=b);else if(e&&delete a.styleAttrs["http://www.w3.org/ns/ttml#styling backgroundColor"],a.contents)for(var c=0;c<a.contents.length;c++)k(a.contents[c],
e||b)}function b(a){if("contents"in a){var e="styleAttrs"in a?a.styleAttrs[h.byName.ruby.qname]:null;e="span"===a.kind&&("container"===e||"textContainer"===e||"baseContainer"===e);for(var c=a.contents.length-1;0<=c;c--)!e||"styleAttrs"in a.contents[c]&&h.byName.ruby.qname in a.contents[c].styleAttrs?b(a.contents[c]):delete a.contents[c]}}function u(a,b,e,c){var d=c&&"seq"===c.timeContainer,f=0;c&&(f=d&&e?e.end:c.begin);b.begin=b.explicit_begin?b.explicit_begin+f:f;e=b.begin;c=null;for(var l in b.sets)b.sets.hasOwnProperty(l)&&
(u(a,b.sets[l],c,b),e="seq"===b.timeContainer?b.sets[l].end:Math.max(e,b.sets[l].end),c=b.sets[l]);if("contents"in b)for(var g in b.contents)b.contents.hasOwnProperty(g)&&(u(a,b.contents[g],c,b),e="seq"===b.timeContainer?b.contents[g].end:Math.max(e,b.contents[g].end),c=b.contents[g]);else e=d?b.begin:Number.POSITIVE_INFINITY;b.end=null!==b.explicit_end&&null!==b.explicit_dur?Math.min(b.begin+b.explicit_dur,f+b.explicit_end):null===b.explicit_end&&null!==b.explicit_dur?b.begin+b.explicit_dur:null!==
b.explicit_end&&null===b.explicit_dur?f+b.explicit_end:e;delete b.explicit_begin;delete b.explicit_dur;delete b.explicit_end;a._registerEvent(b)}function q(a){this.node=a}function t(){this.events=[];this.head=new r;this.body=null}function r(){this.styling=new x;this.layout=new A}function x(){this.styles={};this.initials={}}function F(){this.styleRefs=this.styleAttrs=this.id=null}function B(){this.styleAttrs=null}function A(){this.regions={}}function z(a,b){this.kind="image";this.src=a;this.type=b}
function K(a){this.id=a}function e(a){this.regionID=a}function y(a){this.styleAttrs=a}function p(a){this.sets=a}function l(a){this.contents=a}function E(a,b,e){this.explicit_begin=a;this.explicit_end=b;this.explicit_dur=e}function N(){this.kind="body"}function J(){this.kind="div"}function L(){this.kind="p"}function I(){this.kind="span"}function w(){this.kind="span"}function H(){this.kind="br"}function m(){}function C(){}function g(a){var b=null;a&&(a=a.attributes["xml:id"]||a.attributes.id)&&(b=a.value||
null);return b}function f(a){return a&&"style"in a.attributes?a.attributes.style.value.split(" "):[]}function R(a,b){var e={};if(null!==a)for(var c in a.attributes)if(a.attributes.hasOwnProperty(c)){var d=a.attributes[c].uri+" "+a.attributes[c].local,f=h.byQName[d];if(void 0!==f){var l=f.parse(a.attributes[c].value);null!==l?(e[d]=l,f===h.byName.zIndex&&P(b,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):O(b,"Cannot parse styling attribute "+d+" --\x3e "+a.attributes[c].value)}}return e}
function Q(a,b,e){for(var c in a.attributes)if(a.attributes.hasOwnProperty(c)&&a.attributes[c].uri===b&&a.attributes[c].local===e)return a.attributes[c].value;return null}function Z(a,b){a=Q(a,d.ns_tts,"extent");if(null===a)return null;var e=a.split(" ");if(2!==e.length)return P(b,"Malformed extent (ignoring)"),null;a=n.parseLength(e[0]);e=n.parseLength(e[1]);return e&&a?{h:e,w:a}:(P(b,"Malformed extent values (ignoring)"),null)}function T(a,b,e){var c=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/,d=/^(\d{2,}):(\d\d):(\d\d):(\d{2,})$/,
f=/^(\d+(?:\.\d+)?)t$/,l=/^(\d+(?:\.\d+)?)ms$/,g=/^(\d+(?:\.\d+)?)s$/,p=/^(\d+(?:\.\d+)?)h$/,m=/^(\d+(?:\.\d+)?)m$/,k,h=null;null!==(k=/^(\d+(?:\.\d+)?)f$/.exec(e))?null!==b&&(h=parseFloat(k[1])/b):null!==(k=f.exec(e))?null!==a&&(h=parseFloat(k[1])/a):null!==(k=l.exec(e))?h=parseFloat(k[1])/1E3:null!==(k=g.exec(e))?h=parseFloat(k[1]):null!==(k=p.exec(e))?h=3600*parseFloat(k[1]):null!==(k=m.exec(e))?h=60*parseFloat(k[1]):null!==(k=c.exec(e))?h=3600*parseInt(k[1])+60*parseInt(k[2])+parseFloat(k[3]):
null!==(k=d.exec(e))&&null!==b&&(h=3600*parseInt(k[1])+60*parseInt(k[2])+parseInt(k[3])+(null===k[4]?0:parseInt(k[4])/b));return h}function W(a,b,e){for(;0<b.styleRefs.length;){var c=b.styleRefs.pop();c in a.styles?(W(a,a.styles[c],e),S(a.styles[c].styleAttrs,b.styleAttrs)):O(e,"Non-existant style id referenced")}}function V(a,b,e,c){for(var d=b.length-1;0<=d;d--){var f=b[d];f in a.styles?S(a.styles[f].styleAttrs,e):O(c,"Non-existant style id referenced")}}function S(a,b){for(var e in a)!a.hasOwnProperty(e)||
e in b||(b[e]=a[e])}function P(a,b){if(a&&a.warn&&a.warn(b))throw b;}function O(a,b){if(a&&a.error&&a.error(b))throw b;}function M(a,b){a&&a.fatal&&a.fatal(b);throw b;}function Y(a,b){for(var e=0,c=a.length-1,d;e<=c;){d=Math.floor((e+c)/2);var f=a[d];if(f<b)e=d+1;else if(f>b)c=d-1;else return{found:!0,index:d}}return{found:!1,index:e}}a.fromXML=function(a,e,f){var l=c.parser(!0,{xmlns:!0}),g=[],p=[],y=[],E=0,v=null;l.onclosetag=function(a){if(g[0]instanceof m)null!==v.head&&null!==v.head.styling&&
V(v.head.styling,g[0].styleRefs,g[0].styleAttrs,e),delete g[0].styleRefs;else if(g[0]instanceof x)for(var b in g[0].styles)g[0].styles.hasOwnProperty(b)&&W(g[0],g[0].styles[b],e);else if(g[0]instanceof L||g[0]instanceof I){if(1<g[0].contents.length){a=[g[0].contents[0]];for(b=1;b<g[0].contents.length;b++)g[0].contents[b]instanceof w&&a[a.length-1]instanceof w?a[a.length-1].text+=g[0].contents[b].text:a.push(g[0].contents[b]);g[0].contents=a}g[0]instanceof I&&1===g[0].contents.length&&g[0].contents[0]instanceof
w&&(g[0].text=g[0].contents[0].text,delete g[0].contents)}else if(g[0]instanceof q)if(g[0].node.uri===d.ns_tt&&"metadata"===g[0].node.local)E--;else if(0<E&&f&&"onCloseTag"in f)f.onCloseTag();y.shift();p.shift();g.shift()};l.ontext=function(a){if(void 0!==g[0])if(g[0]instanceof I||g[0]instanceof L){if(g[0]instanceof I){var b=g[0].styleAttrs[h.byName.ruby.qname];if("container"===b||"textContainer"===b||"baseContainer"===b)return}b=new w;b.initFromText(v,g[0],a,y[0],e);g[0].contents.push(b)}else if(g[0]instanceof
q&&0<E&&f&&"onText"in f)f.onText(a)};l.onopentag=function(a){function b(a){d.ttaf_map[a.uri]&&(a.uri=d.ttaf_map[a.uri])}var c=a.attributes["xml:space"];c?y.unshift(c.value):0===y.length?y.unshift("default"):y.unshift(y[0]);(c=a.attributes["xml:lang"])?p.unshift(c.value):0===p.length?p.unshift(""):p.unshift(p[0]);b(a);if(a.attributes)for(var l in a.attributes)a.attributes.hasOwnProperty(l)&&b(a.attributes[l]);if(a.uri===d.ns_tt)if("tt"===a.local)null!==v&&M(e,"Two <tt> elements at ("+this.line+","+
this.column+")"),v=new t,v.initFromNode(a,e),g.unshift(v);else if("head"===a.local)g[0]instanceof t||M(e,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),g.unshift(v.head);else if("styling"===a.local)g[0]instanceof r||M(e,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),g.unshift(v.head.styling);else if("style"===a.local)if(g[0]instanceof x){var k=new F;k.initFromNode(a,e);k.id?v.head.styling.styles[k.id]=k:O(e,"<style> element missing @id attribute");
g.unshift(k)}else g[0]instanceof m?(k=new F,k.initFromNode(a,e),S(k.styleAttrs,g[0].styleAttrs),g.unshift(k)):M(e,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")");else if("initial"===a.local)if(g[0]instanceof x){l=new B;l.initFromNode(a,e);for(k in l.styleAttrs)l.styleAttrs.hasOwnProperty(k)&&(v.head.styling.initials[k]=l.styleAttrs[k]);g.unshift(l)}else M(e,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")");else if("layout"===
a.local)g[0]instanceof r||M(e,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),g.unshift(v.head.layout);else if("region"===a.local)g[0]instanceof A||M(e,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")"),k=new m,k.initFromNode(v,a,e),!k.id||k.id in v.head.layout.regions?O(e,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):v.head.layout.regions[k.id]=k,g.unshift(k);else if("body"===a.local)g[0]instanceof t||
M(e,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==v.body&&M(e,"Second <body> element at "+this.line+","+this.column+")"),k=new N,k.initFromNode(v,a,e),v.body=k,g.unshift(k);else if("div"===a.local){g[0]instanceof J||g[0]instanceof N||M(e,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");k=new J;k.initFromNode(v,g[0],a,e);if(l=k.styleAttrs[h.byName.backgroundImage.qname])k.contents.push(new z(l)),delete k.styleAttrs[h.byName.backgroundImage.qname];
g[0].contents.push(k);g.unshift(k)}else"image"===a.local?(g[0]instanceof J||M(e,"Parent of <image> element is not <div> at "+this.line+","+this.column+")"),k=new z,k.initFromNode(v,g[0],a,e),g[0].contents.push(k),g.unshift(k)):"p"===a.local?(g[0]instanceof J||M(e,"Parent of <p> element is not <div> at "+this.line+","+this.column+")"),k=new L,k.initFromNode(v,g[0],a,e),g[0].contents.push(k),g.unshift(k)):"span"===a.local?(g[0]instanceof I||g[0]instanceof L||M(e,"Parent of <span> element is not <span> or <p> at "+
this.line+","+this.column+")"),k=new I,k.initFromNode(v,g[0],a,y[0],e),g[0].contents.push(k),g.unshift(k)):"br"===a.local?(g[0]instanceof I||g[0]instanceof L||M(e,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")"),k=new H,k.initFromNode(v,g[0],a,e),g[0].contents.push(k),g.unshift(k)):"set"===a.local?(g[0]instanceof I||g[0]instanceof L||g[0]instanceof J||g[0]instanceof N||g[0]instanceof m||g[0]instanceof H||M(e,"Parent of <set> element is not a content element or a region at "+
this.line+","+this.column+")"),k=new C,k.initFromNode(v,g[0],a,e),g[0].sets.push(k),g.unshift(k)):g.unshift(new q(a));else g.unshift(new q(a));if(g[0]instanceof q)if(a.uri===d.ns_tt&&"metadata"===a.local)E++;else if(0<E&&f&&"onOpenTag"in f){k=[];for(var u in a.attributes)a.attributes.hasOwnProperty(u)&&(k[a.attributes[u].uri+" "+a.attributes[u].local]={uri:a.attributes[u].uri,local:a.attributes[u].local,value:a.attributes[u].value});f.onOpenTag(a.uri,a.local,k)}};l.write(a).close();delete v.head.styling.styles;
a=!1;for(var n in v.head.layout.regions)if(v.head.layout.regions.hasOwnProperty(n)){a=!0;break}a||(n=m.prototype.createDefaultRegion(v,e),v.head.layout.regions[n.id]=n);for(var X in v.head.layout.regions)v.head.layout.regions.hasOwnProperty(X)&&u(v,v.head.layout.regions[X],null,null);v.body&&u(v,v.body,null,null);v.body&&b(v.body);v.body&&k(v.body);return v};t.prototype.initFromNode=function(a,b){var e=Q(a,d.ns_ttp,"cellResolution"),c=15;var f=32;null!==e&&(e=/(\d+) (\d+)/.exec(e),null!==e?(f=parseInt(e[1]),
c=parseInt(e[2])):P(b,"Malformed cellResolution value (using initial value instead)"));this.cellLength={h:new n.ComputedLength(0,1/c),w:new n.ComputedLength(1/f,0)};c=Q(a,d.ns_ttp,"frameRate");e=30;null!==c&&(f=/(\d+)/.exec(c),null!==f?e=parseInt(f[1]):P(b,"Malformed frame rate attribute (using initial value instead)"));f=Q(a,d.ns_ttp,"frameRateMultiplier");var l=1;null!==f&&(f=/(\d+) (\d+)/.exec(f),null!==f?l=parseInt(f[1])/parseInt(f[2]):P(b,"Malformed frame rate multiplier attribute (using initial value instead)"));
e*=l;l=1;f=Q(a,d.ns_ttp,"tickRate");null===f?null!==c&&(l=e):(f=/(\d+)/.exec(f),null!==f?l=parseInt(f[1]):P(b,"Malformed tick rate attribute (using initial value instead)"));this.effectiveFrameRate=e;this.tickRate=l;f=Q(a,d.ns_ittp,"aspectRatio");null===f&&(f=Q(a,d.ns_ttp,"displayAspectRatio"));c=null;null!==f&&(e=/(\d+)\s+(\d+)/.exec(f),null!==e?(f=parseInt(e[1]),e=parseInt(e[2]),0!==f&&0!==e?c=f/e:O(b,"Illegal aspectRatio values (ignoring)")):O(b,"Malformed aspectRatio attribute (ignoring)"));this.aspectRatio=
c;c=Q(a,d.ns_ttp,"timeBase");null!==c&&"media"!==c&&M(b,"Unsupported time base");a=Z(a,b);null===a?this.pxLength={h:null,w:null}:("px"===a.h.unit&&"px"===a.w.unit||M(b,"Extent on TT must be in px or absent"),this.pxLength={h:new n.ComputedLength(0,1/a.h.value),w:new n.ComputedLength(1/a.w.value,0)});this.dimensions={h:new n.ComputedLength(0,1),w:new n.ComputedLength(1,0)}};t.prototype._registerEvent=function(a){if(!(a.end<=a.begin)){var b=Y(this.events,a.begin);b.found||this.events.splice(b.index,
0,a.begin);a.end!==Number.POSITIVE_INFINITY&&(b=Y(this.events,a.end),b.found||this.events.splice(b.index,0,a.end))}};t.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]};t.prototype.getMediaTimeEvents=function(){return this.events};F.prototype.initFromNode=function(a,b){this.id=g(a);this.styleAttrs=R(a,b);this.styleRefs=f(a)};B.prototype.initFromNode=function(a,b){this.styleAttrs={};for(var e in a.attributes)!a.attributes.hasOwnProperty(e)||a.attributes[e].uri!==
d.ns_itts&&a.attributes[e].uri!==d.ns_ebutts&&a.attributes[e].uri!==d.ns_tts||(this.styleAttrs[a.attributes[e].uri+" "+a.attributes[e].local]=a.attributes[e].value)};z.prototype.initFromNode=function(a,b,c,d){(this.src="src"in c.attributes?c.attributes.src.value:null)||O(d,"Invalid image@src attribute");(this.type="type"in c.attributes?c.attributes.type.value:null)||O(d,"Invalid image@type attribute");y.prototype.initFromNode.call(this,a,b,c,d);E.prototype.initFromNode.call(this,a,b,c,d);p.prototype.initFromNode.call(this,
a,b,c,d);e.prototype.initFromNode.call(this,a,b,c,d)};K.prototype.initFromNode=function(a,b,e,c){this.id=g(e)};e.prototype.initFromNode=function(a,b,e,c){this.regionID=e&&"region"in e.attributes?e.attributes.region.value:""};y.prototype.initFromNode=function(a,b,e,c){this.styleAttrs=R(e,c);null!==a.head&&null!==a.head.styling&&V(a.head.styling,f(e),this.styleAttrs,c)};p.prototype.initFromNode=function(a,b,e,c){this.sets=[]};l.prototype.initFromNode=function(a,b,e,c){this.contents=[]};E.prototype.initFromNode=
function(a,b,e,c){b=null;e&&"begin"in e.attributes&&(b=T(a.tickRate,a.effectiveFrameRate,e.attributes.begin.value),null===b&&P(c,"Malformed begin value "+e.attributes.begin.value+" (using 0)"));var d=null;e&&"dur"in e.attributes&&(d=T(a.tickRate,a.effectiveFrameRate,e.attributes.dur.value),null===d&&P(c,"Malformed dur value "+e.attributes.dur.value+" (ignoring)"));var f=null;e&&"end"in e.attributes&&(f=T(a.tickRate,a.effectiveFrameRate,e.attributes.end.value),null===f&&P(c,"Malformed end value (ignoring)"));
this.explicit_begin=b;this.explicit_end=f;this.explicit_dur=d;(a=e&&"timeContainer"in e.attributes?e.attributes.timeContainer.value:null)&&"par"!==a?"seq"===a?c="seq":(O(c,"Illegal value of timeContainer (assuming 'par')"),c="par"):c="par";this.timeContainer=c};N.prototype.initFromNode=function(a,b,c){y.prototype.initFromNode.call(this,a,null,b,c);E.prototype.initFromNode.call(this,a,null,b,c);p.prototype.initFromNode.call(this,a,null,b,c);e.prototype.initFromNode.call(this,a,null,b,c);l.prototype.initFromNode.call(this,
a,null,b,c)};J.prototype.initFromNode=function(a,b,c,d){y.prototype.initFromNode.call(this,a,b,c,d);E.prototype.initFromNode.call(this,a,b,c,d);p.prototype.initFromNode.call(this,a,b,c,d);e.prototype.initFromNode.call(this,a,b,c,d);l.prototype.initFromNode.call(this,a,b,c,d)};L.prototype.initFromNode=function(a,b,c,d){y.prototype.initFromNode.call(this,a,b,c,d);E.prototype.initFromNode.call(this,a,b,c,d);p.prototype.initFromNode.call(this,a,b,c,d);e.prototype.initFromNode.call(this,a,b,c,d);l.prototype.initFromNode.call(this,
a,b,c,d)};I.prototype.initFromNode=function(a,b,c,d,f){y.prototype.initFromNode.call(this,a,b,c,f);E.prototype.initFromNode.call(this,a,b,c,f);p.prototype.initFromNode.call(this,a,b,c,f);e.prototype.initFromNode.call(this,a,b,c,f);l.prototype.initFromNode.call(this,a,b,c,f);this.space=d};w.prototype.initFromText=function(a,b,e,c,d){E.prototype.initFromNode.call(this,a,b,null,d);this.text=e;this.space=c};H.prototype.initFromNode=function(a,b,c,d){e.prototype.initFromNode.call(this,a,b,c,d);E.prototype.initFromNode.call(this,
a,b,c,d)};m.prototype.createDefaultRegion=function(a,b){var e=new m;e.id="";y.prototype.initFromNode.call(e,a,null,{name:"region",attributes:{"tts:displayAlign":{name:"tts:displayAlign",value:"after",prefix:"tts",local:"displayAlign",uri:"http://www.w3.org/ns/ttml#styling"},"tts:extent":{name:"tts:extent",value:"80% 20%",prefix:"tts",local:"extent",uri:"http://www.w3.org/ns/ttml#styling"},"tts:origin":{name:"tts:origin",value:"10% 70%",prefix:"tts",local:"origin",uri:"http://www.w3.org/ns/ttml#styling"},
"tts:overflow":{name:"tts:overflow",value:"visible",prefix:"tts",local:"overflow",uri:"http://www.w3.org/ns/ttml#styling"}},ns:{"":"http://www.w3.org/ns/ttml",ebuttm:"urn:ebu:tt:metadata",ebutts:"urn:ebu:tt:style",ittp:"http://www.w3.org/ns/ttml/profile/imsc1#parameter",itts:"http://www.w3.org/ns/ttml/profile/imsc1#styling",ttm:"http://www.w3.org/ns/ttml#metadata",ttp:"http://www.w3.org/ns/ttml#parameter",tts:"http://www.w3.org/ns/ttml#styling",xml:"http://www.w3.org/XML/1998/namespace"},prefix:"",
local:"region",uri:"http://www.w3.org/ns/ttml",isSelfClosing:!0},b);e.sets=[];E.call(e,0,Number.POSITIVE_INFINITY,null);return e};m.prototype.initFromNode=function(a,b,e){K.prototype.initFromNode.call(this,a,null,b,e);E.prototype.initFromNode.call(this,a,null,b,e);p.prototype.initFromNode.call(this,a,null,b,e);this.styleAttrs=R(b,e);this.styleRefs=f(b)};C.prototype.initFromNode=function(a,b,e,c){E.prototype.initFromNode.call(this,a,b,e,c);a=R(e,c);this.value=this.qname=null;for(var d in a)if(a.hasOwnProperty(d)){if(this.qname){O(c,
"More than one style specified on set");break}this.qname=d;this.value=a[d]}}})("undefined"===typeof h?this.imscDoc={}:h,"undefined"===typeof sax?d("sax"):sax,"undefined"===typeof imscNames?d("./names"):imscNames,"undefined"===typeof imscStyles?d("./styles"):imscStyles,"undefined"===typeof imscUtils?d("./utils"):imscUtils)},{"./names":37,"./styles":38,"./utils":39,sax:28}],34:[function(d,n,h){(function(a,c,d,h){function k(a){var b={};a=Object.entries(a);for(var e in a)if(a.hasOwnProperty(e)){var c=
h.parseColor(a[e][0]),d=h.parseColor(a[e][1]);c&&d&&(b[c.toString()]=d)}return b}function q(a,c,p){if("region"===p.kind){var e=document.createElement("div");e.style.position="absolute"}else if("body"===p.kind)e=document.createElement("div");else if("div"===p.kind)e=document.createElement("div");else if("image"===p.kind){if(e=document.createElement("img"),null!==a.imgResolver&&null!==p.src){var k=a.imgResolver(p.src,e);k&&(e.src=k);e.height=a.regionH;e.width=a.regionW}}else if("p"===p.kind)e=document.createElement("p");
else if("span"===p.kind)if("container"===p.styleAttrs[d.byName.ruby.qname])e=document.createElement("ruby"),a.ruby=!0;else if("base"===p.styleAttrs[d.byName.ruby.qname])e=document.createElement("rb");else if("text"===p.styleAttrs[d.byName.ruby.qname])e=document.createElement("rt");else if("baseContainer"===p.styleAttrs[d.byName.ruby.qname])e=document.createElement("rbc");else if("textContainer"===p.styleAttrs[d.byName.ruby.qname])e=document.createElement("rtc");else{if("delimiter"===p.styleAttrs[d.byName.ruby.qname])return;
e=document.createElement("span")}else"br"===p.kind&&(e=document.createElement("br"));if(e){c.appendChild(e);e.style.margin="0";if("region"===p.kind)if(c=p.styleAttrs[d.byName.writingMode.qname],"lrtb"===c||"lr"===c)a.ipd="lr",a.bpd="tb";else if("rltb"===c||"rl"===c)a.ipd="rl",a.bpd="tb";else if("tblr"===c)a.ipd="tb",a.bpd="lr";else{if("tbrl"===c||"tb"===c)a.ipd="tb",a.bpd="rl"}else"p"===p.kind&&"tb"===a.bpd&&(a.ipd="ltr"===p.styleAttrs[d.byName.direction.qname]?"lr":"rl");for(var h in x)x.hasOwnProperty(h)&&
(c=x[h],k=p.styleAttrs[c.qname],void 0!==k&&null!==c.map&&c.map(a,e,p,k));h=e;(c=p.styleAttrs[d.byName.linePadding.qname])&&!c.isZero()&&(k=c.multiply(c.toUsedLength(a.w,a.h),a.options.sizeAdjust),0<k&&(k=Math.ceil(k)+"px","tb"===a.bpd?(h.style.paddingLeft=k,h.style.paddingRight=k):(h.style.paddingTop=k,h.style.paddingBottom=k),a.removePaddingElement=h,a.lp=c));(c=p.styleAttrs[d.byName.multiRowAlign.qname])&&"auto"!==c&&(h=document.createElement("span"),h.style.display="inline-block",h.style.textAlign=
c,e.appendChild(h),a.mra=c);(c=p.styleAttrs[d.byName.rubyReserve.qname])&&"none"!==c[0]&&(a.rubyReserve=c);p.styleAttrs[d.byName.fillLineGap.qname]&&(a.flg=!0);if("span"===p.kind&&p.text)if((c=p.styleAttrs[d.byName.textEmphasis.qname])&&"none"!==c.style&&(a.textEmphasis=!0),d.byName.textCombine.qname in p.styleAttrs&&"all"===p.styleAttrs[d.byName.textCombine.qname][0])e.textContent=p.text,c&&t(a,e,p,c);else{k="";for(var r=0;r<p.text.length;r++){k+=p.text.charAt(r);var y=p.text.charCodeAt(r);if(55296>
y||56319<y||r===p.text.length-1)y=document.createElement("span"),y.textContent=k,c&&t(a,y,p,c),e.appendChild(y),k="",y._isd_element=p}}for(var n in p.contents)p.contents.hasOwnProperty(n)&&q(a,h,p.contents[n]);n=[];if((a.lp||a.mra||a.flg||a.ruby||a.textEmphasis||a.rubyReserve)&&"p"===p.kind){v(a,h,n,null);if(a.rubyReserve){for(c=0;c<n.length;c++){k=document.createElement("ruby");r=document.createElement("rb");r.textContent="\u200b";k.appendChild(r);var w=a.rubyReserve[1].toUsedLength(a.w,a.h)+"px";
"both"===a.rubyReserve[0]||"outside"===a.rubyReserve[0]&&1==n.length?(r=document.createElement("rtc"),r.style[A]=G?"after":"under",r.textContent="\u200b",r.style.fontSize=w,y=document.createElement("rtc"),y.style[A]=G?"before":"over",y.textContent="\u200b",y.style.fontSize=w,k.appendChild(r),k.appendChild(y)):(r=document.createElement("rtc"),r.textContent="\u200b",r.style.fontSize=w,r.style[A]="after"===a.rubyReserve[0]||"outside"===a.rubyReserve[0]&&0<c?G?"after":"tb"===a.bpd||"rl"===a.bpd?"under":
"over":G?"before":"tb"===a.bpd||"rl"===a.bpd?"over":"under",k.appendChild(r));r=null;for(y=0;y<n[c].rbc.length;y++)if("ruby"===n[c].rbc[y].localName){r=n[c].rbc[y];for(y=0;y<r.style.length;y++)k.style.setProperty(r.style.item(y),r.style.getPropertyValue(r.style.item(y)));break}r=r||n[c].elements[0].node;r.parentElement.insertBefore(k,r)}a.rubyReserve=null}if(a.ruby||a.rubyReserve){for(c=0;c<n.length;c++)for(k=0;k<n[c].rbc.length;k++)n[c].rbc[k].style[A]||(n[c].rbc[k].style[A]=G?0===c?"before":"after":
"tb"===a.bpd?0===c?"over":"under":"rl"===a.bpd?0===c?"over":"under":0===c?"under":"over");a.ruby=null}if(a.textEmphasis){for(c=0;c<n.length;c++)for(k=0;k<n[c].te.length;k++)n[c].te[k].style[K]&&"none"!==n[c].te[k].style[K]||(n[c].te[k].style[K]="tb"===a.bpd?0===c?"left over":"left under":"rl"===a.bpd?0===c?"right under":"left under":0===c?"left under":"right under");a.textEmphasis=null}if(a.mra){for(c=0;c<n.length-1;c++)r=n[c].elements.length,0!==r&&!1===n[c].br&&(k=document.createElement("br"),r=
n[c].elements[r-1].node,r.parentElement.insertBefore(k,r.nextSibling));a.mra=null}if(a.lp){c=a.lp.multiply(a.lp.toUsedLength(a.w,a.h),a.options.sizeAdjust);for(k=0;k<n.length;k++){r=n[k].elements[n[k].start_elem];y=n[k].elements[n[k].end_elem];w=Math.ceil(c)+"px";var z="-"+Math.ceil(c)+"px";0!==n[k].elements.length&&("lr"===a.ipd?r.node.style.paddingLeft=w:"rl"===a.ipd?(r.node.style.borderRightColor=r.bgcolor||"#00000000",r.node.style.borderRightStyle="solid",r.node.style.borderRightWidth=w,r.node.style.marginRight=
z):"tb"===a.ipd&&(r.node.style.borderTopColor=r.bgcolor||"#00000000",r.node.style.borderTopStyle="solid",r.node.style.borderTopWidth=w,r.node.style.marginTop=z),"lr"===a.ipd?y.node.style.paddingRight=w:"rl"===a.ipd?(y.node.style.borderLeftColor=y.bgcolor||"#00000000",y.node.style.borderLeftStyle="solid",y.node.style.borderLeftWidth=w,y.node.style.marginLeft=z):"tb"===a.ipd&&(y.node.style.borderBottomColor=y.bgcolor||"#00000000",y.node.style.borderBottomStyle="solid",y.node.style.borderBottomWidth=
w,y.node.style.marginBottom=z))}"tb"===a.bpd?(a.removePaddingElement.style.paddingLeft=0,a.removePaddingElement.style.paddingRight=0):(a.removePaddingElement.style.paddingTop=0,a.removePaddingElement.style.paddingBottom=0);a.lp=null}if(a.flg){k=u(h.getBoundingClientRect(),a);c=k.before;k=k.after;r=h;y=Math.sign(k-c);for(w=0;w<=n.length;w++){z=0;var m=0===w?c:w===n.length?k:Math.abs(n[w].end-n[w].start)>Math.abs(n[w-1].end-n[w-1].start)?n[w].before:n[w-1].after+z;var C;if(0<w){for(C=0;C<n[w-1].elements.length;C++)if(null!==
n[w-1].elements[C].bgcolor){var g=n[w-1].elements[C];0>y*(g.after-m)&&(g=Math.abs(m-g.after),g>z&&(z=g))}var f=r.getElementsByTagName("span")[w];if(n[w]&&f.childElementCount!=n[w].elements.length)for(C=0;C<n[w-1].elements.length;C++)f=n[w-1].elements[C],g=z+"px solid "+f.bgcolor,"lr"===a.bpd?f.node.style.borderRight=g:"rl"===a.bpd?f.node.style.borderLeft=g:"tb"===a.bpd&&(f.node.style.borderBottom=g);else""==f.style.borderBottom&&("lr"===a.bpd?f.style.paddingRight=z+"px":"rl"===a.bpd?f.style.paddingLeft=
z+"px":"tb"===a.bpd&&(f.style.paddingBottom=z+"px"))}if(w<n.length){for(C=z=0;C<n[w].elements.length;C++)g=n[w].elements[C],null!==g.bgcolor&&0<y*(g.before-m)&&(g=Math.abs(g.before-m),g>z&&(z=g));f=r.getElementsByTagName("span")[w];if(f.childElementCount==n[w].elements.length)"lr"===a.bpd?f.style.paddingLeft=z+"px":"rl"===a.bpd?f.style.paddingRight=z+"px":"tb"===a.bpd&&(f.style.paddingTop=z+"px");else for(C=0;C<n[w].elements.length;C++)f=n[w].elements[C],g=z+"px solid "+f.bgcolor,"lr"===a.bpd?f.node.style.borderLeft=
g:"rl"===a.bpd?f.node.style.borderRight=g:"tb"===a.bpd&&(f.node.style.borderTop=g)}}a.flg=null}for(c=0;c<n.length;c++)for(k=n[c],r=1;r<k.elements.length;){y=k.elements[r-1].node;w=k.elements[r].node;if("SPAN"===y.tagName&&"SPAN"===w.tagName&&y._isd_element===w._isd_element){y.textContent+=w.textContent;for(z=0;z<w.style.length;z++)if(m=w.style[z],0<=m.indexOf("border")||0<=m.indexOf("padding"))y.style[m]=w.style[m];w.parentElement.removeChild(w);y=!0}else y=!1;y?k.elements.splice(r,1):r++}}"region"===
p.kind&&"tb"===a.bpd&&a.enableRollUp&&0<p.contents.length&&"after"===p.styleAttrs[d.byName.displayAlign.qname]&&(v(a,h,n,null),p=new b(""===p.id?"_":p.id,n),a.currentISDState[p.id]=p,a.previousISDState&&p.id in a.previousISDState&&0<a.previousISDState[p.id].plist.length&&1<p.plist.length&&p.plist[p.plist.length-2].text===a.previousISDState[p.id].plist[a.previousISDState[p.id].plist.length-1].text&&(a=e.firstElementChild,p=p.plist[p.plist.length-1].after-p.plist[p.plist.length-1].before,a.style.bottom=
"-"+p+"px",a.style.transition="transform 0.4s",a.style.position="relative",a.style.transform="translateY(-"+p+"px)"))}else if(a=a.errorHandler,p="Error processing ISD element kind: "+p.kind,a&&a.error&&a.error(p))throw p;}function b(a,b){this.id=a;this.plist=b}function u(a,b){var c={before:null,after:null,start:null,end:null};"tb"===b.bpd?(c.before=a.top,c.after=a.bottom,"lr"===b.ipd?(c.start=a.left,c.end=a.right):(c.start=a.right,c.end=a.left)):"lr"===b.bpd?(c.before=a.left,c.after=a.right,c.start=
a.top,c.end=a.bottom):"rl"===b.bpd&&(c.before=a.right,c.after=a.left,c.start=a.top,c.end=a.bottom);return c}function v(a,b,c,d){if("rt"!==b.localName&&"rtc"!==b.localName)if(d=b.style.backgroundColor||d,0===b.childElementCount)if("span"===b.localName||"rb"===b.localName){var e=b.getBoundingClientRect();if(0!==e.height&&0!==e.width){a=u(e,a);if(!(e=0===c.length)){e=a.before;var l=a.after,k=c[c.length-1].before,p=c[c.length-1].after;e=!(l<p&&e>k||p<=l&&k>=e)}e?c.push({before:a.before,after:a.after,
start:a.start,end:a.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1}):(e=Math.sign(a.after-a.before),l=Math.sign(a.end-a.start),0>e*(a.before-c[c.length-1].before)&&(c[c.length-1].before=a.before),0<e*(a.after-c[c.length-1].after)&&(c[c.length-1].after=a.after),0>l*(a.start-c[c.length-1].start)&&(c[c.length-1].start=a.start,c[c.length-1].start_elem=c[c.length-1].elements.length),0<l*(a.end-c[c.length-1].end)&&(c[c.length-1].end=a.end,c[c.length-1].end_elem=c[c.length-1].elements.length));
c[c.length-1].text+=b.textContent;c[c.length-1].elements.push({node:b,bgcolor:d,before:a.before,after:a.after})}}else"br"===b.localName&&0!==c.length&&(c[c.length-1].br=!0);else for(b=b.firstChild;b;)b.nodeType===Node.ELEMENT_NODE&&(v(a,b,c,d),"ruby"===b.localName||"rtc"===b.localName?0<c.length&&c[c.length-1].rbc.push(b):"span"===b.localName&&b.style[z]&&"none"!==b.style[z]&&0<c.length&&c[c.length-1].te.push(b)),b=b.nextSibling}function t(a,b,c,d){if("none"===d.style)b.style[z]="none";else if(b.style[z]=
"auto"===d.style?"filled":d.style+" "+d.symbol,"before"===d.position||"after"===d.position)b.style[K]="tb"===a.bpd?"before"===d.position?"left over":"left under":"rl"===a.bpd?"before"===d.position?"right under":"left under":"before"===d.position?"left under":"right under"}function r(a,b){this.qname=a;this.map=b}a.render=function(a,b,c,d,h,u,t,r,n,v){d=d||b.clientHeight;var e=h||b.clientWidth;null!==a.aspectRatio&&(h=d*a.aspectRatio,h>e?d=Math.round(e/a.aspectRatio):e=h);h=document.createElement("div");
h.style.position="relative";h.style.width=e+"px";h.style.height=d+"px";h.style.margin="auto";h.style.top=0;h.style.bottom=0;h.style.left=0;h.style.right=0;h.style.zIndex=0;c={h:d,w:e,regionH:null,regionW:null,imgResolver:c,displayForcedOnlyMode:u||!1,isd:a,errorHandler:t,previousISDState:r,enableRollUp:n||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null,options:Object.assign({},v)||{}};c.options.colorAdjust&&(c.options.colorAdjust=k(c.options.colorAdjust));
u=["region","body","div","p","span"];for(var l in u)u.hasOwnProperty(l)&&(t=u[l]+"BackgroundColorAdjust",c.options[t]&&(c.options[t]=k(c.options[t])));b.appendChild(h);for(var p in a.contents)a.contents.hasOwnProperty(p)&&q(c,h,a.contents[p]);return c.currentISDState};var x=[new r("http://www.w3.org/ns/ttml#styling backgroundColor",function(a,b,c,d){(c=(c=a.options[c.kind+"BackgroundColorAdjust"])&&c[d.toString()])&&(d=c);c=d[3];0!==c&&(void 0!=a.options.backgroundOpacityScale&&(c*=a.options.backgroundOpacityScale),
b.style.backgroundColor="rgba("+d[0].toString()+","+d[1].toString()+","+d[2].toString()+","+(c/255).toString()+")")}),new r("http://www.w3.org/ns/ttml#styling color",function(a,b,c,d){c=a.options.colorOpacityScale||1;a=a.options.colorAdjust;void 0!=a&&(a=a[d.toString()])&&(d=a);b.style.color="rgba("+d[0].toString()+","+d[1].toString()+","+d[2].toString()+","+(c*d[3]/255).toString()+")"}),new r("http://www.w3.org/ns/ttml#styling direction",function(a,b,c,d){b.style.direction=d}),new r("http://www.w3.org/ns/ttml#styling display",
function(a,b,c,d){}),new r("http://www.w3.org/ns/ttml#styling displayAlign",function(a,b,c,d){b.style.display="flex";b.style.flexDirection="column";"before"===d?b.style.justifyContent="flex-start":"center"===d?b.style.justifyContent="center":"after"===d&&(b.style.justifyContent="flex-end")}),new r("http://www.w3.org/ns/ttml#styling extent",function(a,b,c,d){a.regionH=d.h.toUsedLength(a.w,a.h);a.regionW=d.w.toUsedLength(a.w,a.h);var e=d=0;if(c=c.styleAttrs["http://www.w3.org/ns/ttml#styling padding"])d=
c[0].toUsedLength(a.w,a.h)+c[2].toUsedLength(a.w,a.h),e=c[1].toUsedLength(a.w,a.h)+c[3].toUsedLength(a.w,a.h);b.style.height=a.regionH-d+"px";b.style.width=a.regionW-e+"px"}),new r("http://www.w3.org/ns/ttml#styling fontFamily",function(a,b,c,d){c=[];a.options.fontFamily&&(d=a.options.fontFamily.split(","));for(var e in d)d[e].hasOwnProperty(e)&&(d[e]=d[e].trim(),"monospaceSerif"===d[e]?(c.push("Courier New"),c.push('"Liberation Mono"'),c.push("Courier"),c.push("monospace")):"proportionalSansSerif"===
d[e]||"default"===d[e]?(c.push("Arial"),c.push("Helvetica"),c.push('"Liberation Sans"'),c.push("sans-serif")):"monospace"===d[e]?c.push("monospace"):"sansSerif"===d[e]?c.push("sans-serif"):"serif"===d[e]?c.push("serif"):"monospaceSansSerif"===d[e]?(c.push("Consolas"),c.push("monospace")):"proportionalSerif"===d[e]?c.push("serif"):c.push(d[e]));if(0<c.length){a=[c[0]];for(d=1;d<c.length;d++)-1==a.indexOf(c[d])&&a.push(c[d]);c=a}b.style.fontFamily=c.join(",")}),new r("http://www.w3.org/ns/ttml#styling shear",
function(a,b,c,d){0!==d&&(c=-.9*d,b.style.transform="tb"===a.bpd?"skewX("+c+"deg)":"skewY("+c+"deg)")}),new r("http://www.w3.org/ns/ttml#styling fontSize",function(a,b,c,d){b.style.fontSize=d.multiply(d.toUsedLength(a.w,a.h),a.options.sizeAdjust)+"px"}),new r("http://www.w3.org/ns/ttml#styling fontStyle",function(a,b,c,d){b.style.fontStyle=d}),new r("http://www.w3.org/ns/ttml#styling fontWeight",function(a,b,c,d){b.style.fontWeight=d}),new r("http://www.w3.org/ns/ttml#styling lineHeight",function(a,
b,c,d){b.style.lineHeight="normal"===d?"normal":d.multiply(d.multiply(d.toUsedLength(a.w,a.h),a.options.sizeAdjust),a.options.lineHeightAdjust)+"px"}),new r("http://www.w3.org/ns/ttml#styling opacity",function(a,b,c,d){c=d;void 0!=a.options.regionOpacityScale&&(c*=a.options.regionOpacityScale);b.style.opacity=c}),new r("http://www.w3.org/ns/ttml#styling origin",function(a,b,c,d){b.style.top=d.h.toUsedLength(a.w,a.h)+"px";b.style.left=d.w.toUsedLength(a.w,a.h)+"px"}),new r("http://www.w3.org/ns/ttml#styling overflow",
function(a,b,c,d){b.style.overflow=d}),new r("http://www.w3.org/ns/ttml#styling padding",function(a,b,c,d){c=[];c[0]=d[0].toUsedLength(a.w,a.h)+"px";c[1]=d[3].toUsedLength(a.w,a.h)+"px";c[2]=d[2].toUsedLength(a.w,a.h)+"px";c[3]=d[1].toUsedLength(a.w,a.h)+"px";b.style.padding=c.join(" ")}),new r("http://www.w3.org/ns/ttml#styling position",function(a,b,c,d){b.style.top=d.h.toUsedLength(a.w,a.h)+"px";b.style.left=d.w.toUsedLength(a.w,a.h)+"px"}),new r("http://www.w3.org/ns/ttml#styling rubyAlign",function(a,
b,c,d){b.style.rubyAlign="spaceAround"===d?"space-around":"center"}),new r("http://www.w3.org/ns/ttml#styling rubyPosition",function(a,b,c,d){if("before"===d||"after"===d)b.parentElement.style[A]=G?d:"tb"===a.bpd?"before"===d?"over":"under":"rl"===a.bpd?"before"===d?"over":"under":"before"===d?"under":"over"}),new r("http://www.w3.org/ns/ttml#styling showBackground",null),new r("http://www.w3.org/ns/ttml#styling textAlign",function(a,b,c,d){b.style.textAlign="start"===d?"rl"===a.ipd?"right":"left":
"end"===d?"rl"===a.ipd?"left":"right":d}),new r("http://www.w3.org/ns/ttml#styling textDecoration",function(a,b,c,d){b.style.textDecoration=d.join(" ").replace("lineThrough","line-through")}),new r("http://www.w3.org/ns/ttml#styling textOutline",function(a,b,c,d){}),new r("http://www.w3.org/ns/ttml#styling textShadow",function(a,b,c,k){c=c.styleAttrs[d.byName.textOutline.qname];var e=a.options.textOutline;if(e)if("none"===e)c=e;else{var l={};e=e.split(" ");if(0!==e.length&&2>=e.length){var u=h.parseColor(e[0]);
l.color=u;null!==u&&e.shift();1===e.length&&(e=h.parseLength(e[0]))&&(l.thickness=e,c=l)}}if("none"===k&&"none"===c)b.style.textShadow="";else{l=[];"none"!==c&&(c="rgba("+c.color[0].toString()+","+c.color[1].toString()+","+c.color[2].toString()+","+(c.color[3]/255).toString()+")",l.push("1px 1px 1px "+c),l.push("-1px 1px 1px "+c),l.push("1px -1px 1px "+c),l.push("-1px -1px 1px "+c));if("none"!==k)for(var t in k)k.hasOwnProperty(t)&&l.push(k[t].x_off.toUsedLength(a.w,a.h)+"px "+k[t].y_off.toUsedLength(a.w,
a.h)+"px "+k[t].b_radius.toUsedLength(a.w,a.h)+"px rgba("+k[t].color[0].toString()+","+k[t].color[1].toString()+","+k[t].color[2].toString()+","+(k[t].color[3]/255).toString()+")");b.style.textShadow=l.join(",")}}),new r("http://www.w3.org/ns/ttml#styling textCombine",function(a,b,c,d){b.style.textCombineUpright=d.join(" ")}),new r("http://www.w3.org/ns/ttml#styling textEmphasis",function(a,b,c,d){}),new r("http://www.w3.org/ns/ttml#styling unicodeBidi",function(a,b,c,d){b.style.unicodeBidi="bidiOverride"===
d?"bidi-override":d}),new r("http://www.w3.org/ns/ttml#styling visibility",function(a,b,c,d){b.style.visibility=d}),new r("http://www.w3.org/ns/ttml#styling wrapOption",function(a,b,c,d){b.style.whiteSpace="wrap"===d?"preserve"===c.space?"pre-wrap":"normal":"preserve"===c.space?"pre":"noWrap"}),new r("http://www.w3.org/ns/ttml#styling writingMode",function(a,b,c,d){if("lrtb"===d||"lr"===d)b.style.writingMode="horizontal-tb";else if("rltb"===d||"rl"===d)b.style.writingMode="horizontal-tb";else if("tblr"===
d)b.style.writingMode="vertical-lr";else if("tbrl"===d||"tb"===d)b.style.writingMode="vertical-rl"}),new r("http://www.w3.org/ns/ttml#styling zIndex",function(a,b,c,d){b.style.zIndex=d}),new r("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(a,b,c,d){a.displayForcedOnlyMode&&!1===d&&(b.style.visibility="hidden")})],n;for(n in x)x.hasOwnProperty(n);var G="webkitRubyPosition"in window.getComputedStyle(document.documentElement),A=G?"webkitRubyPosition":"rubyPosition",z="webkitTextEmphasisStyle"in
window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",K="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"})("undefined"===typeof h?this.imscHTML={}:h,"undefined"===typeof imscNames?d("./names"):imscNames,"undefined"===typeof imscStyles?d("./styles"):imscStyles,"undefined"===typeof imscUtils?d("./utils"):imscUtils)},{"./names":37,"./styles":38,"./utils":39}],35:[function(d,n,
h){(function(a,c,d,h){function k(a,c,v,q,z,D,e,y,p){if(c<e.begin||c>=e.end)return null;D="regionID"in e&&""!==e.regionID?e.regionID:D;if(null!==z&&D!==v.id&&(!("contents"in e)||"contents"in e&&0===e.contents.length||""!==D))return null;var l=new t(e);for(x in e.sets)!e.sets.hasOwnProperty(x)||c<e.sets[x].begin||c>=e.sets[x].end||(l.styleAttrs[e.sets[x].qname]=e.sets[x].value);var x={};for(var A in l.styleAttrs)if(l.styleAttrs.hasOwnProperty(A)&&(x[A]=!0,"region"===l.kind&&A===d.byName.writingMode.qname&&
!(d.byName.direction.qname in l.styleAttrs))){var F=l.styleAttrs[A];if("lrtb"===F||"lr"===F)l.styleAttrs[d.byName.direction.qname]="ltr";else if("rltb"===F||"rl"===F)l.styleAttrs[d.byName.direction.qname]="rtl"}if(null!==z)for(var B in d.all)if(d.all.hasOwnProperty(B))if(A=d.all[B],A.qname===d.byName.textDecoration.qname){F=z.styleAttrs[A.qname];var G=l.styleAttrs[A.qname],w=[];void 0===G?w=F:-1===G.indexOf("none")?((-1===G.indexOf("noUnderline")&&-1!==F.indexOf("underline")||-1!==G.indexOf("underline"))&&
w.push("underline"),(-1===G.indexOf("noLineThrough")&&-1!==F.indexOf("lineThrough")||-1!==G.indexOf("lineThrough"))&&w.push("lineThrough"),(-1===G.indexOf("noOverline")&&-1!==F.indexOf("overline")||-1!==G.indexOf("overline"))&&w.push("overline")):w.push("none");l.styleAttrs[A.qname]=w}else A.qname!==d.byName.fontSize.qname||A.qname in l.styleAttrs||"span"!==l.kind||"textContainer"!==l.styleAttrs[d.byName.ruby.qname]?A.qname!==d.byName.fontSize.qname||A.qname in l.styleAttrs||"span"!==l.kind||"text"!==
l.styleAttrs[d.byName.ruby.qname]?A.inherit&&A.qname in z.styleAttrs&&!(A.qname in l.styleAttrs)&&(l.styleAttrs[A.qname]=z.styleAttrs[A.qname]):(F=z.styleAttrs[d.byName.fontSize.qname],l.styleAttrs[A.qname]="textContainer"===z.styleAttrs[d.byName.ruby.qname]?F:new h.ComputedLength(.5*F.rw,.5*F.rh)):(F=z.styleAttrs[d.byName.fontSize.qname],l.styleAttrs[A.qname]=new h.ComputedLength(.5*F.rw,.5*F.rh));for(var H in d.all)if(d.all.hasOwnProperty(H)&&(B=d.all[H],!(B.qname in l.styleAttrs||B.qname===d.byName.position.qname&&
d.byName.origin.qname in l.styleAttrs||B.qname===d.byName.origin.qname&&d.byName.position.qname in l.styleAttrs)&&(A=a.head.styling.initials[B.qname]||B.initial,null!==A&&("region"===l.kind||!1===B.inherit&&null!==A))))if(A=B.parse(A),null!==A)l.styleAttrs[B.qname]=A,x[B.qname]=!0;else if(B="Invalid initial value for '"+B.qname+"' on element '"+l.kind,y&&y.error&&y.error(B))throw B;for(var m in d.all)if(d.all.hasOwnProperty(m)&&(H=d.all[m],H.qname in x&&null!==H.compute))if(B=H.compute(a,z,l,l.styleAttrs[H.qname],
p),null!==B)l.styleAttrs[H.qname]=B;else if(l.styleAttrs[H.qname]=H.compute(a,z,l,H.parse(H.initial),p),H="Style '"+H.qname+"' on element '"+l.kind+"' cannot be computed",y&&y.error&&y.error(H))throw H;if("none"===l.styleAttrs[d.byName.display.qname])return null;if(null===z)var C=null===q?[]:[q];else"contents"in e&&(C=e.contents);for(var g in C)C.hasOwnProperty(g)&&(z=k(a,c,v,q,l,D,C[g],y,p),null!==z&&l.contents.push(z.element));for(var f in l.styleAttrs)l.styleAttrs.hasOwnProperty(f)&&(a=!1,"span"===
l.kind&&(c=l.styleAttrs[d.byName.ruby.qname],(a=("container"===c||"textContainer"===c||"baseContainer"===c)&&-1!==r.indexOf(f))||(a="container"!==c&&f===d.byName.rubyAlign.qname),a||(a=!("textContainer"===c||"text"===c)&&f===d.byName.rubyPosition.qname)),a||(a=-1===d.byQName[f].applies.indexOf(l.kind)),a&&delete l.styleAttrs[f]);f=l.styleAttrs[d.byName.ruby.qname];if("p"===l.kind||"span"===l.kind&&("textContainer"===f||"text"===f))f=[],b(l,f),n(f),u(l);return"div"===l.kind&&d.byName.backgroundImage.qname in
l.styleAttrs||"br"===l.kind||"image"===l.kind||"contents"in l&&0<l.contents.length||"span"===l.kind&&null!==l.text||"region"===l.kind&&"always"===l.styleAttrs[d.byName.showBackground.qname]?{region_id:D,element:l}:null}function n(a){function b(a){return"br"===a.kind||/[\r\n\t ]$/.test(a.text)}function c(a){return"br"===a.kind||"preserve"===a.space&&/^[\r\n]/.test(a.text)}for(var d,k=0;k<a.length;)if(d=a[k],"br"===d.kind||"preserve"===d.space)k++;else{var h=d.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(h)&&
(0===k||b(a[k-1]))&&(h=h.substring(1));d.text=h;0===h.length?a.splice(k,1):k++}for(k=0;k<a.length;k++)d=a[k],"br"===d.kind||"preserve"===d.space?k++:/[ ]$/.test(d.text)&&(k===a.length-1||c(a[k+1]))&&(d.text=d.text.slice(0,-1))}function b(a,c){for(var k in a.contents)if(a.contents.hasOwnProperty(k)){var h=a.contents[k],u=h.styleAttrs[d.byName.ruby.qname];if("span"!==h.kind||"textContainer"!==u&&"text"!==u)"contents"in h?b(h,c):("span"===h.kind&&0!==h.text.length||"br"===h.kind)&&c.push(h)}}function u(a){if("br"===
a.kind)return!1;if("text"in a)return 0===a.text.length;if("contents"in a){for(var b=a.contents.length;b--;)u(a.contents[b])&&a.contents.splice(b,1);return 0===a.contents.length}}function v(a){this.contents=[];this.aspectRatio=a.aspectRatio}function t(a){this.kind=a.kind||"region";a.id&&(this.id=a.id);this.styleAttrs={};for(var b in a.styleAttrs)a.styleAttrs.hasOwnProperty(b)&&(this.styleAttrs[b]=a.styleAttrs[b]);"src"in a&&(this.src=a.src);"type"in a&&(this.type=a.type);if("text"in a)this.text=a.text;
else if("region"===this.kind||"contents"in a)this.contents=[];"space"in a&&(this.space=a.space)}a.generateISD=function(a,b,c){function d(a,b){function c(b){return!(a<b.begin||a>=b.end)}if(b.contents){var e={},k;for(k in b)b.hasOwnProperty(k)&&(e[k]=b[k]);e.contents=[];b.contents.filter(c).forEach(function(b){b=d(a,b);b.regionID&&t.add(b.regionID);null!==b&&e.contents.push(b)});return e}return b}var h=new v(a),u={},e={},t=new Set;e=d(b,a.body);0===t.size&&a.head.layout.regions.hasOwnProperty("")&&
t.add("");t.forEach(function(d){d=k(a,b,a.head.layout.regions[d],e,null,"",a.head.layout.regions[d],c,u);null!==d&&h.contents.push(d.element)});return h};var r=[d.byName.color.qname,d.byName.textCombine.qname,d.byName.textDecoration.qname,d.byName.textEmphasis.qname,d.byName.textOutline.qname,d.byName.textShadow.qname]})("undefined"===typeof h?this.imscISD={}:h,"undefined"===typeof imscNames?d("./names"):imscNames,"undefined"===typeof imscStyles?d("./styles"):imscStyles,"undefined"===typeof imscUtils?
d("./utils"):imscUtils)},{"./names":37,"./styles":38,"./utils":39}],36:[function(d,n,h){h.generateISD=d("./isd").generateISD;h.fromXML=d("./doc").fromXML;h.renderHTML=d("./html").render},{"./doc":33,"./html":34,"./isd":35}],37:[function(d,n,h){d="undefined"===typeof h?this.imscNames={}:h;d.ns_tt="http://www.w3.org/ns/ttml";d.ns_tts="http://www.w3.org/ns/ttml#styling";d.ns_ttp="http://www.w3.org/ns/ttml#parameter";d.ns_xml="http://www.w3.org/XML/1998/namespace";d.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling";
d.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter";d.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt";d.ns_ebutts="urn:ebu:tt:style";d.ttaf_map={"http://www.w3.org/2006/10/ttaf1":d.ns_tt,"http://www.w3.org/2006/10/ttaf1#style":d.ns_tts,"http://www.w3.org/2006/10/ttaf1#parameter":d.ns_ttp}},{}],38:[function(d,n,h){(function(a,c,d){function k(a,c,d,k,h,n,q,B){this.name=c;this.ns=a;this.qname=a+" "+c;this.inherit=h;this.animatable=n;this.initial=d;this.applies=k;this.parse=
q;this.compute=B}a.all=[new k(c.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,d.parseColor,null),new k(c.ns_tts,"color","white",["span"],!0,!0,d.parseColor,null),new k(c.ns_tts,"direction","ltr",["p","span"],!0,!0,function(a){return a},null),new k(c.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(a){return a},null),new k(c.ns_tts,"displayAlign","before",["region"],!1,!0,function(a){return a},null),new k(c.ns_tts,"extent","auto",["tt","region"],
!1,!0,function(a){if("auto"===a)return a;var b=a.split(" ");if(2!==b.length)return null;a=d.parseLength(b[0]);return(b=d.parseLength(b[1]))&&a?{h:b,w:a}:null},function(a,c,k,h,n){if("auto"===h)c=new d.ComputedLength(0,1);else if(c=d.toComputedLength(h.h.value,h.h.unit,null,a.dimensions.h,null,a.pxLength.h),null===c)return null;if("auto"===h)a=new d.ComputedLength(1,0);else if(a=d.toComputedLength(h.w.value,h.w.unit,null,a.dimensions.w,null,a.pxLength.w),null===a)return null;return{h:c,w:a}}),new k(c.ns_tts,
"fontFamily","default",["p","span"],!0,!0,function(a){a=a.split(",");for(var b=[],c=0;c<a.length;c++)"'"!==a[c].charAt(0)&&'"'!==a[c].charAt(0)?"default"===a[c]?b.push("monospaceSerif"):b.push(a[c]):b.push(a[c]);return b},null),new k(c.ns_tts,"shear","0%",["p"],!0,!0,d.parseLength,function(a,c,d,k){if("%"===k.unit)a=100<Math.abs(k.value)?100*Math.sign(k.value):k.value;else return null;return a}),new k(c.ns_tts,"fontSize","1c",["p","span"],!0,!0,d.parseLength,function(b,c,k,h,n){return d.toComputedLength(h.value,
h.unit,null!==c?c.styleAttrs[a.byName.fontSize.qname]:b.cellLength.h,null!==c?c.styleAttrs[a.byName.fontSize.qname]:b.cellLength.h,b.cellLength.h,b.pxLength.h)}),new k(c.ns_tts,"fontStyle","normal",["span"],!0,!0,function(a){return a},null),new k(c.ns_tts,"fontWeight","normal",["span"],!0,!0,function(a){return a},null),new k(c.ns_tts,"lineHeight","normal",["p"],!0,!0,function(a){return"normal"===a?a:d.parseLength(a)},function(b,c,k,h,n){if("normal"===h)b=h;else if(b=d.toComputedLength(h.value,h.unit,
k.styleAttrs[a.byName.fontSize.qname],k.styleAttrs[a.byName.fontSize.qname],b.cellLength.h,b.pxLength.h),null===b)return null;return b}),new k(c.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new k(c.ns_tts,"origin","auto",["region"],!1,!0,function(a){if("auto"===a)return a;var b=a.split(" ");if(2!==b.length)return null;a=d.parseLength(b[0]);return(b=d.parseLength(b[1]))&&a?{h:b,w:a}:null},function(a,c,k,h,n){if("auto"===h)c=new d.ComputedLength(0,0);else if(c=d.toComputedLength(h.h.value,h.h.unit,
null,a.dimensions.h,null,a.pxLength.h),null===c)return null;if("auto"===h)a=new d.ComputedLength(0,0);else if(a=d.toComputedLength(h.w.value,h.w.unit,null,a.dimensions.w,null,a.pxLength.w),null===a)return null;return{h:c,w:a}}),new k(c.ns_tts,"overflow","hidden",["region"],!1,!0,function(a){return a},null),new k(c.ns_tts,"padding","0px",["region"],!1,!0,function(a){a=a.split(" ");if(4<a.length)return null;for(var b=[],c=0;c<a.length;c++){var k=d.parseLength(a[c]);if(!k)return null;b.push(k)}return b},
function(b,c,k,h,n){if(1===h.length)c=[h[0],h[0],h[0],h[0]];else if(2===h.length)c=[h[0],h[1],h[0],h[1]];else if(3===h.length)c=[h[0],h[1],h[2],h[1]];else if(4===h.length)c=[h[0],h[1],h[2],h[3]];else return null;h=k.styleAttrs[a.byName.writingMode.qname];if("lrtb"===h||"lr"===h)c=[c[0],c[3],c[2],c[1]];else if("rltb"===h||"rl"===h)c=[c[0],c[1],c[2],c[3]];else if("tblr"===h)c=[c[3],c[0],c[1],c[2]];else if("tbrl"===h||"tb"===h)c=[c[3],c[2],c[1],c[0]];else return null;h=[];for(n=0;n<c.length;n++)if(0===
c[n].value)h[n]=new d.ComputedLength(0,0);else if(h[n]=d.toComputedLength(c[n].value,c[n].unit,k.styleAttrs[a.byName.fontSize.qname],"0"===n||"2"===n?k.styleAttrs[a.byName.extent.qname].h:k.styleAttrs[a.byName.extent.qname].w,"0"===n||"2"===n?b.cellLength.h:b.cellLength.w,"0"===n||"2"===n?b.pxLength.h:b.pxLength.w),null===h[n])return null;return h}),new k(c.ns_tts,"position","top left",["region"],!1,!0,function(a){return d.parsePosition(a)},function(b,c,k,h){c=d.toComputedLength(h.v.offset.value,
h.v.offset.unit,null,new d.ComputedLength(-k.styleAttrs[a.byName.extent.qname].h.rw,b.dimensions.h.rh-k.styleAttrs[a.byName.extent.qname].h.rh),null,b.pxLength.h);if(null===c)return null;"bottom"===h.v.edge&&(c=new d.ComputedLength(-c.rw-k.styleAttrs[a.byName.extent.qname].h.rw,b.dimensions.h.rh-c.rh-k.styleAttrs[a.byName.extent.qname].h.rh));var n=d.toComputedLength(h.h.offset.value,h.h.offset.unit,null,new d.ComputedLength(b.dimensions.w.rw-k.styleAttrs[a.byName.extent.qname].w.rw,-k.styleAttrs[a.byName.extent.qname].w.rh),
null,b.pxLength.w);if(null===c)return null;"right"===h.h.edge&&(n=new d.ComputedLength(b.dimensions.w.rw-n.rw-k.styleAttrs[a.byName.extent.qname].w.rw,-n.rh-k.styleAttrs[a.byName.extent.qname].w.rh));return{h:c,w:n}}),new k(c.ns_tts,"ruby","none",["span"],!1,!0,function(a){return a},null),new k(c.ns_tts,"rubyAlign","center",["span"],!0,!0,function(a){return"center"!==a&&"spaceAround"!==a?null:a},null),new k(c.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(a){return a},null),new k(c.ns_tts,
"rubyReserve","none",["p"],!0,!0,function(a){var b=a.split(" ");a=[null,null];if(0===b.length||2<b.length||"none"!==b[0]&&"both"!==b[0]&&"after"!==b[0]&&"before"!==b[0]&&"outside"!==b[0])return null;a[0]=b[0];if(2===b.length&&"none"!==b[0])if(b=d.parseLength(b[1]))a[1]=b;else return null;return a},function(b,c,k,h,n){if("none"===h[0])return h;b=null===h[1]?new d.ComputedLength(.5*k.styleAttrs[a.byName.fontSize.qname].rw,.5*k.styleAttrs[a.byName.fontSize.qname].rh):d.toComputedLength(h[1].value,h[1].unit,
k.styleAttrs[a.byName.fontSize.qname],k.styleAttrs[a.byName.fontSize.qname],b.cellLength.h,b.pxLength.h);return null===b?null:[h[0],b]}),new k(c.ns_tts,"showBackground","whenActive",["region"],!1,!0,function(a){return a},null),new k(c.ns_tts,"textAlign","start",["p"],!0,!0,function(a){return a},function(a,c,d,k,h){return"left"===k?"start":"right"===k?"end":k}),new k(c.ns_tts,"textCombine","none",["span"],!0,!0,function(a){a=a.split(" ");return 1!==a.length||"none"!==a[0]&&"all"!==a[0]?null:[a[0]]},
null),new k(c.ns_tts,"textDecoration","none",["span"],!0,!0,function(a){return a.split(" ")},null),new k(c.ns_tts,"textEmphasis","none",["span"],!0,!0,function(a){a=a.split(" ");for(var b={style:null,symbol:null,color:null,position:null},c=0;c<a.length;c++)if("none"===a[c]||"auto"===a[c])b.style=a[c];else if("filled"===a[c]||"open"===a[c])b.style=a[c];else if("circle"===a[c]||"dot"===a[c]||"sesame"===a[c])b.symbol=a[c];else if("current"===a[c])b.color=a[c];else if("outside"===a[c]||"before"===a[c]||
"after"===a[c])b.position=a[c];else if(b.color=d.parseColor(a[c]),null===b.color)return null;null==b.style&&null==b.symbol?b.style="auto":(b.symbol=b.symbol||"circle",b.style=b.style||"filled");b.position=b.position||"outside";b.color=b.color||"current";return b},null),new k(c.ns_tts,"textOutline","none",["span"],!0,!0,function(a){if("none"===a)return a;var b={};a=a.split(" ");if(0===a.length||2<a.length)return null;var c=d.parseColor(a[0]);b.color=c;null!==c&&a.shift();if(1!==a.length)return null;
a=d.parseLength(a[0]);if(!a)return null;b.thickness=a;return b},function(b,c,k,h,n){if("none"===h)return h;c={};c.color=null===h.color?k.styleAttrs[a.byName.color.qname]:h.color;c.thickness=d.toComputedLength(h.thickness.value,h.thickness.unit,k.styleAttrs[a.byName.fontSize.qname],k.styleAttrs[a.byName.fontSize.qname],b.cellLength.h,b.pxLength.h);return null===c.thickness?null:c}),new k(c.ns_tts,"textShadow","none",["span"],!0,!0,d.parseTextShadow,function(b,c,k,h){if("none"===h)return h;c=[];for(var n in h)if(n.hasOwnProperty(h)){var q=
{};q.x_off=d.toComputedLength(h[n][0].value,h[n][0].unit,null,k.styleAttrs[a.byName.fontSize.qname],null,b.pxLength.w);if(null===q.x_off)return null;q.y_off=d.toComputedLength(h[n][1].value,h[n][1].unit,null,k.styleAttrs[a.byName.fontSize.qname],null,b.pxLength.h);if(null===q.y_off)return null;if(null===h[n][2])q.b_radius=0;else if(q.b_radius=d.toComputedLength(h[n][2].value,h[n][2].unit,null,k.styleAttrs[a.byName.fontSize.qname],null,b.pxLength.h),null===q.b_radius)return null;q.color=null===h[n][3]?
k.styleAttrs[a.byName.color.qname]:h[n][3];c.push(q)}return c}),new k(c.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(a){return a},null),new k(c.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(a){return a},null),new k(c.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(a){return a},null),new k(c.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(a){return a},null),new k(c.ns_tts,"zIndex","auto",["region"],!1,!0,function(a){"auto"!==a&&(a=parseInt(a),
isNaN(a)&&(a=null));return a},null),new k(c.ns_ebutts,"linePadding","0c",["p"],!0,!1,d.parseLength,function(a,c,h,k,n){return d.toComputedLength(k.value,k.unit,null,null,a.cellLength.w,null)}),new k(c.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(a){return a},null),new k(c.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(a){return a},null),new k(c.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(a){return"true"===a?!0:!1},null),new k(c.ns_itts,"fillLineGap",
"true",["p"],!0,!0,function(a){return"true"===a?!0:!1},null)];a.byQName={};for(var h in a.all)a.all.hasOwnProperty(h)&&(a.byQName[a.all[h].qname]=a.all[h]);a.byName={};for(var n in a.all)a.all.hasOwnProperty(n)&&(a.byName[a.all[n].name]=a.all[n])})("undefined"===typeof h?this.imscStyles={}:h,"undefined"===typeof imscNames?d("./names"):imscNames,"undefined"===typeof imscUtils?d("./utils"):imscUtils)},{"./names":37,"./utils":39}],39:[function(d,n,h){(function(a){var c=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,
d=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,h=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,n={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,
255,255,255]};a.parseColor=function(a){var b,k=null,q=n[a.toLowerCase()];void 0!==q?k=q:null!==(b=c.exec(a))?k=[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16),void 0!==b[4]?parseInt(b[4],16):255]:null!==(b=d.exec(a))?k=[parseInt(b[1]),parseInt(b[2]),parseInt(b[3]),255]:null!==(b=h.exec(a))&&(k=[parseInt(b[1]),parseInt(b[2]),parseInt(b[3]),parseInt(b[4])]);return k};var D=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;a.parseLength=function(a){var b,c=null;null!==(b=D.exec(a))&&(c={value:parseFloat(b[1]),
unit:b[2]});return c};a.parseTextShadow=function(b){b=b.split(",");for(var c=[],d=0;d<b.length;d++){var h=b[d].split(" ");if(1===h.length&&"none"===h[0])return"none";if(1<h.length&&5>h.length){var k=[null,null,null,null],n=a.parseLength(h.shift());if(null===n)return null;k[0]=n;n=a.parseLength(h.shift());if(null===n)return null;k[1]=n;if(0!==h.length&&(n=a.parseLength(h[0]),null!==n&&(k[2]=n,h.shift()),0!==h.length)){h=a.parseColor(h[0]);if(null===h)return null;k[3]=h}c.push(k)}}return c};a.parsePosition=
function(b){b=b.split(" ");var c=function(a){return"center"===a||"left"===a||"top"===a||"bottom"===a||"right"===a};if(4<b.length)return null;for(var d in b)if(b.hasOwnProperty(d)&&!c(b[d])){var h=a.parseLength(b[d]);if(null===h)return null;b[d]=h}d={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}};for(h=0;h<b.length;){var k=b[h++];if(c(k)){var n={value:0,unit:"%"};2!==b.length&&h<b.length&&!c(b[h])&&(n=b[h++]);"right"===k?(d.h.edge=k,d.h.offset=n):"bottom"===k?
(d.v.edge=k,d.v.offset=n):"left"===k?d.h.offset=n:"top"===k&&(d.v.offset=n)}else if(1===b.length||2===b.length)1===h?d.h.offset=k:d.v.offset=k;else return null}return d};a.ComputedLength=function(a,c){this.rw=a;this.rh=c};a.ComputedLength.prototype.toUsedLength=function(a,c){return a*this.rw+c*this.rh};a.ComputedLength.prototype.multiply=function(a,c){return c?a*c:a};a.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh};a.toComputedLength=function(b,c,d,h,k,n){return"%"===
c&&h?new a.ComputedLength(h.rw*b/100,h.rh*b/100):"em"===c&&d?new a.ComputedLength(d.rw*b,d.rh*b):"c"===c&&k?new a.ComputedLength(b*k.rw,b*k.rh):"px"===c&&n?new a.ComputedLength(b*n.rw,b*n.rh):"rh"===c?new a.ComputedLength(0,b/100):"rw"===c?new a.ComputedLength(b/100,0):null}})("undefined"===typeof h?this.imscUtils={}:h)},{}]},{},[36])(36)});
