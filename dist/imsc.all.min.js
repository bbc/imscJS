/*
 The buffer module from node.js, for the browser.

 @author   Feross Aboukhadijeh <https://feross.org>
 @license  MIT
 Determine if an object is a Buffer

 @author   Feross Aboukhadijeh <https://feross.org>
 @license  MIT
 safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource>  http://mths.be/fromcodepoint v0.1.0 by @mathias */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,p,g){b!=Array.prototype&&b!=Object.prototype&&(b[p]=g.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,p,g,a){if(p){g=$jscomp.global;b=b.split(".");for(a=0;a<b.length-1;a++){var d=b[a];d in g||(g[d]={});g=g[d]}b=b[b.length-1];a=g[b];p=p(a);p!=a&&null!=p&&$jscomp.defineProperty(g,b,{configurable:!0,writable:!0,value:p})}};$jscomp.polyfill("Array.prototype.fill",function(b){return b?b:function(b,g,a){var d=this.length||0;0>g&&(g=Math.max(0,d+g));if(null==a||a>d)a=d;a=Number(a);0>a&&(a=Math.max(0,d+a));for(g=Number(g||0);g<a;g++)this[g]=b;return this}},"es6","es3");
$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var b=0;return function(p){return $jscomp.SYMBOL_PREFIX+(p||"")+b++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.asyncIterator;b||(b=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.arrayIterator=function(b){var p=0;return $jscomp.iteratorPrototype(function(){return p<b.length?{done:!1,value:b[p++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.iteratorFromArray=function(b,p){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var g=0,a={next:function(){if(g<b.length){var d=g++;return{value:p(d,b[d]),done:!1}}a.next=function(){return{done:!0,value:void 0}};return a.next()}};a[Symbol.iterator]=function(){return a};return a};
$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");$jscomp.polyfill("Object.getOwnPropertySymbols",function(b){return b?b:function(){return[]}},"es6","es5");
$jscomp.polyfill("Reflect.ownKeys",function(b){return b?b:function(b){var g=[],a=Object.getOwnPropertyNames(b);b=Object.getOwnPropertySymbols(b);for(var d=0;d<a.length;d++)("jscomp_symbol_"==a[d].substring(0,14)?b:g).push(a[d]);return g.concat(b)}},"es6","es5");
$jscomp.polyfill("String.fromCodePoint",function(b){return b?b:function(b){for(var g="",a=0;a<arguments.length;a++){var d=Number(arguments[a]);if(0>d||1114111<d||d!==Math.floor(d))throw new RangeError("invalid_code_point "+d);65535>=d?g+=String.fromCharCode(d):(d-=65536,g+=String.fromCharCode(d>>>10&1023|55296),g+=String.fromCharCode(d&1023|56320))}return g}},"es6","es3");$jscomp.owns=function(b,p){return Object.prototype.hasOwnProperty.call(b,p)};
$jscomp.assign="function"==typeof Object.assign?Object.assign:function(b,p){for(var g=1;g<arguments.length;g++){var a=arguments[g];if(a)for(var d in a)$jscomp.owns(a,d)&&(b[d]=a[d])}return b};$jscomp.polyfill("Object.assign",function(b){return b||$jscomp.assign},"es6","es3");$jscomp.polyfill("Object.entries",function(b){return b?b:function(b){var g=[],a;for(a in b)$jscomp.owns(b,a)&&g.push([a,b[a]]);return g}},"es8","es3");
$jscomp.polyfill("Object.is",function(b){return b?b:function(b,g){return b===g?0!==b||1/b===1/g:b!==b&&g!==g}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(b,g){var a=this;a instanceof String&&(a=String(a));var d=a.length;g=g||0;for(0>g&&(g=Math.max(g+d,0));g<d;g++){var k=a[g];if(k===b||Object.is(k,b))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(b,p,g){if(null==b)throw new TypeError("The 'this' value for String.prototype."+g+" must not be null or undefined");if(p instanceof RegExp)throw new TypeError("First argument to String.prototype."+g+" must not be a regular expression");return b+""};$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(b,g){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,g||0)}},"es6","es3");
$jscomp.polyfill("Math.sign",function(b){return b?b:function(b){b=Number(b);return 0===b||isNaN(b)?b:0<b?1:-1}},"es6","es3");$jscomp.checkEs6ConformanceViaProxy=function(){try{var b={},p=Object.create(new $jscomp.global.Proxy(b,{get:function(g,a,d){return g==b&&"q"==a&&d==p}}));return!0===p.q}catch(g){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();
$jscomp.makeIterator=function(b){$jscomp.initSymbolIterator();var p=b[Symbol.iterator];return p?p.call(b):$jscomp.arrayIterator(b)};
$jscomp.polyfill("WeakMap",function(b){function p(){if(!b||!Object.seal)return!1;try{var a=Object.seal({}),d=Object.seal({}),c=new b([[a,2],[d,3]]);if(2!=c.get(a)||3!=c.get(d))return!1;c.delete(a);c.set(d,4);return!c.has(a)&&4==c.get(d)}catch(w){return!1}}function g(a){$jscomp.owns(a,d)||$jscomp.defineProperty(a,d,{value:{}})}function a(a){var b=Object[a];b&&(Object[a]=function(c){g(c);return b(c)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE)return b}else if(p())return b;
var d="$jscomp_hidden_"+Math.random();a("freeze");a("preventExtensions");a("seal");var k=0,l=function(a){this.id_=(k+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};l.prototype.set=function(a,b){g(a);if(!$jscomp.owns(a,d))throw Error("WeakMap key fail: "+a);a[d][this.id_]=b;return this};l.prototype.get=function(a){return $jscomp.owns(a,d)?a[d][this.id_]:void 0};l.prototype.has=
function(a){return $jscomp.owns(a,d)&&$jscomp.owns(a[d],this.id_)};l.prototype.delete=function(a){return $jscomp.owns(a,d)&&$jscomp.owns(a[d],this.id_)?delete a[d][this.id_]:!1};return l},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(b){function p(){if($jscomp.ASSUME_NO_NATIVE_MAP||!b||"function"!=typeof b||!b.prototype.entries||"function"!=typeof Object.seal)return!1;try{var a=Object.seal({x:4}),c=new b($jscomp.makeIterator([[a,"s"]]));if("s"!=c.get(a)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),k=d.next();if(k.done||k.value[0]!=a||"s"!=k.value[1])return!1;k=d.next();return k.done||4!=k.value[0].x||"t"!=k.value[1]||!d.next().done?!1:!0}catch(x){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE)return b}else if(p())return b;$jscomp.initSymbol();$jscomp.initSymbolIterator();var g=new WeakMap,a=function(a){this.data_={};this.head_=l();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}};a.prototype.set=function(a,c){a=0===a?0:a;var b=d(this,a);b.list||(b.list=this.data_[b.id]=[]);b.entry?b.entry.value=c:(b.entry={next:this.head_,previous:this.head_.previous,head:this.head_,
key:a,value:c},b.list.push(b.entry),this.head_.previous.next=b.entry,this.head_.previous=b.entry,this.size++);return this};a.prototype.delete=function(a){a=d(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};a.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=l();this.size=0};a.prototype.has=function(a){return!!d(this,a).entry};
a.prototype.get=function(a){return(a=d(this,a).entry)&&a.value};a.prototype.entries=function(){return k(this,function(a){return[a.key,a.value]})};a.prototype.keys=function(){return k(this,function(a){return a.key})};a.prototype.values=function(){return k(this,function(a){return a.value})};a.prototype.forEach=function(a,c){for(var b=this.entries(),d;!(d=b.next()).done;)d=d.value,a.call(c,d[1],d[0],this)};a.prototype[Symbol.iterator]=a.prototype.entries;var d=function(a,c){var b=c&&typeof c;"object"==
b||"function"==b?g.has(c)?b=g.get(c):(b=""+ ++u,g.set(c,b)):b="p_"+c;var d=a.data_[b];if(d&&$jscomp.owns(a.data_,b))for(a=0;a<d.length;a++){var k=d[a];if(c!==c&&k.key!==k.key||c===k.key)return{id:b,list:d,index:a,entry:k}}return{id:b,list:d,index:-1,entry:void 0}},k=function(a,c){var b=a.head_;return $jscomp.iteratorPrototype(function(){if(b){for(;b.head!=a.head_;)b=b.previous;for(;b.next!=b.head;)return b=b.next,{done:!1,value:c(b)};b=null}return{done:!0,value:void 0}})},l=function(){var a={};return a.previous=
a.next=a.head=a},u=0;return a},"es6","es3");
$jscomp.polyfill("Set",function(b){function p(){if($jscomp.ASSUME_NO_NATIVE_SET||!b||"function"!=typeof b||!b.prototype.entries||"function"!=typeof Object.seal)return!1;try{var a=Object.seal({x:4}),d=new b($jscomp.makeIterator([a]));if(!d.has(a)||1!=d.size||d.add(a)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var k=d.entries(),l=k.next();if(l.done||l.value[0]!=a||l.value[1]!=a)return!1;l=k.next();return l.done||l.value[0]==a||4!=l.value[0].x||l.value[1]!=l.value[0]?!1:k.next().done}catch(u){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE)return b}else if(p())return b;$jscomp.initSymbol();$jscomp.initSymbolIterator();var g=function(a){this.map_=new Map;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.map_.size};g.prototype.add=function(a){a=0===a?0:a;this.map_.set(a,a);this.size=this.map_.size;return this};g.prototype.delete=function(a){a=this.map_.delete(a);this.size=this.map_.size;return a};g.prototype.clear=
function(){this.map_.clear();this.size=0};g.prototype.has=function(a){return this.map_.has(a)};g.prototype.entries=function(){return this.map_.entries()};g.prototype.values=function(){return this.map_.values()};g.prototype.keys=g.prototype.values;g.prototype[Symbol.iterator]=g.prototype.values;g.prototype.forEach=function(a,b){var d=this;this.map_.forEach(function(k){return a.call(b,k,k,d)})};return g},"es6","es3");
(function(b){"object"===typeof exports&&"undefined"!==typeof module?module.exports=b():"function"===typeof define&&define.amd?define([],b):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).imsc=b()})(function(){return function(){function b(p,g,a){function d(l,A){if(!g[l]){if(!p[l]){var c="function"==typeof require&&require;if(!A&&c)return c(l,!0);if(k)return k(l,!0);A=Error("Cannot find module '"+l+"'");throw A.code="MODULE_NOT_FOUND",A;}A=
g[l]={exports:{}};p[l][0].call(A.exports,function(a){return d(p[l][1][a]||a)},A,A.exports,b,p,g,a)}return g[l].exports}for(var k="function"==typeof require&&require,l=0;l<a.length;l++)d(a[l]);return d}return b}()({1:[function(b,p,g){function a(a){var c=a.length;if(0<c%4)throw Error("Invalid string. Length must be a multiple of 4");a=a.indexOf("=");-1===a&&(a=c);return[a,a===c?0:4-a%4]}function d(a,c,b){for(var d=[],w=c;w<b;w+=3)c=(a[w]<<16&16711680)+(a[w+1]<<8&65280)+(a[w+2]&255),d.push(k[c>>18&63]+
k[c>>12&63]+k[c>>6&63]+k[c&63]);return d.join("")}g.byteLength=function(b){b=a(b);var c=b[1];return 3*(b[0]+c)/4-c};g.toByteArray=function(b){var c=a(b);var d=c[0];c=c[1];var k=new u(3*(d+c)/4-c),x=0,g=0<c?d-4:d,r;for(r=0;r<g;r+=4)d=l[b.charCodeAt(r)]<<18|l[b.charCodeAt(r+1)]<<12|l[b.charCodeAt(r+2)]<<6|l[b.charCodeAt(r+3)],k[x++]=d>>16&255,k[x++]=d>>8&255,k[x++]=d&255;2===c&&(d=l[b.charCodeAt(r)]<<2|l[b.charCodeAt(r+1)]>>4,k[x++]=d&255);1===c&&(d=l[b.charCodeAt(r)]<<10|l[b.charCodeAt(r+1)]<<4|l[b.charCodeAt(r+
2)]>>2,k[x++]=d>>8&255,k[x++]=d&255);return k};g.fromByteArray=function(a){for(var c=a.length,b=c%3,l=[],x=0,g=c-b;x<g;x+=16383)l.push(d(a,x,x+16383>g?g:x+16383));1===b?(a=a[c-1],l.push(k[a>>2]+k[a<<4&63]+"==")):2===b&&(a=(a[c-2]<<8)+a[c-1],l.push(k[a>>10]+k[a>>4&63]+k[a<<2&63]+"="));return l.join("")};var k=[],l=[],u="undefined"!==typeof Uint8Array?Uint8Array:Array;for(b=0;64>b;++b)k[b]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b],l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(b)]=
b;l[45]=62;l[95]=63},{}],2:[function(b,p,g){},{}],3:[function(b,p,g){(function(a){function d(m){if(2147483647<m)throw new RangeError('The value "'+m+'" is invalid for option "size"');m=new Uint8Array(m);m.__proto__=a.prototype;return m}function a(m,a,h){if("number"===typeof m){if("string"===typeof a)throw new TypeError('The "string" argument must be of type string. Received type number');return u(m)}return k(m,a,h)}function k(m,E,h){if("string"===typeof m){var f=E;if("string"!==typeof f||""===f)f=
"utf8";if(!a.isEncoding(f))throw new TypeError("Unknown encoding: "+f);E=t(m,f)|0;h=d(E);m=h.write(m,f);m!==E&&(h=h.slice(0,m));return h}if(ArrayBuffer.isView(m))return A(m);if(null==m)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(K(m,ArrayBuffer)||m&&K(m.buffer,ArrayBuffer)){if(0>E||m.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<E+(h||0))throw new RangeError('"length" is outside of buffer bounds');
m=void 0===E&&void 0===h?new Uint8Array(m):void 0===h?new Uint8Array(m,E):new Uint8Array(m,E,h);m.__proto__=a.prototype;return m}if("number"===typeof m)throw new TypeError('The "value" argument must not be of type number. Received type number');f=m.valueOf&&m.valueOf();if(null!=f&&f!==m)return a.from(f,E,h);if(f=c(m))return f;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof m[Symbol.toPrimitive])return a.from(m[Symbol.toPrimitive]("string"),E,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+
typeof m);}function l(m){if("number"!==typeof m)throw new TypeError('"size" argument must be of type number');if(0>m)throw new RangeError('The value "'+m+'" is invalid for option "size"');}function u(m){l(m);return d(0>m?0:w(m)|0)}function A(m){for(var a=0>m.length?0:w(m.length)|0,h=d(a),f=0;f<a;f+=1)h[f]=m[f]&255;return h}function c(m){if(a.isBuffer(m)){var c=w(m.length)|0,h=d(c);if(0===h.length)return h;m.copy(h,0,0,c);return h}if(void 0!==m.length)return(c="number"!==typeof m.length)||(c=m.length,
c=c!==c),c?d(0):A(m);if("Buffer"===m.type&&Array.isArray(m.data))return A(m.data)}function w(m){if(2147483647<=m)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(2147483647).toString(16)+" bytes");return m|0}function t(m,c){if(a.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||K(m,ArrayBuffer))return m.byteLength;if("string"!==typeof m)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);var h=
m.length,f=2<arguments.length&&!0===arguments[2];if(!f&&0===h)return 0;for(var E=!1;;)switch(c){case "ascii":case "latin1":case "binary":return h;case "utf8":case "utf-8":return e(m).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*h;case "hex":return h>>>1;case "base64":return M.toByteArray(v(m)).length;default:if(E)return f?-1:e(m).length;c=(""+c).toLowerCase();E=!0}}function x(m,a,h){var f=!1;if(void 0===a||0>a)a=0;if(a>this.length)return"";if(void 0===h||h>this.length)h=
this.length;if(0>=h)return"";h>>>=0;a>>>=0;if(h<=a)return"";for(m||(m="utf8");;)switch(m){case "hex":m=a;a=h;h=this.length;if(!m||0>m)m=0;if(!a||0>a||a>h)a=h;f="";for(h=m;h<a;++h)m=f,f=this[h],f=16>f?"0"+f.toString(16):f.toString(16),f=m+f;return f;case "utf8":case "utf-8":return G(this,a,h);case "ascii":m="";for(h=Math.min(this.length,h);a<h;++a)m+=String.fromCharCode(this[a]&127);return m;case "latin1":case "binary":m="";for(h=Math.min(this.length,h);a<h;++a)m+=String.fromCharCode(this[a]);return m;
case "base64":return a=0===a&&h===this.length?M.fromByteArray(this):M.fromByteArray(this.slice(a,h)),a;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":a=this.slice(a,h);h="";for(m=0;m<a.length;m+=2)h+=String.fromCharCode(a[m]+256*a[m+1]);return h;default:if(f)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase();f=!0}}function z(m,a,h){var f=m[a];m[a]=m[h];m[h]=f}function r(m,c,h,f,b){if(0===m.length)return-1;"string"===typeof h?(f=h,h=0):2147483647<h?h=2147483647:-2147483648>
h&&(h=-2147483648);h=+h;h!==h&&(h=b?0:m.length-1);0>h&&(h=m.length+h);if(h>=m.length){if(b)return-1;h=m.length-1}else if(0>h)if(b)h=0;else return-1;"string"===typeof c&&(c=a.from(c,f));if(a.isBuffer(c))return 0===c.length?-1:p(m,c,h,f,b);if("number"===typeof c)return c&=255,"function"===typeof Uint8Array.prototype.indexOf?b?Uint8Array.prototype.indexOf.call(m,c,h):Uint8Array.prototype.lastIndexOf.call(m,c,h):p(m,[c],h,f,b);throw new TypeError("val must be string, number or Buffer");}function p(m,
a,h,f,c){function b(f,m){return 1===E?f[m]:f.readUInt16BE(m*E)}var E=1,e=m.length,q=a.length;if(void 0!==f&&(f=String(f).toLowerCase(),"ucs2"===f||"ucs-2"===f||"utf16le"===f||"utf-16le"===f)){if(2>m.length||2>a.length)return-1;E=2;e/=2;q/=2;h/=2}if(c)for(f=-1;h<e;h++)if(b(m,h)===b(a,-1===f?0:h-f)){if(-1===f&&(f=h),h-f+1===q)return f*E}else-1!==f&&(h-=h-f),f=-1;else for(h+q>e&&(h=e-q);0<=h;h--){e=!0;for(f=0;f<q;f++)if(b(m,h+f)!==b(a,f)){e=!1;break}if(e)return h}return-1}function G(m,a,h){h=Math.min(m.length,
h);for(var f=[];a<h;){var c=m[a],b=null,e=239<c?4:223<c?3:191<c?2:1;if(a+e<=h)switch(e){case 1:128>c&&(b=c);break;case 2:var E=m[a+1];128===(E&192)&&(c=(c&31)<<6|E&63,127<c&&(b=c));break;case 3:E=m[a+1];var q=m[a+2];128===(E&192)&&128===(q&192)&&(c=(c&15)<<12|(E&63)<<6|q&63,2047<c&&(55296>c||57343<c)&&(b=c));break;case 4:E=m[a+1];q=m[a+2];var n=m[a+3];128===(E&192)&&128===(q&192)&&128===(n&192)&&(c=(c&15)<<18|(E&63)<<12|(q&63)<<6|n&63,65535<c&&1114112>c&&(b=c))}null===b?(b=65533,e=1):65535<b&&(b-=
65536,f.push(b>>>10&1023|55296),b=56320|b&1023);f.push(b);a+=e}m=f.length;if(m<=D)f=String.fromCharCode.apply(String,f);else{h="";for(a=0;a<m;)h+=String.fromCharCode.apply(String,f.slice(a,a+=D));f=h}return f}function y(m,a,h){if(0!==m%1||0>m)throw new RangeError("offset is not uint");if(m+a>h)throw new RangeError("Trying to access beyond buffer length");}function B(m,c,h,f,b,e){if(!a.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>b||c<e)throw new RangeError('"value" argument is out of bounds');
if(h+f>m.length)throw new RangeError("Index out of range");}function L(m,a,h,f,c,b){if(h+f>m.length)throw new RangeError("Index out of range");if(0>h)throw new RangeError("Index out of range");}function F(m,a,h,f,c){a=+a;h>>>=0;c||L(m,a,h,4,3.4028234663852886E38,-3.4028234663852886E38);J.write(m,a,h,f,23,4);return h+4}function n(m,a,h,f,c){a=+a;h>>>=0;c||L(m,a,h,8,1.7976931348623157E308,-1.7976931348623157E308);J.write(m,a,h,f,52,8);return h+8}function v(m){m=m.split("=")[0];m=m.trim().replace(I,
"");if(2>m.length)return"";for(;0!==m.length%4;)m+="=";return m}function e(m,a){a=a||Infinity;for(var h,f=m.length,c=null,b=[],e=0;e<f;++e){h=m.charCodeAt(e);if(55295<h&&57344>h){if(!c){if(56319<h){-1<(a-=3)&&b.push(239,191,189);continue}else if(e+1===f){-1<(a-=3)&&b.push(239,191,189);continue}c=h;continue}if(56320>h){-1<(a-=3)&&b.push(239,191,189);c=h;continue}h=(c-55296<<10|h-56320)+65536}else c&&-1<(a-=3)&&b.push(239,191,189);c=null;if(128>h){if(0>--a)break;b.push(h)}else if(2048>h){if(0>(a-=2))break;
b.push(h>>6|192,h&63|128)}else if(65536>h){if(0>(a-=3))break;b.push(h>>12|224,h>>6&63|128,h&63|128)}else if(1114112>h){if(0>(a-=4))break;b.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw Error("Invalid code point");}return b}function q(a){for(var m=[],h=0;h<a.length;++h)m.push(a.charCodeAt(h)&255);return m}function H(a,c,h,f){for(var m=0;m<f&&!(m+h>=c.length||m>=a.length);++m)c[m+h]=a[m];return m}function K(a,c){return a instanceof c||null!=a&&null!=a.constructor&&null!=a.constructor.name&&
a.constructor.name===c.name}var M=b("base64-js"),J=b("ieee754");g.Buffer=a;g.SlowBuffer=function(m){+m!=m&&(m=0);return a.alloc(+m)};g.INSPECT_MAX_BYTES=50;g.kMaxLength=2147483647;a.TYPED_ARRAY_SUPPORT=function(){try{var a=new Uint8Array(1);a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===a.foo()}catch(E){return!1}}();a.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}});Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});"undefined"!==typeof Symbol&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1});a.poolSize=8192;a.from=function(a,c,h){return k(a,c,h)};a.prototype.__proto__=Uint8Array.prototype;
a.__proto__=Uint8Array;a.alloc=function(a,c,h){l(a);a=0>=a?d(a):void 0!==c?"string"===typeof h?d(a).fill(c,h):d(a).fill(c):d(a);return a};a.allocUnsafe=function(a){return u(a)};a.allocUnsafeSlow=function(a){return u(a)};a.isBuffer=function(m){return null!=m&&!0===m._isBuffer&&m!==a.prototype};a.compare=function(m,c){K(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength));K(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength));if(!a.isBuffer(m)||!a.isBuffer(c))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');
if(m===c)return 0;for(var h=m.length,f=c.length,b=0,e=Math.min(h,f);b<e;++b)if(m[b]!==c[b]){h=m[b];f=c[b];break}return h<f?-1:f<h?1:0};a.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};a.concat=function(m,c){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(0===m.length)return a.alloc(0);
var h;if(void 0===c)for(h=c=0;h<m.length;++h)c+=m[h].length;c=a.allocUnsafe(c);var f=0;for(h=0;h<m.length;++h){var b=m[h];K(b,Uint8Array)&&(b=a.from(b));if(!a.isBuffer(b))throw new TypeError('"list" argument must be an Array of Buffers');b.copy(c,f);f+=b.length}return c};a.byteLength=t;a.prototype._isBuffer=!0;a.prototype.swap16=function(){var a=this.length;if(0!==a%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var c=0;c<a;c+=2)z(this,c,c+1);return this};a.prototype.swap32=
function(){var a=this.length;if(0!==a%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var c=0;c<a;c+=4)z(this,c,c+3),z(this,c+1,c+2);return this};a.prototype.swap64=function(){var a=this.length;if(0!==a%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var c=0;c<a;c+=8)z(this,c,c+7),z(this,c+1,c+6),z(this,c+2,c+5),z(this,c+3,c+4);return this};a.prototype.toString=function(){var a=this.length;return 0===a?"":0===arguments.length?G(this,0,a):x.apply(this,
arguments)};a.prototype.toLocaleString=a.prototype.toString;a.prototype.equals=function(c){if(!a.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?!0:0===a.compare(this,c)};a.prototype.inspect=function(){var a=g.INSPECT_MAX_BYTES;var c=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim();this.length>a&&(c+=" ... ");return"<Buffer "+c+">"};a.prototype.compare=function(c,b,h,f,e){K(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength));if(!a.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+
typeof c);void 0===b&&(b=0);void 0===h&&(h=c?c.length:0);void 0===f&&(f=0);void 0===e&&(e=this.length);if(0>b||h>c.length||0>f||e>this.length)throw new RangeError("out of range index");if(f>=e&&b>=h)return 0;if(f>=e)return-1;if(b>=h)return 1;b>>>=0;h>>>=0;f>>>=0;e>>>=0;if(this===c)return 0;var m=e-f,q=h-b,n=Math.min(m,q);f=this.slice(f,e);c=c.slice(b,h);for(b=0;b<n;++b)if(f[b]!==c[b]){m=f[b];q=c[b];break}return m<q?-1:q<m?1:0};a.prototype.includes=function(a,c,h){return-1!==this.indexOf(a,c,h)};a.prototype.indexOf=
function(a,c,h){return r(this,a,c,h,!0)};a.prototype.lastIndexOf=function(a,c,h){return r(this,a,c,h,!1)};a.prototype.write=function(a,c,h,f){if(void 0===c)f="utf8",h=this.length,c=0;else if(void 0===h&&"string"===typeof c)f=c,h=this.length,c=0;else if(isFinite(c))c>>>=0,isFinite(h)?(h>>>=0,void 0===f&&(f="utf8")):(f=h,h=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var m=this.length-c;if(void 0===h||h>m)h=m;if(0<a.length&&(0>h||0>c)||c>this.length)throw new RangeError("Attempt to write outside buffer bounds");
f||(f="utf8");for(m=!1;;)switch(f){case "hex":a:{c=Number(c)||0;f=this.length-c;h?(h=Number(h),h>f&&(h=f)):h=f;f=a.length;h>f/2&&(h=f/2);for(f=0;f<h;++f){m=parseInt(a.substr(2*f,2),16);if(m!==m){a=f;break a}this[c+f]=m}a=f}return a;case "utf8":case "utf-8":return H(e(a,this.length-c),this,c,h);case "ascii":return H(q(a),this,c,h);case "latin1":case "binary":return H(q(a),this,c,h);case "base64":return H(M.toByteArray(v(a)),this,c,h);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":f=a;m=this.length-
c;for(var b=[],n=0;n<f.length&&!(0>(m-=2));++n){var d=f.charCodeAt(n);a=d>>8;d%=256;b.push(d);b.push(a)}return H(b,this,c,h);default:if(m)throw new TypeError("Unknown encoding: "+f);f=(""+f).toLowerCase();m=!0}};a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;a.prototype.slice=function(c,b){var h=this.length;c=~~c;b=void 0===b?h:~~b;0>c?(c+=h,0>c&&(c=0)):c>h&&(c=h);0>b?(b+=h,0>b&&(b=0)):b>h&&(b=h);b<c&&(b=c);c=this.subarray(c,b);c.__proto__=
a.prototype;return c};a.prototype.readUIntLE=function(a,c,h){a>>>=0;c>>>=0;h||y(a,c,this.length);h=this[a];for(var f=1,m=0;++m<c&&(f*=256);)h+=this[a+m]*f;return h};a.prototype.readUIntBE=function(a,c,h){a>>>=0;c>>>=0;h||y(a,c,this.length);h=this[a+--c];for(var f=1;0<c&&(f*=256);)h+=this[a+--c]*f;return h};a.prototype.readUInt8=function(a,c){a>>>=0;c||y(a,1,this.length);return this[a]};a.prototype.readUInt16LE=function(a,c){a>>>=0;c||y(a,2,this.length);return this[a]|this[a+1]<<8};a.prototype.readUInt16BE=
function(a,c){a>>>=0;c||y(a,2,this.length);return this[a]<<8|this[a+1]};a.prototype.readUInt32LE=function(a,c){a>>>=0;c||y(a,4,this.length);return(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]};a.prototype.readUInt32BE=function(a,c){a>>>=0;c||y(a,4,this.length);return 16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])};a.prototype.readIntLE=function(a,c,h){a>>>=0;c>>>=0;h||y(a,c,this.length);h=this[a];for(var f=1,m=0;++m<c&&(f*=256);)h+=this[a+m]*f;h>=128*f&&(h-=Math.pow(2,8*c));return h};
a.prototype.readIntBE=function(a,c,h){a>>>=0;c>>>=0;h||y(a,c,this.length);h=c;for(var f=1,b=this[a+--h];0<h&&(f*=256);)b+=this[a+--h]*f;b>=128*f&&(b-=Math.pow(2,8*c));return b};a.prototype.readInt8=function(a,c){a>>>=0;c||y(a,1,this.length);return this[a]&128?-1*(255-this[a]+1):this[a]};a.prototype.readInt16LE=function(a,c){a>>>=0;c||y(a,2,this.length);a=this[a]|this[a+1]<<8;return a&32768?a|4294901760:a};a.prototype.readInt16BE=function(a,c){a>>>=0;c||y(a,2,this.length);a=this[a+1]|this[a]<<8;return a&
32768?a|4294901760:a};a.prototype.readInt32LE=function(a,c){a>>>=0;c||y(a,4,this.length);return this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24};a.prototype.readInt32BE=function(a,c){a>>>=0;c||y(a,4,this.length);return this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]};a.prototype.readFloatLE=function(a,c){a>>>=0;c||y(a,4,this.length);return J.read(this,a,!0,23,4)};a.prototype.readFloatBE=function(a,c){a>>>=0;c||y(a,4,this.length);return J.read(this,a,!1,23,4)};a.prototype.readDoubleLE=function(a,
c){a>>>=0;c||y(a,8,this.length);return J.read(this,a,!0,52,8)};a.prototype.readDoubleBE=function(a,c){a>>>=0;c||y(a,8,this.length);return J.read(this,a,!1,52,8)};a.prototype.writeUIntLE=function(a,c,h,f){a=+a;c>>>=0;h>>>=0;f||B(this,a,c,h,Math.pow(2,8*h)-1,0);f=1;var b=0;for(this[c]=a&255;++b<h&&(f*=256);)this[c+b]=a/f&255;return c+h};a.prototype.writeUIntBE=function(a,c,h,f){a=+a;c>>>=0;h>>>=0;f||B(this,a,c,h,Math.pow(2,8*h)-1,0);f=h-1;var b=1;for(this[c+f]=a&255;0<=--f&&(b*=256);)this[c+f]=a/b&
255;return c+h};a.prototype.writeUInt8=function(a,c,h){a=+a;c>>>=0;h||B(this,a,c,1,255,0);this[c]=a&255;return c+1};a.prototype.writeUInt16LE=function(a,c,h){a=+a;c>>>=0;h||B(this,a,c,2,65535,0);this[c]=a&255;this[c+1]=a>>>8;return c+2};a.prototype.writeUInt16BE=function(a,c,h){a=+a;c>>>=0;h||B(this,a,c,2,65535,0);this[c]=a>>>8;this[c+1]=a&255;return c+2};a.prototype.writeUInt32LE=function(a,c,h){a=+a;c>>>=0;h||B(this,a,c,4,4294967295,0);this[c+3]=a>>>24;this[c+2]=a>>>16;this[c+1]=a>>>8;this[c]=a&
255;return c+4};a.prototype.writeUInt32BE=function(a,c,h){a=+a;c>>>=0;h||B(this,a,c,4,4294967295,0);this[c]=a>>>24;this[c+1]=a>>>16;this[c+2]=a>>>8;this[c+3]=a&255;return c+4};a.prototype.writeIntLE=function(a,c,h,f){a=+a;c>>>=0;f||(f=Math.pow(2,8*h-1),B(this,a,c,h,f-1,-f));f=0;var b=1,e=0;for(this[c]=a&255;++f<h&&(b*=256);)0>a&&0===e&&0!==this[c+f-1]&&(e=1),this[c+f]=(a/b>>0)-e&255;return c+h};a.prototype.writeIntBE=function(a,c,h,f){a=+a;c>>>=0;f||(f=Math.pow(2,8*h-1),B(this,a,c,h,f-1,-f));f=h-
1;var b=1,e=0;for(this[c+f]=a&255;0<=--f&&(b*=256);)0>a&&0===e&&0!==this[c+f+1]&&(e=1),this[c+f]=(a/b>>0)-e&255;return c+h};a.prototype.writeInt8=function(a,c,h){a=+a;c>>>=0;h||B(this,a,c,1,127,-128);0>a&&(a=255+a+1);this[c]=a&255;return c+1};a.prototype.writeInt16LE=function(a,c,h){a=+a;c>>>=0;h||B(this,a,c,2,32767,-32768);this[c]=a&255;this[c+1]=a>>>8;return c+2};a.prototype.writeInt16BE=function(a,c,h){a=+a;c>>>=0;h||B(this,a,c,2,32767,-32768);this[c]=a>>>8;this[c+1]=a&255;return c+2};a.prototype.writeInt32LE=
function(a,c,h){a=+a;c>>>=0;h||B(this,a,c,4,2147483647,-2147483648);this[c]=a&255;this[c+1]=a>>>8;this[c+2]=a>>>16;this[c+3]=a>>>24;return c+4};a.prototype.writeInt32BE=function(a,c,h){a=+a;c>>>=0;h||B(this,a,c,4,2147483647,-2147483648);0>a&&(a=4294967295+a+1);this[c]=a>>>24;this[c+1]=a>>>16;this[c+2]=a>>>8;this[c+3]=a&255;return c+4};a.prototype.writeFloatLE=function(a,c,h){return F(this,a,c,!0,h)};a.prototype.writeFloatBE=function(a,c,h){return F(this,a,c,!1,h)};a.prototype.writeDoubleLE=function(a,
c,h){return n(this,a,c,!0,h)};a.prototype.writeDoubleBE=function(a,c,h){return n(this,a,c,!1,h)};a.prototype.copy=function(c,b,h,f){if(!a.isBuffer(c))throw new TypeError("argument should be a Buffer");h||(h=0);f||0===f||(f=this.length);b>=c.length&&(b=c.length);b||(b=0);0<f&&f<h&&(f=h);if(f===h||0===c.length||0===this.length)return 0;if(0>b)throw new RangeError("targetStart out of bounds");if(0>h||h>=this.length)throw new RangeError("Index out of range");if(0>f)throw new RangeError("sourceEnd out of bounds");
f>this.length&&(f=this.length);c.length-b<f-h&&(f=c.length-b+h);var e=f-h;if(this===c&&"function"===typeof Uint8Array.prototype.copyWithin)this.copyWithin(b,h,f);else if(this===c&&h<b&&b<f)for(f=e-1;0<=f;--f)c[f+b]=this[f+h];else Uint8Array.prototype.set.call(c,this.subarray(h,f),b);return e};a.prototype.fill=function(c,b,h,f){if("string"===typeof c){"string"===typeof b?(f=b,b=0,h=this.length):"string"===typeof h&&(f=h,h=this.length);if(void 0!==f&&"string"!==typeof f)throw new TypeError("encoding must be a string");
if("string"===typeof f&&!a.isEncoding(f))throw new TypeError("Unknown encoding: "+f);if(1===c.length){var e=c.charCodeAt(0);if("utf8"===f&&128>e||"latin1"===f)c=e}}else"number"===typeof c&&(c&=255);if(0>b||this.length<b||this.length<h)throw new RangeError("Out of range index");if(h<=b)return this;b>>>=0;h=void 0===h?this.length:h>>>0;c||(c=0);if("number"===typeof c)for(f=b;f<h;++f)this[f]=c;else{e=a.isBuffer(c)?c:a.from(c,f);var q=e.length;if(0===q)throw new TypeError('The value "'+c+'" is invalid for argument "value"');
for(f=0;f<h-b;++f)this[f+b]=e[f%q]}return this};var I=/[^+/0-9A-Za-z-_]/g}).call(this,b("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:6}],4:[function(b,p,g){(function(a){g.isArray=function(a){return Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)};g.isBoolean=function(a){return"boolean"===typeof a};g.isNull=function(a){return null===a};g.isNullOrUndefined=function(a){return null==a};g.isNumber=function(a){return"number"===typeof a};g.isString=function(a){return"string"===
typeof a};g.isSymbol=function(a){return"symbol"===typeof a};g.isUndefined=function(a){return void 0===a};g.isRegExp=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)};g.isObject=function(a){return"object"===typeof a&&null!==a};g.isDate=function(a){return"[object Date]"===Object.prototype.toString.call(a)};g.isError=function(a){return"[object Error]"===Object.prototype.toString.call(a)||a instanceof Error};g.isFunction=function(a){return"function"===typeof a};g.isPrimitive=function(a){return null===
a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a};g.isBuffer=a.isBuffer}).call(this,{isBuffer:b("../../is-buffer/index.js")})},{"../../is-buffer/index.js":8}],5:[function(b,p,g){function a(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=z(null),this._eventsCount=0);this._maxListeners=this._maxListeners||void 0}function d(c,b,d,n){var k;if("function"!==typeof d)throw new TypeError('"listener" argument must be a function');
if(k=c._events){k.newListener&&(c.emit("newListener",b,d.listener?d.listener:d),k=c._events);var e=k[b]}else k=c._events=z(null),c._eventsCount=0;e?("function"===typeof e?e=k[b]=n?[d,e]:[e,d]:n?e.unshift(d):e.push(d),e.warned||(d=void 0===c._maxListeners?a.defaultMaxListeners:c._maxListeners)&&0<d&&e.length>d&&(e.warned=!0,d=Error("Possible EventEmitter memory leak detected. "+e.length+' "'+String(b)+'" listeners added. Use emitter.setMaxListeners() to increase limit.'),d.name="MaxListenersExceededWarning",
d.emitter=c,d.type=b,d.count=e.length,"object"===typeof console&&console.warn&&console.warn("%s: %s",d.name,d.message))):(k[b]=d,++c._eventsCount);return c}function k(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],
arguments[1],arguments[2]);default:for(var a=Array(arguments.length),c=0;c<a.length;++c)a[c]=arguments[c];this.listener.apply(this.target,a)}}function l(a,c,b){a={fired:!1,wrapFn:void 0,target:a,type:c,listener:b};c=C.call(k,a);c.listener=b;return a.wrapFn=c}function u(a,b,d){a=a._events;if(!a)return[];b=a[b];if(!b)return[];if("function"===typeof b)return d?[b.listener||b]:[b];if(d)for(d=Array(b.length),a=0;a<d.length;++a)d[a]=b[a].listener||b[a];else d=c(b,b.length);return d}function A(a){var c=
this._events;if(c){a=c[a];if("function"===typeof a)return 1;if(a)return a.length}return 0}function c(a,c){for(var b=Array(c),n=0;n<c;++n)b[n]=a[n];return b}function w(a){var c=function(){};c.prototype=a;return new c}function t(a){var c=[],b;for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return b}function x(a){var c=this;return function(){return c.apply(a,arguments)}}var z=Object.create||w,r=Object.keys||t,C=Function.prototype.bind||x;p.exports=a;a.EventEmitter=a;a.prototype._events=
void 0;a.prototype._maxListeners=void 0;var G=10;try{b={};Object.defineProperty&&Object.defineProperty(b,"x",{value:0});var y=0===b.x}catch(B){y=!1}y?Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return G},set:function(a){if("number"!==typeof a||0>a||a!==a)throw new TypeError('"defaultMaxListeners" must be a positive number');G=a}}):a.defaultMaxListeners=G;a.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw new TypeError('"n" argument must be a positive number');
this._maxListeners=a;return this};a.prototype.getMaxListeners=function(){return void 0===this._maxListeners?a.defaultMaxListeners:this._maxListeners};a.prototype.emit=function(a){var b,d,n;var k="error"===a;if(n=this._events)k=k&&null==n.error;else if(!k)return!1;if(k){1<arguments.length&&(b=arguments[1]);if(b instanceof Error)throw b;n=Error('Unhandled "error" event. ('+b+")");n.context=b;throw n;}b=n[a];if(!b)return!1;n="function"===typeof b;var e=arguments.length;switch(e){case 1:if(n)b.call(this);
else for(n=b.length,b=c(b,n),k=0;k<n;++k)b[k].call(this);break;case 2:k=arguments[1];if(n)b.call(this,k);else for(n=b.length,b=c(b,n),e=0;e<n;++e)b[e].call(this,k);break;case 3:k=arguments[1];e=arguments[2];if(n)b.call(this,k,e);else for(n=b.length,b=c(b,n),d=0;d<n;++d)b[d].call(this,k,e);break;case 4:k=arguments[1];e=arguments[2];d=arguments[3];if(n)b.call(this,k,e,d);else{n=b.length;b=c(b,n);for(var q=0;q<n;++q)b[q].call(this,k,e,d)}break;default:k=Array(e-1);for(d=1;d<e;d++)k[d-1]=arguments[d];
if(n)b.apply(this,k);else for(n=b.length,b=c(b,n),e=0;e<n;++e)b[e].apply(this,k)}return!0};a.prototype.addListener=function(a,c){return d(this,a,c,!1)};a.prototype.on=a.prototype.addListener;a.prototype.prependListener=function(a,c){return d(this,a,c,!0)};a.prototype.once=function(a,c){if("function"!==typeof c)throw new TypeError('"listener" argument must be a function');this.on(a,l(this,a,c));return this};a.prototype.prependOnceListener=function(a,c){if("function"!==typeof c)throw new TypeError('"listener" argument must be a function');
this.prependListener(a,l(this,a,c));return this};a.prototype.removeListener=function(a,c){var b;if("function"!==typeof c)throw new TypeError('"listener" argument must be a function');var n=this._events;if(!n)return this;var d=n[a];if(!d)return this;if(d===c||d.listener===c)0===--this._eventsCount?this._events=z(null):(delete n[a],n.removeListener&&this.emit("removeListener",a,d.listener||c));else if("function"!==typeof d){var e=-1;for(b=d.length-1;0<=b;b--)if(d[b]===c||d[b].listener===c){var q=d[b].listener;
e=b;break}if(0>e)return this;if(0===e)d.shift();else{b=e+1;for(var k=d.length;b<k;e+=1,b+=1)d[e]=d[b];d.pop()}1===d.length&&(n[a]=d[0]);n.removeListener&&this.emit("removeListener",a,q||c)}return this};a.prototype.removeAllListeners=function(a){var c=this._events;if(!c)return this;if(!c.removeListener)return 0===arguments.length?(this._events=z(null),this._eventsCount=0):c[a]&&(0===--this._eventsCount?this._events=z(null):delete c[a]),this;if(0===arguments.length){var b=r(c);for(c=0;c<b.length;++c){var d=
b[c];"removeListener"!==d&&this.removeAllListeners(d)}this.removeAllListeners("removeListener");this._events=z(null);this._eventsCount=0;return this}b=c[a];if("function"===typeof b)this.removeListener(a,b);else if(b)for(c=b.length-1;0<=c;c--)this.removeListener(a,b[c]);return this};a.prototype.listeners=function(a){return u(this,a,!0)};a.prototype.rawListeners=function(a){return u(this,a,!1)};a.listenerCount=function(a,c){return"function"===typeof a.listenerCount?a.listenerCount(c):A.call(a,c)};a.prototype.listenerCount=
A;a.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],6:[function(b,p,g){g.read=function(a,b,k,l,g){var d=8*g-l-1;var c=(1<<d)-1,w=c>>1,t=-7;g=k?g-1:0;var x=k?-1:1,u=a[b+g];g+=x;k=u&(1<<-t)-1;u>>=-t;for(t+=d;0<t;k=256*k+a[b+g],g+=x,t-=8);d=k&(1<<-t)-1;k>>=-t;for(t+=l;0<t;d=256*d+a[b+g],g+=x,t-=8);if(0===k)k=1-w;else{if(k===c)return d?NaN:Infinity*(u?-1:1);d+=Math.pow(2,l);k-=w}return(u?-1:1)*d*Math.pow(2,k-l)};g.write=function(a,b,k,l,g,A){var c,d=8*
A-g-1,t=(1<<d)-1,x=t>>1,u=23===g?Math.pow(2,-24)-Math.pow(2,-77):0;A=l?0:A-1;var r=l?1:-1,p=0>b||0===b&&0>1/b?1:0;b=Math.abs(b);isNaN(b)||Infinity===b?(b=isNaN(b)?1:0,l=t):(l=Math.floor(Math.log(b)/Math.LN2),1>b*(c=Math.pow(2,-l))&&(l--,c*=2),b=1<=l+x?b+u/c:b+u*Math.pow(2,1-x),2<=b*c&&(l++,c/=2),l+x>=t?(b=0,l=t):1<=l+x?(b=(b*c-1)*Math.pow(2,g),l+=x):(b=b*Math.pow(2,x-1)*Math.pow(2,g),l=0));for(;8<=g;a[k+A]=b&255,A+=r,b/=256,g-=8);l=l<<g|b;for(d+=g;0<d;a[k+A]=l&255,A+=r,l/=256,d-=8);a[k+A-r]|=128*
p}},{}],7:[function(b,p,g){p.exports="function"===typeof Object.create?function(a,b){b&&(a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:function(a,b){if(b){a.super_=b;var d=function(){};d.prototype=b.prototype;a.prototype=new d;a.prototype.constructor=a}}},{}],8:[function(b,p,g){function a(a){return!!a.constructor&&"function"===typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)}p.exports=function(b){return null!=b&&(a(b)||
"function"===typeof b.readFloatLE&&"function"===typeof b.slice&&a(b.slice(0,0))||!!b._isBuffer)}},{}],9:[function(b,p,g){var a={}.toString;p.exports=Array.isArray||function(b){return"[object Array]"==a.call(b)}},{}],10:[function(b,p,g){(function(a){function b(b,d,g,A){if("function"!==typeof b)throw new TypeError('"callback" argument must be a function');var c=arguments.length;switch(c){case 0:case 1:return a.nextTick(b);case 2:return a.nextTick(function(){b.call(null,d)});case 3:return a.nextTick(function(){b.call(null,
d,g)});case 4:return a.nextTick(function(){b.call(null,d,g,A)});default:var k=Array(c-1);for(c=0;c<k.length;)k[c++]=arguments[c];return a.nextTick(function(){b.apply(null,k)})}}"undefined"===typeof a||!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?p.exports={nextTick:b}:p.exports=a}).call(this,b("_process"))},{_process:11}],11:[function(b,p,g){function a(){throw Error("setTimeout has not been defined");}function d(){throw Error("clearTimeout has not been defined");
}function k(c){if(t===setTimeout)return setTimeout(c,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(c,0);try{return t(c,0)}catch(B){try{return t.call(null,c,0)}catch(L){return t.call(this,c,0)}}}function l(a){if(x===clearTimeout)return clearTimeout(a);if((x===d||!x)&&clearTimeout)return x=clearTimeout,clearTimeout(a);try{return x(a)}catch(B){try{return x.call(null,a)}catch(L){return x.call(this,a)}}}function u(){r&&C&&(r=!1,C.length?z=C.concat(z):G=-1,z.length&&A())}function A(){if(!r){var a=
k(u);r=!0;for(var c=z.length;c;){C=z;for(z=[];++G<c;)C&&C[G].run();G=-1;c=z.length}C=null;r=!1;l(a)}}function c(a,c){this.fun=a;this.array=c}function w(){}b=p.exports={};try{var t="function"===typeof setTimeout?setTimeout:a}catch(y){t=a}try{var x="function"===typeof clearTimeout?clearTimeout:d}catch(y){x=d}var z=[],r=!1,C,G=-1;b.nextTick=function(a){var b=Array(arguments.length-1);if(1<arguments.length)for(var d=1;d<arguments.length;d++)b[d-1]=arguments[d];z.push(new c(a,b));1!==z.length||r||k(A)};
c.prototype.run=function(){this.fun.apply(null,this.array)};b.title="browser";b.browser=!0;b.env={};b.argv=[];b.version="";b.versions={};b.on=w;b.addListener=w;b.once=w;b.off=w;b.removeListener=w;b.removeAllListeners=w;b.emit=w;b.prependListener=w;b.prependOnceListener=w;b.listeners=function(a){return[]};b.binding=function(a){throw Error("process.binding is not supported");};b.cwd=function(){return"/"};b.chdir=function(a){throw Error("process.chdir is not supported");};b.umask=function(){return 0}},
{}],12:[function(b,p,g){p.exports=b("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":13}],13:[function(b,p,g){function a(c){if(!(this instanceof a))return new a(c);u.call(this,c);A.call(this,c);c&&!1===c.readable&&(this.readable=!1);c&&!1===c.writable&&(this.writable=!1);this.allowHalfOpen=!0;c&&!1===c.allowHalfOpen&&(this.allowHalfOpen=!1);this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||l.nextTick(k,this)}function k(a){a.end()}var l=b("process-nextick-args");
g=Object.keys||function(a){var c=[],b;for(b in a)c.push(b);return c};p.exports=a;p=Object.create(b("core-util-is"));p.inherits=b("inherits");var u=b("./_stream_readable"),A=b("./_stream_writable");p.inherits(a,u);b=g(A.prototype);for(p=0;p<b.length;p++)g=b[p],a.prototype[g]||(a.prototype[g]=A.prototype[g]);Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(a.prototype,"destroyed",{get:function(){return void 0===
this._readableState||void 0===this._writableState?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(a){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=a,this._writableState.destroyed=a)}});a.prototype._destroy=function(a,b){this.push(null);this.end();l.nextTick(b,a)}},{"./_stream_readable":15,"./_stream_writable":17,"core-util-is":4,inherits:7,"process-nextick-args":10}],14:[function(b,p,g){function a(b){if(!(this instanceof a))return new a(b);
d.call(this,b)}p.exports=a;var d=b("./_stream_transform");p=Object.create(b("core-util-is"));p.inherits=b("inherits");p.inherits(a,d);a.prototype._transform=function(a,b,d){d(null,a)}},{"./_stream_transform":16,"core-util-is":4,inherits:7}],15:[function(b,p,g){(function(a,d){function k(a,c,b){if("function"===typeof a.prependListener)return a.prependListener(c,b);if(a._events&&a._events[c])e(a._events[c])?a._events[c].unshift(b):a._events[c]=[b,a._events[c]];else a.on(c,b)}function g(a,c){q=q||b("./_stream_duplex");
a=a||{};c=c instanceof q;this.objectMode=!!a.objectMode;c&&(this.objectMode=this.objectMode||!!a.readableObjectMode);var f=a.highWaterMark,h=a.readableHighWaterMark,e=this.objectMode?16:16384;this.highWaterMark=f||0===f?f:c&&(h||0===h)?h:e;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=new I;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.reading=this.endEmitted=this.ended=!1;this.sync=!0;this.destroyed=this.resumeScheduled=this.readableListening=this.emittedReadable=
this.needReadable=!1;this.defaultEncoding=a.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=!1;this.encoding=this.decoder=null;a.encoding&&(m||(m=b("string_decoder/").StringDecoder),this.decoder=new m(a.encoding),this.encoding=a.encoding)}function u(a){q=q||b("./_stream_duplex");if(!(this instanceof u))return new u(a);this._readableState=new g(a,this);this.readable=!0;a&&("function"===typeof a.read&&(this._read=a.read),"function"===typeof a.destroy&&(this._destroy=a.destroy));H.call(this)}
function A(a,b,e,q,n){var f=a._readableState;if(null===b)f.reading=!1,f.ended||(f.decoder&&(b=f.decoder.end())&&b.length&&(f.buffer.push(b),f.length+=f.objectMode?1:b.length),f.ended=!0,t(a));else{if(!n){n=b;var h;K.isBuffer(n)||n instanceof M||"string"===typeof n||void 0===n||f.objectMode||(h=new TypeError("Invalid non-string/buffer chunk"));var d=h}d?a.emit("error",d):f.objectMode||b&&0<b.length?("string"===typeof b||f.objectMode||Object.getPrototypeOf(b)===K.prototype||(b=K.from(b)),q?f.endEmitted?
a.emit("error",Error("stream.unshift() after end event")):c(a,f,b,!0):f.ended?a.emit("error",Error("stream.push() after EOF")):(f.reading=!1,f.decoder&&!e?(b=f.decoder.write(b),f.objectMode||0!==b.length?c(a,f,b,!1):f.readingMore||(f.readingMore=!0,v.nextTick(z,a,f))):c(a,f,b,!1))):q||(f.reading=!1)}return!f.ended&&(f.needReadable||f.length<f.highWaterMark||0===f.length)}function c(a,c,b,e){c.flowing&&0===c.length&&!c.sync?(a.emit("data",b),a.read(0)):(c.length+=c.objectMode?1:b.length,e?c.buffer.unshift(b):
c.buffer.push(b),c.needReadable&&t(a));c.readingMore||(c.readingMore=!0,v.nextTick(z,a,c))}function w(a,c){if(0>=a||0===c.length&&c.ended)return 0;if(c.objectMode)return 1;if(a!==a)return c.flowing&&c.length?c.buffer.head.data.length:c.length;if(a>c.highWaterMark){var b=a;8388608<=b?b=8388608:(b--,b|=b>>>1,b|=b>>>2,b|=b>>>4,b|=b>>>8,b|=b>>>16,b++);c.highWaterMark=b}return a<=c.length?a:c.ended?c.length:(c.needReadable=!0,0)}function t(a){var c=a._readableState;c.needReadable=!1;c.emittedReadable||
(D("emitReadable",c.flowing),c.emittedReadable=!0,c.sync?v.nextTick(x,a):x(a))}function x(a){D("emit readable");a.emit("readable");y(a)}function z(a,c){for(var b=c.length;!c.reading&&!c.flowing&&!c.ended&&c.length<c.highWaterMark&&(D("maybeReadMore read 0"),a.read(0),b!==c.length);)b=c.length;c.readingMore=!1}function r(a){return function(){var c=a._readableState;D("pipeOnDrain",c.awaitDrain);c.awaitDrain&&c.awaitDrain--;0===c.awaitDrain&&a.listeners("data").length&&(c.flowing=!0,y(a))}}function C(a){D("readable nexttick read 0");
a.read(0)}function G(a,c){c.reading||(D("resume read 0"),a.read(0));c.resumeScheduled=!1;c.awaitDrain=0;a.emit("resume");y(a);c.flowing&&!c.reading&&a.read(0)}function y(a){var c=a._readableState;for(D("flow",c.flowing);c.flowing&&null!==a.read(););}function B(a,c){if(0===c.length)return null;if(c.objectMode)var b=c.buffer.shift();else if(!a||a>=c.length)b=c.decoder?c.buffer.join(""):1===c.buffer.length?c.buffer.head.data:c.buffer.concat(c.length),c.buffer.clear();else{b=c.buffer;c=c.decoder;if(a<
b.head.data.length)c=b.head.data.slice(0,a),b.head.data=b.head.data.slice(a);else{if(a===b.head.data.length)b=b.shift();else if(c){c=b.head;var f=1,h=c.data;for(a-=h.length;c=c.next;){var e=c.data,q=a>e.length?e.length:a;h=q===e.length?h+e:h+e.slice(0,a);a-=q;if(0===a){q===e.length?(++f,b.head=c.next?c.next:b.tail=null):(b.head=c,c.data=e.slice(q));break}++f}b.length-=f;b=h}else{c=K.allocUnsafe(a);f=b.head;h=1;f.data.copy(c);for(a-=f.data.length;f=f.next;){e=f.data;q=a>e.length?e.length:a;e.copy(c,
c.length-a,0,q);a-=q;if(0===a){q===e.length?(++h,b.head=f.next?f.next:b.tail=null):(b.head=f,f.data=e.slice(q));break}++h}b.length-=h;b=c}c=b}b=c}return b}function L(a){var c=a._readableState;if(0<c.length)throw Error('"endReadable()" called on non-empty stream');c.endEmitted||(c.ended=!0,v.nextTick(F,c,a))}function F(a,c){a.endEmitted||0!==a.length||(a.endEmitted=!0,c.readable=!1,c.emit("end"))}function n(a,c){for(var b=0,f=a.length;b<f;b++)if(a[b]===c)return b;return-1}var v=b("process-nextick-args");
p.exports=u;var e=b("isarray"),q;u.ReadableState=g;b("events");var H=b("./internal/streams/stream"),K=b("safe-buffer").Buffer,M=d.Uint8Array||function(){};d=Object.create(b("core-util-is"));d.inherits=b("inherits");var J=b("util"),D=void 0;D=J&&J.debuglog?J.debuglog("stream"):function(){};var I=b("./internal/streams/BufferList");J=b("./internal/streams/destroy");var m;d.inherits(u,H);var E=["error","close","destroy","pause","resume"];Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0===
this._readableState?!1:this._readableState.destroyed},set:function(a){this._readableState&&(this._readableState.destroyed=a)}});u.prototype.destroy=J.destroy;u.prototype._undestroy=J.undestroy;u.prototype._destroy=function(a,c){this.push(null);c(a)};u.prototype.push=function(a,c){var b=this._readableState;if(b.objectMode)var f=!0;else"string"===typeof a&&(c=c||b.defaultEncoding,c!==b.encoding&&(a=K.from(a,c),c=""),f=!0);return A(this,a,c,!1,f)};u.prototype.unshift=function(a){return A(this,a,null,
!0,!1)};u.prototype.isPaused=function(){return!1===this._readableState.flowing};u.prototype.setEncoding=function(a){m||(m=b("string_decoder/").StringDecoder);this._readableState.decoder=new m(a);this._readableState.encoding=a;return this};u.prototype.read=function(a){D("read",a);a=parseInt(a,10);var c=this._readableState,b=a;0!==a&&(c.emittedReadable=!1);if(0===a&&c.needReadable&&(c.length>=c.highWaterMark||c.ended))return D("read: emitReadable",c.length,c.ended),0===c.length&&c.ended?L(this):t(this),
null;a=w(a,c);if(0===a&&c.ended)return 0===c.length&&L(this),null;var e=c.needReadable;D("need readable",e);if(0===c.length||c.length-a<c.highWaterMark)e=!0,D("length less than watermark",e);c.ended||c.reading?D("reading or ended",!1):e&&(D("do read"),c.reading=!0,c.sync=!0,0===c.length&&(c.needReadable=!0),this._read(c.highWaterMark),c.sync=!1,c.reading||(a=w(b,c)));e=0<a?B(a,c):null;null===e?(c.needReadable=!0,a=0):c.length-=a;0===c.length&&(c.ended||(c.needReadable=!0),b!==a&&c.ended&&L(this));
null!==e&&this.emit("data",e);return e};u.prototype._read=function(a){this.emit("error",Error("_read() is not implemented"))};u.prototype.pipe=function(c,b){function f(a,b){D("onunpipe");a===g&&b&&!1===b.hasUnpiped&&(b.hasUnpiped=!0,D("cleanup"),c.removeListener("close",d),c.removeListener("finish",m),c.removeListener("drain",x),c.removeListener("error",q),c.removeListener("unpipe",f),g.removeListener("end",e),g.removeListener("end",w),g.removeListener("data",h),l=!0,!H.awaitDrain||c._writableState&&
!c._writableState.needDrain||x())}function e(){D("onend");c.end()}function h(a){D("ondata");R=!1;!1!==c.write(a)||R||((1===H.pipesCount&&H.pipes===c||1<H.pipesCount&&-1!==n(H.pipes,c))&&!l&&(D("false write response, pause",g._readableState.awaitDrain),g._readableState.awaitDrain++,R=!0),g.pause())}function q(a){D("onerror",a);w();c.removeListener("error",q);0===c.listeners("error").length&&c.emit("error",a)}function d(){c.removeListener("finish",m);w()}function m(){D("onfinish");c.removeListener("close",
d);w()}function w(){D("unpipe");g.unpipe(c)}var g=this,H=this._readableState;switch(H.pipesCount){case 0:H.pipes=c;break;case 1:H.pipes=[H.pipes,c];break;default:H.pipes.push(c)}H.pipesCount+=1;D("pipe count=%d opts=%j",H.pipesCount,b);b=b&&!1===b.end||c===a.stdout||c===a.stderr?w:e;if(H.endEmitted)v.nextTick(b);else g.once("end",b);c.on("unpipe",f);var x=r(g);c.on("drain",x);var l=!1,R=!1;g.on("data",h);k(c,"error",q);c.once("close",d);c.once("finish",m);c.emit("pipe",g);H.flowing||(D("pipe resume"),
g.resume());return c};u.prototype.unpipe=function(a){var c=this._readableState,b={hasUnpiped:!1};if(0===c.pipesCount)return this;if(1===c.pipesCount){if(a&&a!==c.pipes)return this;a||(a=c.pipes);c.pipes=null;c.pipesCount=0;c.flowing=!1;a&&a.emit("unpipe",this,b);return this}if(!a){a=c.pipes;var e=c.pipesCount;c.pipes=null;c.pipesCount=0;c.flowing=!1;for(c=0;c<e;c++)a[c].emit("unpipe",this,b);return this}e=n(c.pipes,a);if(-1===e)return this;c.pipes.splice(e,1);--c.pipesCount;1===c.pipesCount&&(c.pipes=
c.pipes[0]);a.emit("unpipe",this,b);return this};u.prototype.on=function(a,c){c=H.prototype.on.call(this,a,c);"data"===a?!1!==this._readableState.flowing&&this.resume():"readable"===a&&(a=this._readableState,a.endEmitted||a.readableListening||(a.readableListening=a.needReadable=!0,a.emittedReadable=!1,a.reading?a.length&&t(this):v.nextTick(C,this)));return c};u.prototype.addListener=u.prototype.on;u.prototype.resume=function(){var a=this._readableState;a.flowing||(D("resume"),a.flowing=!0,a.resumeScheduled||
(a.resumeScheduled=!0,v.nextTick(G,this,a)));return this};u.prototype.pause=function(){D("call pause flowing=%j",this._readableState.flowing);!1!==this._readableState.flowing&&(D("pause"),this._readableState.flowing=!1,this.emit("pause"));return this};u.prototype.wrap=function(a){var c=this,b=this._readableState,e=!1;a.on("end",function(){D("wrapped end");if(b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&c.push(a)}c.push(null)});a.on("data",function(f){D("wrapped data");b.decoder&&(f=b.decoder.write(f));
b.objectMode&&(null===f||void 0===f)||!(b.objectMode||f&&f.length)||c.push(f)||(e=!0,a.pause())});for(var q in a)void 0===this[q]&&"function"===typeof a[q]&&(this[q]=function(c){return function(){return a[c].apply(a,arguments)}}(q));for(q=0;q<E.length;q++)a.on(E[q],this.emit.bind(this,E[q]));this._read=function(c){D("wrapped _read",c);e&&(e=!1,a.resume())};return this};Object.defineProperty(u.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});
u._fromList=B}).call(this,b("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./_stream_duplex":13,"./internal/streams/BufferList":18,"./internal/streams/destroy":19,"./internal/streams/stream":20,_process:11,"core-util-is":4,events:5,inherits:7,isarray:9,"process-nextick-args":10,"safe-buffer":21,"string_decoder/":22,util:2}],16:[function(b,p,g){function a(a,c){var b=this._transformState;b.transforming=!1;var d=b.writecb;if(!d)return this.emit("error",
Error("write callback called multiple times"));b.writechunk=null;b.writecb=null;null!=c&&this.push(c);d(a);a=this._readableState;a.reading=!1;(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function d(b){if(!(this instanceof d))return new d(b);u.call(this,b);this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=!0;this._readableState.sync=!1;b&&("function"===typeof b.transform&&
(this._transform=b.transform),"function"===typeof b.flush&&(this._flush=b.flush));this.on("prefinish",k)}function k(){var a=this;"function"===typeof this._flush?this._flush(function(c,b){l(a,c,b)}):l(this,null,null)}function l(a,c,b){if(c)return a.emit("error",c);null!=b&&a.push(b);if(a._writableState.length)throw Error("Calling transform done when ws.length != 0");if(a._transformState.transforming)throw Error("Calling transform done when still transforming");return a.push(null)}p.exports=d;var u=
b("./_stream_duplex");p=Object.create(b("core-util-is"));p.inherits=b("inherits");p.inherits(d,u);d.prototype.push=function(a,c){this._transformState.needTransform=!1;return u.prototype.push.call(this,a,c)};d.prototype._transform=function(a,c,b){throw Error("_transform() is not implemented");};d.prototype._write=function(a,c,b){var d=this._transformState;d.writecb=b;d.writechunk=a;d.writeencoding=c;d.transforming||(a=this._readableState,(d.needTransform||a.needReadable||a.length<a.highWaterMark)&&
this._read(a.highWaterMark))};d.prototype._read=function(a){a=this._transformState;null!==a.writechunk&&a.writecb&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0};d.prototype._destroy=function(a,c){var b=this;u.prototype._destroy.call(this,a,function(a){c(a);b.emit("close")})}},{"./_stream_duplex":13,"core-util-is":4,inherits:7}],17:[function(b,p,g){(function(a,d,k){function g(a){var c=this;this.entry=this.next=null;this.finish=
function(){var b=c.entry;for(c.entry=null;b;){var e=b.callback;a.pendingcb--;e(void 0);b=b.next}a.corkedRequestsFree?a.corkedRequestsFree.next=c:a.corkedRequestsFree=c}}function u(){}function A(a,c){B=B||b("./_stream_duplex");a=a||{};var e=c instanceof B;this.objectMode=!!a.objectMode;e&&(this.objectMode=this.objectMode||!!a.writableObjectMode);var q=a.highWaterMark,d=a.writableHighWaterMark,n=this.objectMode?16:16384;this.highWaterMark=q||0===q?q:e&&(d||0===d)?d:n;this.highWaterMark=Math.floor(this.highWaterMark);
this.destroyed=this.finished=this.ended=this.ending=this.needDrain=this.finalCalled=!1;this.decodeStrings=!1!==a.decodeStrings;this.defaultEncoding=a.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.corked=0;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(a){var b=c._writableState,e=b.sync,q=b.writecb;b.writing=!1;b.writecb=null;b.length-=b.writelen;b.writelen=0;a?(--b.pendingcb,e?(G.nextTick(q,a),G.nextTick(C,c,b),c._writableState.errorEmitted=!0,c.emit("error",a)):(q(a),c._writableState.errorEmitted=
!0,c.emit("error",a),C(c,b))):((a=z(b))||b.corked||b.bufferProcessing||!b.bufferedRequest||x(c,b),e?y(t,c,b,a,q):t(c,b,a,q))};this.writecb=null;this.writelen=0;this.lastBufferedRequest=this.bufferedRequest=null;this.pendingcb=0;this.errorEmitted=this.prefinished=!1;this.bufferedRequestCount=0;this.corkedRequestsFree=new g(this)}function c(a){B=B||b("./_stream_duplex");if(!(e.call(c,this)||this instanceof B))return new c(a);this._writableState=new A(a,this);this.writable=!0;a&&("function"===typeof a.write&&
(this._write=a.write),"function"===typeof a.writev&&(this._writev=a.writev),"function"===typeof a.destroy&&(this._destroy=a.destroy),"function"===typeof a.final&&(this._final=a.final));F.call(this)}function w(a,c,b,e,d,n,k){c.writelen=e;c.writecb=k;c.writing=!0;c.sync=!0;b?a._writev(d,c.onwrite):a._write(d,n,c.onwrite);c.sync=!1}function t(a,c,b,e){!b&&0===c.length&&c.needDrain&&(c.needDrain=!1,a.emit("drain"));c.pendingcb--;e();C(a,c)}function x(a,c){c.bufferProcessing=!0;var b=c.bufferedRequest;
if(a._writev&&b&&b.next){var e=Array(c.bufferedRequestCount),q=c.corkedRequestsFree;q.entry=b;for(var d=0,n=!0;b;)e[d]=b,b.isBuf||(n=!1),b=b.next,d+=1;e.allBuffers=n;w(a,c,!0,c.length,e,"",q.finish);c.pendingcb++;c.lastBufferedRequest=null;q.next?(c.corkedRequestsFree=q.next,q.next=null):c.corkedRequestsFree=new g(c);c.bufferedRequestCount=0}else{for(;b&&(e=b.chunk,w(a,c,!1,c.objectMode?1:e.length,e,b.encoding,b.callback),b=b.next,c.bufferedRequestCount--,!c.writing););null===b&&(c.lastBufferedRequest=
null)}c.bufferedRequest=b;c.bufferProcessing=!1}function z(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function r(a,c){a._final(function(b){c.pendingcb--;b&&a.emit("error",b);c.prefinished=!0;a.emit("prefinish");C(a,c)})}function C(a,c){var b=z(c);b&&(c.prefinished||c.finalCalled||("function"===typeof a._final?(c.pendingcb++,c.finalCalled=!0,G.nextTick(r,a,c)):(c.prefinished=!0,a.emit("prefinish"))),0===c.pendingcb&&(c.finished=!0,a.emit("finish")));return b}
var G=b("process-nextick-args");p.exports=c;var y=!a.browser&&-1<["v0.10","v0.9."].indexOf(a.version.slice(0,5))?k:G.nextTick,B;c.WritableState=A;a=Object.create(b("core-util-is"));a.inherits=b("inherits");var L={deprecate:b("util-deprecate")},F=b("./internal/streams/stream"),n=b("safe-buffer").Buffer,v=d.Uint8Array||function(){};d=b("./internal/streams/destroy");a.inherits(c,F);A.prototype.getBuffer=function(){for(var a=this.bufferedRequest,c=[];a;)c.push(a),a=a.next;return c};(function(){try{Object.defineProperty(A.prototype,
"buffer",{get:L.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(q){}})();if("function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]){var e=Function.prototype[Symbol.hasInstance];Object.defineProperty(c,Symbol.hasInstance,{value:function(a){return e.call(this,a)?!0:this!==c?!1:a&&a._writableState instanceof A}})}else e=function(a){return a instanceof this};
c.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))};c.prototype.write=function(a,c,b){var e=this._writableState,d=!1,q;if(q=!e.objectMode)q=a,q=n.isBuffer(q)||q instanceof v;q&&!n.isBuffer(a)&&(a=n.from(a));"function"===typeof c&&(b=c,c=null);q?c="buffer":c||(c=e.defaultEncoding);"function"!==typeof b&&(b=u);if(e.ended)e=b,b=Error("write after end"),this.emit("error",b),G.nextTick(e,b);else{var k;if(!(k=q)){k=a;var m=b,g=!0,h=!1;null===k?h=new TypeError("May not write null values to stream"):
"string"===typeof k||void 0===k||e.objectMode||(h=new TypeError("Invalid non-string/buffer chunk"));h&&(this.emit("error",h),G.nextTick(m,h),g=!1);k=g}k&&(e.pendingcb++,d=q,d||(q=a,e.objectMode||!1===e.decodeStrings||"string"!==typeof q||(q=n.from(q,c)),a!==q&&(d=!0,c="buffer",a=q)),k=e.objectMode?1:a.length,e.length+=k,q=e.length<e.highWaterMark,q||(e.needDrain=!0),e.writing||e.corked?(k=e.lastBufferedRequest,e.lastBufferedRequest={chunk:a,encoding:c,isBuf:d,callback:b,next:null},k?k.next=e.lastBufferedRequest:
e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1):w(this,e,!1,k,a,c,b),d=q)}return d};c.prototype.cork=function(){this._writableState.corked++};c.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.finished||a.bufferProcessing||!a.bufferedRequest||x(this,a))};c.prototype.setDefaultEncoding=function(a){"string"===typeof a&&(a=a.toLowerCase());if(!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((a+
"").toLowerCase())))throw new TypeError("Unknown encoding: "+a);this._writableState.defaultEncoding=a;return this};Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});c.prototype._write=function(a,c,b){b(Error("_write() is not implemented"))};c.prototype._writev=null;c.prototype.end=function(a,c,b){var e=this._writableState;"function"===typeof a?(b=a,c=a=null):"function"===typeof c&&(b=c,c=null);null!==a&&void 0!==a&&
this.write(a,c);e.corked&&(e.corked=1,this.uncork());if(!e.ending&&!e.finished){a=b;e.ending=!0;C(this,e);if(a)if(e.finished)G.nextTick(a);else this.once("finish",a);e.ended=!0;this.writable=!1}};Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0===this._writableState?!1:this._writableState.destroyed},set:function(a){this._writableState&&(this._writableState.destroyed=a)}});c.prototype.destroy=d.destroy;c.prototype._undestroy=d.undestroy;c.prototype._destroy=function(a,c){this.end();
c(a)}}).call(this,b("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},b("timers").setImmediate)},{"./_stream_duplex":13,"./internal/streams/destroy":19,"./internal/streams/stream":20,_process:11,"core-util-is":4,inherits:7,"process-nextick-args":10,"safe-buffer":21,timers:31,"util-deprecate":32}],18:[function(b,p,g){var a=b("safe-buffer").Buffer,d=b("util");p.exports=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.tail=this.head=null;this.length=0}b.prototype.push=function(a){a={data:a,next:null};0<this.length?this.tail.next=a:this.head=a;this.tail=a;++this.length};b.prototype.unshift=function(a){a={data:a,next:this.head};0===this.length&&(this.tail=a);this.head=a;++this.length};b.prototype.shift=function(){if(0!==this.length){var a=this.head.data;this.head=1===this.length?this.tail=null:this.head.next;--this.length;return a}};b.prototype.clear=function(){this.head=this.tail=null;this.length=0};b.prototype.join=
function(a){if(0===this.length)return"";for(var b=this.head,d=""+b.data;b=b.next;)d+=a+b.data;return d};b.prototype.concat=function(b){if(0===this.length)return a.alloc(0);if(1===this.length)return this.head.data;b=a.allocUnsafe(b>>>0);for(var d=this.head,k=0;d;)d.data.copy(b,k),k+=d.data.length,d=d.next;return b};return b}();d&&d.inspect&&d.inspect.custom&&(p.exports.prototype[d.inspect.custom]=function(){var a=d.inspect({length:this.length});return this.constructor.name+" "+a})},{"safe-buffer":21,
util:2}],19:[function(b,p,g){function a(a,b){a.emit("error",b)}var d=b("process-nextick-args");p.exports={destroy:function(b,g){var k=this,l=this._writableState&&this._writableState.destroyed;if(this._readableState&&this._readableState.destroyed||l)return g?g(b):!b||this._writableState&&this._writableState.errorEmitted||d.nextTick(a,this,b),this;this._readableState&&(this._readableState.destroyed=!0);this._writableState&&(this._writableState.destroyed=!0);this._destroy(b||null,function(c){!g&&c?(d.nextTick(a,
k,c),k._writableState&&(k._writableState.errorEmitted=!0)):g&&g(c)});return this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1);this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":10}],20:[function(b,p,g){p.exports=b("events").EventEmitter},
{events:5}],21:[function(b,p,g){function a(a,b){for(var c in a)b[c]=a[c]}function d(a,b,c){return l(a,b,c)}var k=b("buffer"),l=k.Buffer;l.from&&l.alloc&&l.allocUnsafe&&l.allocUnsafeSlow?p.exports=k:(a(k,g),g.Buffer=d);a(l,d);d.from=function(a,b,c){if("number"===typeof a)throw new TypeError("Argument must not be a number");return l(a,b,c)};d.alloc=function(a,b,c){if("number"!==typeof a)throw new TypeError("Argument must be a number");a=l(a);void 0!==b?"string"===typeof c?a.fill(b,c):a.fill(b):a.fill(0);
return a};d.allocUnsafe=function(a){if("number"!==typeof a)throw new TypeError("Argument must be a number");return l(a)};d.allocUnsafeSlow=function(a){if("number"!==typeof a)throw new TypeError("Argument must be a number");return k.SlowBuffer(a)}},{buffer:3}],22:[function(b,p,g){function a(a){if(!a)return"utf8";for(var c;;)switch(a){case "utf8":case "utf-8":return"utf8";case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return"utf16le";case "latin1":case "binary":return"latin1";case "base64":case "ascii":case "hex":return a;
default:if(c)return;a=(""+a).toLowerCase();c=!0}}function d(b){var d=a(b);if("string"!==typeof d&&(r.isEncoding===C||!C(b)))throw Error("Unknown encoding: "+b);this.encoding=d||b;switch(this.encoding){case "utf16le":this.text=A;this.end=c;b=4;break;case "utf8":this.fillLast=u;b=4;break;case "base64":this.text=w;this.end=t;b=3;break;default:this.write=x;this.end=z;return}this.lastTotal=this.lastNeed=0;this.lastChar=r.allocUnsafe(b)}function k(a){return 127>=a?0:6===a>>5?2:14===a>>4?3:30===a>>3?4:2===
a>>6?-1:-2}function l(a,c,b){var d=c.length-1;if(d<b)return 0;var g=k(c[d]);if(0<=g)return 0<g&&(a.lastNeed=g-1),g;if(--d<b||-2===g)return 0;g=k(c[d]);if(0<=g)return 0<g&&(a.lastNeed=g-2),g;if(--d<b||-2===g)return 0;g=k(c[d]);return 0<=g?(0<g&&(2===g?g=0:a.lastNeed=g-3),g):0}function u(a){var c=this.lastTotal-this.lastNeed;a:if(128!==(a[0]&192)){this.lastNeed=0;var b="\ufffd"}else{if(1<this.lastNeed&&1<a.length){if(128!==(a[1]&192)){this.lastNeed=1;b="\ufffd";break a}if(2<this.lastNeed&&2<a.length&&
128!==(a[2]&192)){this.lastNeed=2;b="\ufffd";break a}}b=void 0}if(void 0!==b)return b;if(this.lastNeed<=a.length)return a.copy(this.lastChar,c,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,c,0,a.length);this.lastNeed-=a.length}function A(a,c){if(0===(a.length-c)%2){if(c=a.toString("utf16le",c)){var b=c.charCodeAt(c.length-1);if(55296<=b&&56319>=b)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],c.slice(0,
-1)}return c}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=a[a.length-1];return a.toString("utf16le",c,a.length-1)}function c(a){a=a&&a.length?this.write(a):"";return this.lastNeed?a+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):a}function w(a,c){var b=(a.length-c)%3;if(0===b)return a.toString("base64",c);this.lastNeed=3-b;this.lastTotal=3;1===b?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]);return a.toString("base64",c,a.length-
b)}function t(a){a=a&&a.length?this.write(a):"";return this.lastNeed?a+this.lastChar.toString("base64",0,3-this.lastNeed):a}function x(a){return a.toString(this.encoding)}function z(a){return a&&a.length?this.write(a):""}var r=b("safe-buffer").Buffer,C=r.isEncoding||function(a){a=""+a;switch(a&&a.toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":case "raw":return!0;default:return!1}};g.StringDecoder=
d;d.prototype.write=function(a){if(0===a.length)return"";if(this.lastNeed){var c=this.fillLast(a);if(void 0===c)return"";var b=this.lastNeed;this.lastNeed=0}else b=0;return b<a.length?c?c+this.text(a,b):this.text(a,b):c||""};d.prototype.end=function(a){a=a&&a.length?this.write(a):"";return this.lastNeed?a+"\ufffd":a};d.prototype.text=function(a,c){var b=l(this,a,c);if(!this.lastNeed)return a.toString("utf8",c);this.lastTotal=b;b=a.length-(b-this.lastNeed);a.copy(this.lastChar,0,b);return a.toString("utf8",
c,b)};d.prototype.fillLast=function(a){if(this.lastNeed<=a.length)return a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length);this.lastNeed-=a.length}},{"safe-buffer":21}],23:[function(b,p,g){p.exports=b("./readable").PassThrough},{"./readable":24}],24:[function(b,p,g){g=p.exports=b("./lib/_stream_readable.js");g.Stream=g;g.Readable=g;g.Writable=b("./lib/_stream_writable.js");
g.Duplex=b("./lib/_stream_duplex.js");g.Transform=b("./lib/_stream_transform.js");g.PassThrough=b("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":13,"./lib/_stream_passthrough.js":14,"./lib/_stream_readable.js":15,"./lib/_stream_transform.js":16,"./lib/_stream_writable.js":17}],25:[function(b,p,g){p.exports=b("./readable").Transform},{"./readable":24}],26:[function(b,p,g){p.exports=b("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":17}],27:[function(b,p,g){function a(a,b){for(var c in a)b[c]=
a[c]}function d(a,b,c){return l(a,b,c)}var k=b("buffer"),l=k.Buffer;l.from&&l.alloc&&l.allocUnsafe&&l.allocUnsafeSlow?p.exports=k:(a(k,g),g.Buffer=d);d.prototype=Object.create(l.prototype);a(l,d);d.from=function(a,b,c){if("number"===typeof a)throw new TypeError("Argument must not be a number");return l(a,b,c)};d.alloc=function(a,b,c){if("number"!==typeof a)throw new TypeError("Argument must be a number");a=l(a);void 0!==b?"string"===typeof c?a.fill(b,c):a.fill(b):a.fill(0);return a};d.allocUnsafe=
function(a){if("number"!==typeof a)throw new TypeError("Argument must be a number");return l(a)};d.allocUnsafeSlow=function(a){if("number"!==typeof a)throw new TypeError("Argument must be a number");return k.SlowBuffer(a)}},{buffer:3}],28:[function(b,p,g){(function(a){(function(d){function k(a,c){if(!(this instanceof k))return new k(a,c);for(var b=0,e=v.length;b<e;b++)this[v[b]]="";this.q=this.c="";this.bufferCheckPosition=d.MAX_BUFFER_LENGTH;this.opt=c||{};this.opt.lowercase=this.opt.lowercase||
this.opt.lowercasetags;this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase";this.tags=[];this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.strict=!!a;this.noscript=!(!a&&!this.opt.noscript);this.state=f.BEGIN;this.ENTITIES=(this.strictEntities=this.opt.strictEntities)?Object.create(d.XML_ENTITIES):Object.create(d.ENTITIES);this.attribList=[];this.opt.xmlns&&(this.ns=Object.create(D));if(this.trackPosition=!1!==this.opt.position)this.position=this.line=this.column=
0;this.onready&&this.onready(void 0)}function g(a,c){if(!(this instanceof g))return new g(a,c);e.apply(this);this._parser=new k(a,c);this.readable=this.writable=!0;var b=this;this._parser.onend=function(){b.emit("end")};this._parser.onerror=function(a){b.emit("error",a);b._parser.error=null};this._decoder=null;q.forEach(function(a){Object.defineProperty(b,"on"+a,{get:function(){return b._parser["on"+a]},set:function(c){if(!c)return b.removeAllListeners(a),b._parser["on"+a]=c;b.on(a,c)},enumerable:!0,
configurable:!1})})}function p(a){return" "===a||"\n"===a||"\r"===a||"\t"===a}function A(a){return'"'===a||"'"===a}function c(a,c,b){a.textNode&&w(a);a[c]&&a[c](b)}function w(a){a.textNode=t(a.opt,a.textNode);a.textNode&&a.ontext&&a.ontext(a.textNode);a.textNode=""}function t(a,c){a.trim&&(c=c.trim());a.normalize&&(c=c.replace(/\s+/g," "));return c}function x(a,c){w(a);a.trackPosition&&(c+="\nLine: "+a.line+"\nColumn: "+a.column+"\nChar: "+a.c);c=Error(c);a.error=c;a.onerror&&a.onerror(c);return a}
function z(a){a.sawRoot&&!a.closedRoot&&r(a,"Unclosed root tag");a.state!==f.BEGIN&&a.state!==f.BEGIN_WHITESPACE&&a.state!==f.TEXT&&x(a,"Unexpected end");w(a);a.c="";a.closed=!0;a.onend&&a.onend(void 0);k.call(a,a.strict,a.opt);return a}function r(a,c){if("object"!==typeof a||!(a instanceof k))throw Error("bad call to strictFail");a.strict&&x(a,c)}function C(a,c){var b=0>a.indexOf(":")?["",a]:a.split(":"),e=b[0];b=b[1];c&&"xmlns"===a&&(e="xmlns",b="");return{prefix:e,local:b}}function G(a){a.strict||
(a.attribName=a.attribName[a.looseCase]());if(-1===a.attribList.indexOf(a.attribName)&&!a.tag.attributes.hasOwnProperty(a.attribName))if(a.opt.xmlns){var b=C(a.attribName,!0),e=b.local;if("xmlns"===b.prefix)if("xml"===e&&a.attribValue!==M)r(a,"xml: prefix must be bound to "+M+"\nActual: "+a.attribValue);else if("xmlns"===e&&a.attribValue!==J)r(a,"xmlns: prefix must be bound to "+J+"\nActual: "+a.attribValue);else{b=a.tag;var f=a.tags[a.tags.length-1]||a;b.ns===f.ns&&(b.ns=Object.create(f.ns));b.ns[e]=
a.attribValue}a.attribList.push([a.attribName,a.attribValue])}else a.tag.attributes[a.attribName]=a.attribValue,c(a,"onattribute",{name:a.attribName,value:a.attribValue});a.attribName=a.attribValue=""}function y(a,b){if(a.opt.xmlns){var e=a.tag,d=C(a.tagName);e.prefix=d.prefix;e.local=d.local;e.uri=e.ns[d.prefix]||"";e.prefix&&!e.uri&&(r(a,"Unbound namespace prefix: "+JSON.stringify(a.tagName)),e.uri=d.prefix);d=a.tags[a.tags.length-1]||a;e.ns&&d.ns!==e.ns&&Object.keys(e.ns).forEach(function(b){c(a,
"onopennamespace",{prefix:b,uri:e.ns[b]})});d=0;for(var n=a.attribList.length;d<n;d++){var h=a.attribList[d],q=h[0],k=h[1],g=C(q,!0);h=g.prefix;var m=""===h?"":e.ns[h]||"";k={name:q,value:k,prefix:h,local:g.local,uri:m};h&&"xmlns"!==h&&!m&&(r(a,"Unbound namespace prefix: "+JSON.stringify(h)),k.uri=h);a.tag.attributes[q]=k;c(a,"onattribute",k)}a.attribList.length=0}a.tag.isSelfClosing=!!b;a.sawRoot=!0;a.tags.push(a.tag);c(a,"onopentag",a.tag);b||(a.noscript||"script"!==a.tagName.toLowerCase()?a.state=
f.TEXT:a.state=f.SCRIPT,a.tag=null,a.tagName="");a.attribName=a.attribValue="";a.attribList.length=0}function B(a){if(a.tagName){if(a.script){if("script"!==a.tagName){a.script+="</"+a.tagName+">";a.tagName="";a.state=f.SCRIPT;return}c(a,"onscript",a.script);a.script=""}var b=a.tags.length,e=a.tagName;a.strict||(e=e[a.looseCase]());for(var d=e;b--;)if(a.tags[b].name!==d)r(a,"Unexpected close tag");else break;if(0>b)r(a,"Unmatched closing tag: "+a.tagName),a.textNode+="</"+a.tagName+">";else{a.tagName=
e;for(e=a.tags.length;e-- >b;){var h=a.tag=a.tags.pop();a.tagName=a.tag.name;c(a,"onclosetag",a.tagName);for(var n in h.ns);d=a.tags[a.tags.length-1]||a;a.opt.xmlns&&h.ns!==d.ns&&Object.keys(h.ns).forEach(function(b){c(a,"onclosenamespace",{prefix:b,uri:h.ns[b]})})}0===b&&(a.closedRoot=!0);a.tagName=a.attribValue=a.attribName="";a.attribList.length=0}}else r(a,"Weird empty close tag."),a.textNode+="</>";a.state=f.TEXT}function L(a){var c=a.entity,b=c.toLowerCase(),e="";if(a.ENTITIES[c])return a.ENTITIES[c];
if(a.ENTITIES[b])return a.ENTITIES[b];c=b;if("#"===c.charAt(0))if("x"===c.charAt(1)){c=c.slice(2);var f=parseInt(c,16);e=f.toString(16)}else c=c.slice(1),f=parseInt(c,10),e=f.toString(10);c=c.replace(/^0+/,"");return isNaN(f)||e.toLowerCase()!==c?(r(a,"Invalid character entity"),"&"+a.entity+";"):String.fromCodePoint(f)}function F(a,c){"<"===c?(a.state=f.OPEN_WAKA,a.startTagPosition=a.position):p(c)||(r(a,"Non-whitespace before first tag."),a.textNode=c,a.state=f.TEXT)}function n(a,c){var b="";c<
a.length&&(b=a.charAt(c));return b}d.parser=function(a,c){return new k(a,c)};d.SAXParser=k;d.SAXStream=g;d.createStream=function(a,c){return new g(a,c)};d.MAX_BUFFER_LENGTH=65536;var v="comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script".split(" ");d.EVENTS="text processinginstruction sgmldeclaration doctype comment opentagstart attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace".split(" ");
Object.create||(Object.create=function(a){function c(){}c.prototype=a;return new c});Object.keys||(Object.keys=function(a){var c=[],b;for(b in a)a.hasOwnProperty(b)&&c.push(b);return c});k.prototype={end:function(){z(this)},write:function(a){if(this.error)throw this.error;if(this.closed)return x(this,"Cannot write after close. Assign an onready handler.");if(null===a)return z(this);"object"===typeof a&&(a=a.toString());for(var b=0,e;;){this.c=e=n(a,b++);if(!e)break;this.trackPosition&&(this.position++,
"\n"===e?(this.line++,this.column=0):this.column++);switch(this.state){case f.BEGIN:this.state=f.BEGIN_WHITESPACE;if("\ufeff"===e)continue;F(this,e);continue;case f.BEGIN_WHITESPACE:F(this,e);continue;case f.TEXT:if(this.sawRoot&&!this.closedRoot){for(var q=b-1;e&&"<"!==e&&"&"!==e;)(e=n(a,b++))&&this.trackPosition&&(this.position++,"\n"===e?(this.line++,this.column=0):this.column++);this.textNode+=a.substring(q,b-1)}"<"!==e||this.sawRoot&&this.closedRoot&&!this.strict?(p(e)||this.sawRoot&&!this.closedRoot||
r(this,"Text data outside of root node."),"&"===e?this.state=f.TEXT_ENTITY:this.textNode+=e):(this.state=f.OPEN_WAKA,this.startTagPosition=this.position);continue;case f.SCRIPT:"<"===e?this.state=f.SCRIPT_ENDING:this.script+=e;continue;case f.SCRIPT_ENDING:"/"===e?this.state=f.CLOSE_TAG:(this.script+="<"+e,this.state=f.SCRIPT);continue;case f.OPEN_WAKA:"!"===e?(this.state=f.SGML_DECL,this.sgmlDecl=""):p(e)||(I.test(e)?(this.state=f.OPEN_TAG,this.tagName=e):"/"===e?(this.state=f.CLOSE_TAG,this.tagName=
""):"?"===e?(this.state=f.PROC_INST,this.procInstName=this.procInstBody=""):(r(this,"Unencoded <"),this.startTagPosition+1<this.position&&(e=Array(this.position-this.startTagPosition).join(" ")+e),this.textNode+="<"+e,this.state=f.TEXT));continue;case f.SGML_DECL:(this.sgmlDecl+e).toUpperCase()===H?(c(this,"onopencdata"),this.state=f.CDATA,this.cdata=this.sgmlDecl=""):"--"===this.sgmlDecl+e?(this.state=f.COMMENT,this.sgmlDecl=this.comment=""):(this.sgmlDecl+e).toUpperCase()===K?(this.state=f.DOCTYPE,
(this.doctype||this.sawRoot)&&r(this,"Inappropriately located doctype declaration"),this.sgmlDecl=this.doctype=""):">"===e?(c(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=f.TEXT):(A(e)&&(this.state=f.SGML_DECL_QUOTED),this.sgmlDecl+=e);continue;case f.SGML_DECL_QUOTED:e===this.q&&(this.state=f.SGML_DECL,this.q="");this.sgmlDecl+=e;continue;case f.DOCTYPE:">"===e?(this.state=f.TEXT,c(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=e,"["===e?this.state=f.DOCTYPE_DTD:
A(e)&&(this.state=f.DOCTYPE_QUOTED,this.q=e));continue;case f.DOCTYPE_QUOTED:this.doctype+=e;e===this.q&&(this.q="",this.state=f.DOCTYPE);continue;case f.DOCTYPE_DTD:this.doctype+=e;"]"===e?this.state=f.DOCTYPE:A(e)&&(this.state=f.DOCTYPE_DTD_QUOTED,this.q=e);continue;case f.DOCTYPE_DTD_QUOTED:this.doctype+=e;e===this.q&&(this.state=f.DOCTYPE_DTD,this.q="");continue;case f.COMMENT:"-"===e?this.state=f.COMMENT_ENDING:this.comment+=e;continue;case f.COMMENT_ENDING:"-"===e?(this.state=f.COMMENT_ENDED,
(this.comment=t(this.opt,this.comment))&&c(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+e,this.state=f.COMMENT);continue;case f.COMMENT_ENDED:">"!==e?(r(this,"Malformed comment"),this.comment+="--"+e,this.state=f.COMMENT):this.state=f.TEXT;continue;case f.CDATA:"]"===e?this.state=f.CDATA_ENDING:this.cdata+=e;continue;case f.CDATA_ENDING:"]"===e?this.state=f.CDATA_ENDING_2:(this.cdata+="]"+e,this.state=f.CDATA);continue;case f.CDATA_ENDING_2:">"===e?(this.cdata&&c(this,"oncdata",
this.cdata),c(this,"onclosecdata"),this.cdata="",this.state=f.TEXT):"]"===e?this.cdata+="]":(this.cdata+="]]"+e,this.state=f.CDATA);continue;case f.PROC_INST:"?"===e?this.state=f.PROC_INST_ENDING:p(e)?this.state=f.PROC_INST_BODY:this.procInstName+=e;continue;case f.PROC_INST_BODY:if(!this.procInstBody&&p(e))continue;else"?"===e?this.state=f.PROC_INST_ENDING:this.procInstBody+=e;continue;case f.PROC_INST_ENDING:">"===e?(c(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),
this.procInstName=this.procInstBody="",this.state=f.TEXT):(this.procInstBody+="?"+e,this.state=f.PROC_INST_BODY);continue;case f.OPEN_TAG:if(m.test(e))this.tagName+=e;else{this.strict||(this.tagName=this.tagName[this.looseCase]());q=this.tags[this.tags.length-1]||this;var k=this.tag={name:this.tagName,attributes:{}};this.opt.xmlns&&(k.ns=q.ns);this.attribList.length=0;c(this,"onopentagstart",k);">"===e?y(this):"/"===e?this.state=f.OPEN_TAG_SLASH:(p(e)||r(this,"Invalid character in tag name"),this.state=
f.ATTRIB)}continue;case f.OPEN_TAG_SLASH:">"===e?(y(this,!0),B(this)):(r(this,"Forward-slash in opening tag not followed by >"),this.state=f.ATTRIB);continue;case f.ATTRIB:if(p(e))continue;else">"===e?y(this):"/"===e?this.state=f.OPEN_TAG_SLASH:I.test(e)?(this.attribName=e,this.attribValue="",this.state=f.ATTRIB_NAME):r(this,"Invalid attribute name");continue;case f.ATTRIB_NAME:"="===e?this.state=f.ATTRIB_VALUE:">"===e?(r(this,"Attribute without value"),this.attribValue=this.attribName,G(this),y(this)):
p(e)?this.state=f.ATTRIB_NAME_SAW_WHITE:m.test(e)?this.attribName+=e:r(this,"Invalid attribute name");continue;case f.ATTRIB_NAME_SAW_WHITE:if("="===e)this.state=f.ATTRIB_VALUE;else if(p(e))continue;else r(this,"Attribute without value"),this.attribValue=this.tag.attributes[this.attribName]="",c(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===e?y(this):I.test(e)?(this.attribName=e,this.state=f.ATTRIB_NAME):(r(this,"Invalid attribute name"),this.state=f.ATTRIB);continue;
case f.ATTRIB_VALUE:if(p(e))continue;else A(e)?(this.q=e,this.state=f.ATTRIB_VALUE_QUOTED):(r(this,"Unquoted attribute value"),this.state=f.ATTRIB_VALUE_UNQUOTED,this.attribValue=e);continue;case f.ATTRIB_VALUE_QUOTED:if(e!==this.q){"&"===e?this.state=f.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=e;continue}G(this);this.q="";this.state=f.ATTRIB_VALUE_CLOSED;continue;case f.ATTRIB_VALUE_CLOSED:p(e)?this.state=f.ATTRIB:">"===e?y(this):"/"===e?this.state=f.OPEN_TAG_SLASH:I.test(e)?(r(this,"No whitespace between attributes"),
this.attribName=e,this.attribValue="",this.state=f.ATTRIB_NAME):r(this,"Invalid attribute name");continue;case f.ATTRIB_VALUE_UNQUOTED:if(">"!==e&&!p(e)){"&"===e?this.state=f.ATTRIB_VALUE_ENTITY_U:this.attribValue+=e;continue}G(this);">"===e?y(this):this.state=f.ATTRIB;continue;case f.CLOSE_TAG:if(this.tagName)">"===e?B(this):m.test(e)?this.tagName+=e:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=f.SCRIPT):(p(e)||r(this,"Invalid tagname in closing tag"),this.state=f.CLOSE_TAG_SAW_WHITE);
else if(p(e))continue;else I.test(e)?this.tagName=e:this.script?(this.script+="</"+e,this.state=f.SCRIPT):r(this,"Invalid tagname in closing tag.");continue;case f.CLOSE_TAG_SAW_WHITE:if(p(e))continue;">"===e?B(this):r(this,"Invalid characters in closing tag");continue;case f.TEXT_ENTITY:case f.ATTRIB_VALUE_ENTITY_Q:case f.ATTRIB_VALUE_ENTITY_U:switch(this.state){case f.TEXT_ENTITY:var g=f.TEXT;var l="textNode";break;case f.ATTRIB_VALUE_ENTITY_Q:g=f.ATTRIB_VALUE_QUOTED;l="attribValue";break;case f.ATTRIB_VALUE_ENTITY_U:g=
f.ATTRIB_VALUE_UNQUOTED,l="attribValue"}";"===e?(this[l]+=L(this),this.entity="",this.state=g):(this.entity.length?h:E).test(e)?this.entity+=e:(r(this,"Invalid character in entity name"),this[l]+="&"+this.entity+e,this.entity="",this.state=g);continue;default:throw Error(this,"Unknown state: "+this.state);}}if(this.position>=this.bufferCheckPosition){a=Math.max(d.MAX_BUFFER_LENGTH,10);e=b=0;for(g=v.length;e<g;e++){l=this[v[e]].length;if(l>a)switch(v[e]){case "textNode":w(this);break;case "cdata":c(this,
"oncdata",this.cdata);this.cdata="";break;case "script":c(this,"onscript",this.script);this.script="";break;default:x(this,"Max buffer length exceeded: "+v[e])}b=Math.max(b,l)}this.bufferCheckPosition=d.MAX_BUFFER_LENGTH-b+this.position}return this},resume:function(){this.error=null;return this},close:function(){return this.write(null)},flush:function(){w(this);""!==this.cdata&&(c(this,"oncdata",this.cdata),this.cdata="");""!==this.script&&(c(this,"onscript",this.script),this.script="")}};try{var e=
b("stream").Stream}catch(Q){e=function(){}}var q=d.EVENTS.filter(function(a){return"error"!==a&&"end"!==a});g.prototype=Object.create(e.prototype,{constructor:{value:g}});g.prototype.write=function(c){"function"===typeof a&&"function"===typeof a.isBuffer&&a.isBuffer(c)&&(this._decoder||(this._decoder=new (b("string_decoder").StringDecoder)("utf8")),c=this._decoder.write(c));this._parser.write(c.toString());this.emit("data",c);return!0};g.prototype.end=function(a){a&&a.length&&this.write(a);this._parser.end();
return!0};g.prototype.on=function(a,c){var b=this;b._parser["on"+a]||-1===q.indexOf(a)||(b._parser["on"+a]=function(){var c=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);c.splice(0,0,a);b.emit.apply(b,c)});return e.prototype.on.call(b,a,c)};var H="[CDATA[",K="DOCTYPE",M="http://www.w3.org/XML/1998/namespace",J="http://www.w3.org/2000/xmlns/",D={xml:M,xmlns:J},I=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,
m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,E=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,h=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,
f=0;d.STATE={BEGIN:f++,BEGIN_WHITESPACE:f++,TEXT:f++,TEXT_ENTITY:f++,OPEN_WAKA:f++,SGML_DECL:f++,SGML_DECL_QUOTED:f++,DOCTYPE:f++,DOCTYPE_QUOTED:f++,DOCTYPE_DTD:f++,DOCTYPE_DTD_QUOTED:f++,COMMENT_STARTING:f++,COMMENT:f++,COMMENT_ENDING:f++,COMMENT_ENDED:f++,CDATA:f++,CDATA_ENDING:f++,CDATA_ENDING_2:f++,PROC_INST:f++,PROC_INST_BODY:f++,PROC_INST_ENDING:f++,OPEN_TAG:f++,OPEN_TAG_SLASH:f++,ATTRIB:f++,ATTRIB_NAME:f++,ATTRIB_NAME_SAW_WHITE:f++,ATTRIB_VALUE:f++,ATTRIB_VALUE_QUOTED:f++,ATTRIB_VALUE_CLOSED:f++,
ATTRIB_VALUE_UNQUOTED:f++,ATTRIB_VALUE_ENTITY_Q:f++,ATTRIB_VALUE_ENTITY_U:f++,CLOSE_TAG:f++,CLOSE_TAG_SAW_WHITE:f++,SCRIPT:f++,SCRIPT_ENDING:f++};d.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};d.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,
THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,
laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,
Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,
lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,
ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(d.ENTITIES).forEach(function(a){var c=d.ENTITIES[a];c="number"===typeof c?String.fromCharCode(c):c;d.ENTITIES[a]=c});for(var S in d.STATE)d.STATE[d.STATE[S]]=S;f=d.STATE;String.fromCodePoint||function(){var a=String.fromCharCode,c=Math.floor,b=function(){var b=[],e=-1,
f=arguments.length;if(!f)return"";for(var d="";++e<f;){var h=Number(arguments[e]);if(!isFinite(h)||0>h||1114111<h||c(h)!==h)throw RangeError("Invalid code point: "+h);if(65535>=h)b.push(h);else{h-=65536;var n=(h>>10)+55296;h=h%1024+56320;b.push(n,h)}if(e+1===f||16384<b.length)d+=a.apply(null,b),b.length=0}return d};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:b,configurable:!0,writable:!0}):String.fromCodePoint=b}()})("undefined"===typeof g?this.sax={}:g)}).call(this,
b("buffer").Buffer)},{buffer:3,stream:29,string_decoder:30}],29:[function(b,p,g){function a(){d.call(this)}p.exports=a;var d=b("events").EventEmitter;b("inherits")(a,d);a.Readable=b("readable-stream/readable.js");a.Writable=b("readable-stream/writable.js");a.Duplex=b("readable-stream/duplex.js");a.Transform=b("readable-stream/transform.js");a.PassThrough=b("readable-stream/passthrough.js");a.Stream=a;a.prototype.pipe=function(a,b){function k(c){a.writable&&!1===a.write(c)&&p.pause&&p.pause()}function g(){p.readable&&
p.resume&&p.resume()}function c(){r||(r=!0,a.end())}function w(){r||(r=!0,"function"===typeof a.destroy&&a.destroy())}function l(a){x();if(0===d.listenerCount(this,"error"))throw a;}function x(){p.removeListener("data",k);a.removeListener("drain",g);p.removeListener("end",c);p.removeListener("close",w);p.removeListener("error",l);a.removeListener("error",l);p.removeListener("end",x);p.removeListener("close",x);a.removeListener("close",x)}var p=this;p.on("data",k);a.on("drain",g);a._isStdio||b&&!1===
b.end||(p.on("end",c),p.on("close",w));var r=!1;p.on("error",l);a.on("error",l);p.on("end",x);p.on("close",x);a.on("close",x);a.emit("pipe",p);return a}},{events:5,inherits:7,"readable-stream/duplex.js":12,"readable-stream/passthrough.js":23,"readable-stream/readable.js":24,"readable-stream/transform.js":25,"readable-stream/writable.js":26}],30:[function(b,p,g){arguments[4][22][0].apply(g,arguments)},{dup:22,"safe-buffer":27}],31:[function(b,p,g){(function(a,d){function k(a,c){this._id=a;this._clearFn=
c}var l=b("process/browser.js").nextTick,p=Function.prototype.apply,A=Array.prototype.slice,c={},w=0;g.setTimeout=function(){return new k(p.call(setTimeout,window,arguments),clearTimeout)};g.setInterval=function(){return new k(p.call(setInterval,window,arguments),clearInterval)};g.clearTimeout=g.clearInterval=function(a){a.close()};k.prototype.unref=k.prototype.ref=function(){};k.prototype.close=function(){this._clearFn.call(window,this._id)};g.enroll=function(a,c){clearTimeout(a._idleTimeoutId);
a._idleTimeout=c};g.unenroll=function(a){clearTimeout(a._idleTimeoutId);a._idleTimeout=-1};g._unrefActive=g.active=function(a){clearTimeout(a._idleTimeoutId);var c=a._idleTimeout;0<=c&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},c))};g.setImmediate="function"===typeof a?a:function(a){var b=w++,d=2>arguments.length?!1:A.call(arguments,1);c[b]=!0;l(function(){c[b]&&(d?a.apply(null,d):a.call(null),g.clearImmediate(b))});return b};g.clearImmediate="function"===typeof d?d:function(a){delete c[a]}}).call(this,
b("timers").setImmediate,b("timers").clearImmediate)},{"process/browser.js":11,timers:31}],32:[function(b,p,g){(function(a){function b(b){try{if(!a.localStorage)return!1}catch(l){return!1}b=a.localStorage[b];return null==b?!1:"true"===String(b).toLowerCase()}p.exports=function(a,d){if(b("noDeprecation"))return a;var k=!1;return function(){if(!k){if(b("throwDeprecation"))throw Error(d);b("traceDeprecation")?console.trace(d):console.warn(d);k=!0}return a.apply(this,arguments)}}}).call(this,"undefined"!==
typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],33:[function(b,p,g){(function(a,b,k,g,p){function d(a,c){var b=a.styleAttrs&&a.styleAttrs["http://www.w3.org/ns/ttml#styling backgroundColor"];if("span"===a.kind)!b&&c&&(a.styleAttrs||(a.styleAttrs={}),a.styleAttrs["http://www.w3.org/ns/ttml#styling backgroundColor"]=c);else if(b&&delete a.styleAttrs["http://www.w3.org/ns/ttml#styling backgroundColor"],a.contents)for(var e=0;e<a.contents.length;e++)d(a.contents[e],
b||c)}function c(a){if("contents"in a){var b="styleAttrs"in a?a.styleAttrs[g.byName.ruby.qname]:null;b="span"===a.kind&&("container"===b||"textContainer"===b||"baseContainer"===b);for(var e=a.contents.length-1;0<=e;e--)!b||"styleAttrs"in a.contents[e]&&g.byName.ruby.qname in a.contents[e].styleAttrs?c(a.contents[e]):delete a.contents[e]}}function w(a,c,b,e){var f=e&&"seq"===e.timeContainer,d=0;e&&(d=f&&b?b.end:e.begin);c.begin=c.explicit_begin?c.explicit_begin+d:d;b=c.begin;e=null;for(var h in c.sets)c.sets.hasOwnProperty(h)&&
(w(a,c.sets[h],e,c),b="seq"===c.timeContainer?c.sets[h].end:Math.max(b,c.sets[h].end),e=c.sets[h]);if("contents"in c)for(var n in c.contents)c.contents.hasOwnProperty(n)&&(w(a,c.contents[n],e,c),b="seq"===c.timeContainer?c.contents[n].end:Math.max(b,c.contents[n].end),e=c.contents[n]);else b=f?c.begin:Number.POSITIVE_INFINITY;c.end=null!==c.explicit_end&&null!==c.explicit_dur?Math.min(c.begin+c.explicit_dur,d+c.explicit_end):null===c.explicit_end&&null!==c.explicit_dur?c.begin+c.explicit_dur:null!==
c.explicit_end&&null===c.explicit_dur?d+c.explicit_end:b;delete c.explicit_begin;delete c.explicit_dur;delete c.explicit_end;a._registerEvent(c)}function l(a){this.node=a}function x(){this.events=[];this.head=new z;this.body=null}function z(){this.styling=new r;this.layout=new y}function r(){this.styles={};this.initials={}}function u(){this.styleRefs=this.styleAttrs=this.id=null}function G(){this.styleAttrs=null}function y(){this.regions={}}function B(a,c){this.kind="image";this.src=a;this.type=c}
function L(a){this.id=a}function F(a){this.regionID=a}function n(a){this.styleAttrs=a}function v(a){this.sets=a}function e(a){this.contents=a}function q(a,c,b){this.explicit_begin=a;this.explicit_end=c;this.explicit_dur=b}function H(){this.kind="body"}function K(){this.kind="div"}function M(){this.kind="p"}function J(){this.kind="span"}function D(){this.kind="span"}function I(){this.kind="br"}function m(){}function E(){}function h(a){var c=null;a&&(a=a.attributes["xml:id"]||a.attributes.id)&&(c=a.value||
null);return c}function f(a){return a&&"style"in a.attributes?a.attributes.style.value.split(" "):[]}function S(a,c){var b={};if(null!==a)for(var e in a.attributes)if(a.attributes.hasOwnProperty(e)){var f=a.attributes[e].uri+" "+a.attributes[e].local,d=g.byQName[f];if(void 0!==d){var h=d.parse(a.attributes[e].value);null!==h?(b[f]=h,d===g.byName.zIndex&&P(c,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):O(c,"Cannot parse styling attribute "+f+" --\x3e "+a.attributes[e].value)}}return b}
function Q(a,c,b){for(var e in a.attributes)if(a.attributes.hasOwnProperty(e)&&a.attributes[e].uri===c&&a.attributes[e].local===b)return a.attributes[e].value;return null}function Z(a,c){a=Q(a,k.ns_tts,"extent");if(null===a)return null;var b=a.split(" ");if(2!==b.length)return P(c,"Malformed extent (ignoring)"),null;a=p.parseLength(b[0]);b=p.parseLength(b[1]);return b&&a?{h:b,w:a}:(P(c,"Malformed extent values (ignoring)"),null)}function U(a,c,b){var e=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/,f=/^(\d{2,}):(\d\d):(\d\d):(\d{2,})$/,
d=/^(\d+(?:\.\d+)?)t$/,h=/^(\d+(?:\.\d+)?)ms$/,n=/^(\d+(?:\.\d+)?)s$/,q=/^(\d+(?:\.\d+)?)h$/,k=/^(\d+(?:\.\d+)?)m$/,g,m=null;null!==(g=/^(\d+(?:\.\d+)?)f$/.exec(b))?null!==c&&(m=parseFloat(g[1])/c):null!==(g=d.exec(b))?null!==a&&(m=parseFloat(g[1])/a):null!==(g=h.exec(b))?m=parseFloat(g[1])/1E3:null!==(g=n.exec(b))?m=parseFloat(g[1]):null!==(g=q.exec(b))?m=3600*parseFloat(g[1]):null!==(g=k.exec(b))?m=60*parseFloat(g[1]):null!==(g=e.exec(b))?m=3600*parseInt(g[1])+60*parseInt(g[2])+parseFloat(g[3]):
null!==(g=f.exec(b))&&null!==c&&(m=3600*parseInt(g[1])+60*parseInt(g[2])+parseInt(g[3])+(null===g[4]?0:parseInt(g[4])/c));return m}function W(a,c,b){for(;0<c.styleRefs.length;){var e=c.styleRefs.pop();e in a.styles?(W(a,a.styles[e],b),T(a.styles[e].styleAttrs,c.styleAttrs)):O(b,"Non-existant style id referenced")}}function V(a,c,b,e){for(var f=c.length-1;0<=f;f--){var d=c[f];d in a.styles?T(a.styles[d].styleAttrs,b):O(e,"Non-existant style id referenced")}}function T(a,c){for(var b in a)!a.hasOwnProperty(b)||
b in c||(c[b]=a[b])}function P(a,c){if(a&&a.warn&&a.warn(c))throw c;}function O(a,c){if(a&&a.error&&a.error(c))throw c;}function N(a,c){a&&a.fatal&&a.fatal(c);throw c;}function Y(a,c){for(var b=0,e=a.length-1,f;b<=e;){f=Math.floor((b+e)/2);var d=a[f];if(d<c)b=f+1;else if(d>c)e=f-1;else return{found:!0,index:f}}return{found:!1,index:b}}a.fromXML=function(a,e,f){var h=b.parser(!0,{xmlns:!0}),n=[],q=[],v=[],p=0,t=null;h.onclosetag=function(a){if(n[0]instanceof m)null!==t.head&&null!==t.head.styling&&
V(t.head.styling,n[0].styleRefs,n[0].styleAttrs,e),delete n[0].styleRefs;else if(n[0]instanceof r)for(var c in n[0].styles)n[0].styles.hasOwnProperty(c)&&W(n[0],n[0].styles[c],e);else if(n[0]instanceof M||n[0]instanceof J){if(1<n[0].contents.length){a=[n[0].contents[0]];for(c=1;c<n[0].contents.length;c++)n[0].contents[c]instanceof D&&a[a.length-1]instanceof D?a[a.length-1].text+=n[0].contents[c].text:a.push(n[0].contents[c]);n[0].contents=a}n[0]instanceof J&&1===n[0].contents.length&&n[0].contents[0]instanceof
D&&(n[0].text=n[0].contents[0].text,delete n[0].contents)}else if(n[0]instanceof l)if(n[0].node.uri===k.ns_tt&&"metadata"===n[0].node.local)p--;else if(0<p&&f&&"onCloseTag"in f)f.onCloseTag();v.shift();q.shift();n.shift()};h.ontext=function(a){if(void 0!==n[0])if(n[0]instanceof J||n[0]instanceof M){if(n[0]instanceof J){var c=n[0].styleAttrs[g.byName.ruby.qname];if("container"===c||"textContainer"===c||"baseContainer"===c)return}c=new D;c.initFromText(t,n[0],a,q[0],v[0],e);n[0].contents.push(c)}else if(n[0]instanceof
l&&0<p&&f&&"onText"in f)f.onText(a)};h.onopentag=function(a){function c(a){k.ttaf_map[a.uri]&&(a.uri=k.ttaf_map[a.uri])}var b=a.attributes["xml:space"];b?v.unshift(b.value):0===v.length?v.unshift("default"):v.unshift(v[0]);(b=a.attributes["xml:lang"])?q.unshift(b.value):0===q.length?q.unshift(""):q.unshift(q[0]);c(a);if(a.attributes)for(var d in a.attributes)a.attributes.hasOwnProperty(d)&&c(a.attributes[d]);if(a.uri===k.ns_tt)if("tt"===a.local)null!==t&&N(e,"Two <tt> elements at ("+this.line+","+
this.column+")"),t=new x,t.initFromNode(a,q[0],e),n.unshift(t);else if("head"===a.local)n[0]instanceof x||N(e,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),n.unshift(t.head);else if("styling"===a.local)n[0]instanceof z||N(e,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),n.unshift(t.head.styling);else if("style"===a.local)if(n[0]instanceof r){var h=new u;h.initFromNode(a,e);h.id?t.head.styling.styles[h.id]=h:O(e,"<style> element missing @id attribute");
n.unshift(h)}else n[0]instanceof m?(h=new u,h.initFromNode(a,e),T(h.styleAttrs,n[0].styleAttrs),n.unshift(h)):N(e,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")");else if("initial"===a.local)if(n[0]instanceof r){d=new G;d.initFromNode(a,e);for(h in d.styleAttrs)d.styleAttrs.hasOwnProperty(h)&&(t.head.styling.initials[h]=d.styleAttrs[h]);n.unshift(d)}else N(e,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")");else if("layout"===
a.local)n[0]instanceof z||N(e,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),n.unshift(t.head.layout);else if("region"===a.local)n[0]instanceof y||N(e,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")"),h=new m,h.initFromNode(t,a,q[0],e),!h.id||h.id in t.head.layout.regions?O(e,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):t.head.layout.regions[h.id]=h,n.unshift(h);else if("body"===a.local)n[0]instanceof
x||N(e,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==t.body&&N(e,"Second <body> element at "+this.line+","+this.column+")"),h=new H,h.initFromNode(t,a,q[0],e),t.body=h,n.unshift(h);else if("div"===a.local){n[0]instanceof K||n[0]instanceof H||N(e,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");h=new K;h.initFromNode(t,n[0],a,q[0],e);if(d=h.styleAttrs[g.byName.backgroundImage.qname])h.contents.push(new B(d)),delete h.styleAttrs[g.byName.backgroundImage.qname];
n[0].contents.push(h);n.unshift(h)}else"image"===a.local?(n[0]instanceof K||N(e,"Parent of <image> element is not <div> at "+this.line+","+this.column+")"),h=new B,h.initFromNode(t,n[0],a,q[0],e),n[0].contents.push(h),n.unshift(h)):"p"===a.local?(n[0]instanceof K||N(e,"Parent of <p> element is not <div> at "+this.line+","+this.column+")"),h=new M,h.initFromNode(t,n[0],a,q[0],e),n[0].contents.push(h),n.unshift(h)):"span"===a.local?(n[0]instanceof J||n[0]instanceof M||N(e,"Parent of <span> element is not <span> or <p> at "+
this.line+","+this.column+")"),h=new J,h.initFromNode(t,n[0],a,q[0],v[0],e),n[0].contents.push(h),n.unshift(h)):"br"===a.local?(n[0]instanceof J||n[0]instanceof M||N(e,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")"),h=new I,h.initFromNode(t,n[0],a,q[0],e),n[0].contents.push(h),n.unshift(h)):"set"===a.local?(n[0]instanceof J||n[0]instanceof M||n[0]instanceof K||n[0]instanceof H||n[0]instanceof m||n[0]instanceof I||N(e,"Parent of <set> element is not a content element or a region at "+
this.line+","+this.column+")"),h=new E,h.initFromNode(t,n[0],a,e),n[0].sets.push(h),n.unshift(h)):n.unshift(new l(a));else n.unshift(new l(a));if(n[0]instanceof l)if(a.uri===k.ns_tt&&"metadata"===a.local)p++;else if(0<p&&f&&"onOpenTag"in f){h=[];for(var w in a.attributes)a.attributes.hasOwnProperty(w)&&(h[a.attributes[w].uri+" "+a.attributes[w].local]={uri:a.attributes[w].uri,local:a.attributes[w].local,value:a.attributes[w].value});f.onOpenTag(a.uri,a.local,h)}};h.write(a).close();delete t.head.styling.styles;
a=!1;for(var R in t.head.layout.regions)if(t.head.layout.regions.hasOwnProperty(R)){a=!0;break}a||(R=m.prototype.createDefaultRegion(t,e),t.head.layout.regions[R.id]=R);for(var X in t.head.layout.regions)t.head.layout.regions.hasOwnProperty(X)&&w(t,t.head.layout.regions[X],null,null);t.body&&w(t,t.body,null,null);t.body&&c(t.body);t.body&&d(t.body);return t};x.prototype.initFromNode=function(a,c,b){var e=Q(a,k.ns_ttp,"cellResolution"),f=15;var n=32;null!==e&&(e=/(\d+) (\d+)/.exec(e),null!==e?(n=parseInt(e[1]),
f=parseInt(e[2])):P(b,"Malformed cellResolution value (using initial value instead)"));this.cellLength={h:new p.ComputedLength(0,1/f),w:new p.ComputedLength(1/n,0)};f=Q(a,k.ns_ttp,"frameRate");e=30;null!==f&&(n=/(\d+)/.exec(f),null!==n?e=parseInt(n[1]):P(b,"Malformed frame rate attribute (using initial value instead)"));n=Q(a,k.ns_ttp,"frameRateMultiplier");var h=1;null!==n&&(n=/(\d+) (\d+)/.exec(n),null!==n?h=parseInt(n[1])/parseInt(n[2]):P(b,"Malformed frame rate multiplier attribute (using initial value instead)"));
e*=h;h=1;n=Q(a,k.ns_ttp,"tickRate");null===n?null!==f&&(h=e):(n=/(\d+)/.exec(n),null!==n?h=parseInt(n[1]):P(b,"Malformed tick rate attribute (using initial value instead)"));this.effectiveFrameRate=e;this.tickRate=h;n=Q(a,k.ns_ittp,"aspectRatio");null===n&&(n=Q(a,k.ns_ttp,"displayAspectRatio"));f=null;null!==n&&(e=/(\d+)\s+(\d+)/.exec(n),null!==e?(n=parseInt(e[1]),e=parseInt(e[2]),0!==n&&0!==e?f=n/e:O(b,"Illegal aspectRatio values (ignoring)")):O(b,"Malformed aspectRatio attribute (ignoring)"));this.aspectRatio=
f;f=Q(a,k.ns_ttp,"timeBase");null!==f&&"media"!==f&&N(b,"Unsupported time base");a=Z(a,b);null===a?this.pxLength={h:null,w:null}:("px"===a.h.unit&&"px"===a.w.unit||N(b,"Extent on TT must be in px or absent"),this.pxLength={h:new p.ComputedLength(0,1/a.h.value),w:new p.ComputedLength(1/a.w.value,0)});this.dimensions={h:new p.ComputedLength(0,1),w:new p.ComputedLength(1,0)};this.lang=c};x.prototype._registerEvent=function(a){if(!(a.end<=a.begin)){var c=Y(this.events,a.begin);c.found||this.events.splice(c.index,
0,a.begin);a.end!==Number.POSITIVE_INFINITY&&(c=Y(this.events,a.end),c.found||this.events.splice(c.index,0,a.end))}};x.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]};x.prototype.getMediaTimeEvents=function(){return this.events};u.prototype.initFromNode=function(a,c){this.id=h(a);this.styleAttrs=S(a,c);this.styleRefs=f(a)};G.prototype.initFromNode=function(a,c){this.styleAttrs={};for(var b in a.attributes)!a.attributes.hasOwnProperty(b)||a.attributes[b].uri!==
k.ns_itts&&a.attributes[b].uri!==k.ns_ebutts&&a.attributes[b].uri!==k.ns_tts||(this.styleAttrs[a.attributes[b].uri+" "+a.attributes[b].local]=a.attributes[b].value)};B.prototype.initFromNode=function(a,c,b,e,f){(this.src="src"in b.attributes?b.attributes.src.value:null)||O(f,"Invalid image@src attribute");(this.type="type"in b.attributes?b.attributes.type.value:null)||O(f,"Invalid image@type attribute");n.prototype.initFromNode.call(this,a,c,b,f);q.prototype.initFromNode.call(this,a,c,b,f);v.prototype.initFromNode.call(this,
a,c,b,f);F.prototype.initFromNode.call(this,a,c,b,f);this.lang=e};L.prototype.initFromNode=function(a,c,b,e){this.id=h(b)};F.prototype.initFromNode=function(a,c,b,e){this.regionID=b&&"region"in b.attributes?b.attributes.region.value:""};n.prototype.initFromNode=function(a,c,b,e){this.styleAttrs=S(b,e);null!==a.head&&null!==a.head.styling&&V(a.head.styling,f(b),this.styleAttrs,e)};v.prototype.initFromNode=function(a,c,b,e){this.sets=[]};e.prototype.initFromNode=function(a,c,b,e){this.contents=[]};
q.prototype.initFromNode=function(a,c,b,e){c=null;b&&"begin"in b.attributes&&(c=U(a.tickRate,a.effectiveFrameRate,b.attributes.begin.value),null===c&&P(e,"Malformed begin value "+b.attributes.begin.value+" (using 0)"));var f=null;b&&"dur"in b.attributes&&(f=U(a.tickRate,a.effectiveFrameRate,b.attributes.dur.value),null===f&&P(e,"Malformed dur value "+b.attributes.dur.value+" (ignoring)"));var n=null;b&&"end"in b.attributes&&(n=U(a.tickRate,a.effectiveFrameRate,b.attributes.end.value),null===n&&P(e,
"Malformed end value (ignoring)"));this.explicit_begin=c;this.explicit_end=n;this.explicit_dur=f;(a=b&&"timeContainer"in b.attributes?b.attributes.timeContainer.value:null)&&"par"!==a?"seq"===a?e="seq":(O(e,"Illegal value of timeContainer (assuming 'par')"),e="par"):e="par";this.timeContainer=e};H.prototype.initFromNode=function(a,c,b,f){n.prototype.initFromNode.call(this,a,null,c,f);q.prototype.initFromNode.call(this,a,null,c,f);v.prototype.initFromNode.call(this,a,null,c,f);F.prototype.initFromNode.call(this,
a,null,c,f);e.prototype.initFromNode.call(this,a,null,c,f);this.lang=b};K.prototype.initFromNode=function(a,c,b,f,h){n.prototype.initFromNode.call(this,a,c,b,h);q.prototype.initFromNode.call(this,a,c,b,h);v.prototype.initFromNode.call(this,a,c,b,h);F.prototype.initFromNode.call(this,a,c,b,h);e.prototype.initFromNode.call(this,a,c,b,h);this.lang=f};M.prototype.initFromNode=function(a,c,b,f,h){n.prototype.initFromNode.call(this,a,c,b,h);q.prototype.initFromNode.call(this,a,c,b,h);v.prototype.initFromNode.call(this,
a,c,b,h);F.prototype.initFromNode.call(this,a,c,b,h);e.prototype.initFromNode.call(this,a,c,b,h);this.lang=f};J.prototype.initFromNode=function(a,c,b,f,h,d){n.prototype.initFromNode.call(this,a,c,b,d);q.prototype.initFromNode.call(this,a,c,b,d);v.prototype.initFromNode.call(this,a,c,b,d);F.prototype.initFromNode.call(this,a,c,b,d);e.prototype.initFromNode.call(this,a,c,b,d);this.space=h;this.lang=f};D.prototype.initFromText=function(a,c,b,e,f,n){q.prototype.initFromNode.call(this,a,c,null,n);this.text=
b;this.space=f;this.lang=e};I.prototype.initFromNode=function(a,c,b,e,f){F.prototype.initFromNode.call(this,a,c,b,f);q.prototype.initFromNode.call(this,a,c,b,f);this.lang=e};m.prototype.createDefaultRegion=function(a,c){var b=new m;b.id="";n.prototype.initFromNode.call(b,a,null,{name:"region",attributes:{"tts:displayAlign":{name:"tts:displayAlign",value:"after",prefix:"tts",local:"displayAlign",uri:"http://www.w3.org/ns/ttml#styling"},"tts:extent":{name:"tts:extent",value:"80% 20%",prefix:"tts",local:"extent",
uri:"http://www.w3.org/ns/ttml#styling"},"tts:origin":{name:"tts:origin",value:"10% 70%",prefix:"tts",local:"origin",uri:"http://www.w3.org/ns/ttml#styling"},"tts:overflow":{name:"tts:overflow",value:"visible",prefix:"tts",local:"overflow",uri:"http://www.w3.org/ns/ttml#styling"}},ns:{"":"http://www.w3.org/ns/ttml",ebuttm:"urn:ebu:tt:metadata",ebutts:"urn:ebu:tt:style",ittp:"http://www.w3.org/ns/ttml/profile/imsc1#parameter",itts:"http://www.w3.org/ns/ttml/profile/imsc1#styling",ttm:"http://www.w3.org/ns/ttml#metadata",
ttp:"http://www.w3.org/ns/ttml#parameter",tts:"http://www.w3.org/ns/ttml#styling",xml:"http://www.w3.org/XML/1998/namespace"},prefix:"",local:"region",uri:"http://www.w3.org/ns/ttml",isSelfClosing:!0},c);b.sets=[];q.call(b,0,Number.POSITIVE_INFINITY,null);this.lang=a.xmllang;return b};m.prototype.initFromNode=function(a,c,b,e){L.prototype.initFromNode.call(this,a,null,c,e);q.prototype.initFromNode.call(this,a,null,c,e);v.prototype.initFromNode.call(this,a,null,c,e);this.styleAttrs=S(c,e);this.styleRefs=
f(c);this.lang=b};E.prototype.initFromNode=function(a,c,b,e){q.prototype.initFromNode.call(this,a,c,b,e);a=S(b,e);this.value=this.qname=null;for(var f in a)if(a.hasOwnProperty(f)){if(this.qname){O(e,"More than one style specified on set");break}this.qname=f;this.value=a[f]}}})("undefined"===typeof g?this.imscDoc={}:g,"undefined"===typeof sax?b("sax"):sax,"undefined"===typeof imscNames?b("./names"):imscNames,"undefined"===typeof imscStyles?b("./styles"):imscStyles,"undefined"===typeof imscUtils?b("./utils"):
imscUtils)},{"./names":37,"./styles":38,"./utils":39,sax:28}],34:[function(b,p,g){(function(a,b,g,l){function d(a){var c={};a=Object.entries(a);for(var b in a)if(a.hasOwnProperty(b)){var n=l.parseColor(a[b][0]),d=l.parseColor(a[b][1]);n&&d&&(c[n.toString()]=d)}return c}function k(a,b,e,d){if("region"===e.kind){var n=document.createElement("div");n.style.position="absolute"}else if("body"===e.kind)n=document.createElement("div");else if("div"===e.kind)n=document.createElement("div");else if("image"===
e.kind){if(n=document.createElement("img"),null!==a.imgResolver&&null!==e.src){var q=a.imgResolver(e.src,n);q&&(n.src=q);n.height=a.regionH;n.width=a.regionW}}else if("p"===e.kind)n=document.createElement("p");else if("span"===e.kind)if("container"===e.styleAttrs[g.byName.ruby.qname])n=document.createElement("ruby"),a.ruby=!0;else if("base"===e.styleAttrs[g.byName.ruby.qname])n=document.createElement("rb");else if("text"===e.styleAttrs[g.byName.ruby.qname])n=document.createElement("rt");else if("baseContainer"===
e.styleAttrs[g.byName.ruby.qname])n=document.createElement("rbc");else if("textContainer"===e.styleAttrs[g.byName.ruby.qname])n=document.createElement("rtc");else{if("delimiter"===e.styleAttrs[g.byName.ruby.qname])return;n=document.createElement("span")}else"br"===e.kind&&(n=document.createElement("br"));if(n){!e.lang||"region"!==e.kind&&e.lang===d.lang||(n.lang=e.lang);b.appendChild(n);n.style.margin="0";if("region"===e.kind)if(b=e.styleAttrs[g.byName.writingMode.qname],"lrtb"===b||"lr"===b)a.ipd=
"lr",a.bpd="tb";else if("rltb"===b||"rl"===b)a.ipd="rl",a.bpd="tb";else if("tblr"===b)a.ipd="tb",a.bpd="lr";else{if("tbrl"===b||"tb"===b)a.ipd="tb",a.bpd="rl"}else"p"===e.kind&&"tb"===a.bpd&&(a.ipd="ltr"===e.styleAttrs[g.byName.direction.qname]?"lr":"rl");for(var r in C)C.hasOwnProperty(r)&&(b=C[r],d=e.styleAttrs[b.qname],void 0!==d&&null!==b.map&&b.map(a,n,e,d));r=n;(b=e.styleAttrs[g.byName.linePadding.qname])&&!b.isZero()&&(d=b.multiply(b.toUsedLength(a.w,a.h),a.options.sizeAdjust),0<d&&(d=Math.ceil(d)+
"px","tb"===a.bpd?(r.style.paddingLeft=d,r.style.paddingRight=d):(r.style.paddingTop=d,r.style.paddingBottom=d),a.removePaddingElement=r,a.lp=b));(b=e.styleAttrs[g.byName.multiRowAlign.qname])&&"auto"!==b&&(r=document.createElement("span"),r.style.display="inline-block",r.style.textAlign=b,n.appendChild(r),a.mra=b);(b=e.styleAttrs[g.byName.rubyReserve.qname])&&"none"!==b[0]&&(a.rubyReserve=b);e.styleAttrs[g.byName.fillLineGap.qname]&&(a.flg=!0);if("span"===e.kind&&e.text)if((b=e.styleAttrs[g.byName.textEmphasis.qname])&&
"none"!==b.style&&(a.textEmphasis=!0),g.byName.textCombine.qname in e.styleAttrs&&"all"===e.styleAttrs[g.byName.textCombine.qname])n.textContent=e.text,b&&p(a,n,e,b);else for(d="",q=0;q<e.text.length;q++){d+=e.text.charAt(q);var l=e.text.charCodeAt(q);if(55296>l||56319<l||q===e.text.length-1)l=document.createElement("span"),l.textContent=d,b&&p(a,l,e,b),n.appendChild(l),d="",l._isd_element=e}for(var v in e.contents)e.contents.hasOwnProperty(v)&&k(a,r,e.contents[v],e);v=[];if("p"===e.kind){x(a,r,v,
null);if(a.rubyReserve){for(b=0;b<v.length;b++){d=document.createElement("ruby");q=document.createElement("rb");q.textContent="\u200b";d.appendChild(q);var z=a.rubyReserve[1].toUsedLength(a.w,a.h)+"px";"both"===a.rubyReserve[0]||"outside"===a.rubyReserve[0]&&1==v.length?(q=document.createElement("rtc"),q.style[B]=y?"after":"under",q.textContent="\u200b",q.style.fontSize=z,l=document.createElement("rtc"),l.style[B]=y?"before":"over",l.textContent="\u200b",l.style.fontSize=z,d.appendChild(q),d.appendChild(l)):
(q=document.createElement("rtc"),q.textContent="\u200b",q.style.fontSize=z,q.style[B]="after"===a.rubyReserve[0]||"outside"===a.rubyReserve[0]&&0<b?y?"after":"tb"===a.bpd||"rl"===a.bpd?"under":"over":y?"before":"tb"===a.bpd||"rl"===a.bpd?"over":"under",d.appendChild(q));q=null;for(l=0;l<v[b].rbc.length;l++)if("ruby"===v[b].rbc[l].localName){q=v[b].rbc[l];for(l=0;l<q.style.length;l++)d.style.setProperty(q.style.item(l),q.style.getPropertyValue(q.style.item(l)));break}q=q||v[b].elements[0].node;q.parentElement.insertBefore(d,
q)}a.rubyReserve=null}if(a.ruby||a.rubyReserve){for(b=0;b<v.length;b++)for(d=0;d<v[b].rbc.length;d++)v[b].rbc[d].style[B]||(v[b].rbc[d].style[B]=y?0===b?"before":"after":"tb"===a.bpd?0===b?"over":"under":"rl"===a.bpd?0===b?"over":"under":0===b?"under":"over");a.ruby=null}if(a.textEmphasis){for(b=0;b<v.length;b++)for(d=0;d<v[b].te.length;d++)v[b].te[d].style[F]&&"none"!==v[b].te[d].style[F]||(v[b].te[d].style[F]="tb"===a.bpd?0===b?"left over":"left under":"rl"===a.bpd?0===b?"right under":"left under":
0===b?"left under":"right under");a.textEmphasis=null}if(a.mra){for(b=0;b<v.length-1;b++)q=v[b].elements.length,0!==q&&!1===v[b].br&&(d=document.createElement("br"),q=v[b].elements[q-1].node,q.parentElement.insertBefore(d,q.nextSibling));a.mra=null}if(a.lp){b=a.lp.multiply(a.lp.toUsedLength(a.w,a.h),a.options.sizeAdjust);for(d=0;d<v.length;d++){q=v[d].elements[v[d].start_elem];l=v[d].elements[v[d].end_elem];z=Math.ceil(b)+"px";var m="-"+Math.ceil(b)+"px";0!==v[d].elements.length&&("lr"===a.ipd?(q.node.marginLeft=
m,q.node.style.paddingLeft=z):"rl"===a.ipd?(q.node.style.paddingRight=z,q.node.style.marginRight=m):"tb"===a.ipd&&(q.node.style.paddingTop=z,q.node.style.marginTop=m),"lr"===a.ipd?(l.node.style.paddingRight=z,l.node.style.marginRight=m):"rl"===a.ipd?(l.node.style.paddingLeft=z,l.node.style.marginLeft=m):"tb"===a.ipd&&(l.node.style.paddingBottom=z,l.node.style.marginBottom=m))}"tb"===a.bpd?(a.removePaddingElement.style.paddingLeft=0,a.removePaddingElement.style.paddingRight=0):(a.removePaddingElement.style.paddingTop=
0,a.removePaddingElement.style.paddingBottom=0);a.lp=null}for(b=0;b<v.length;b++)for(d=v[b],q=1;q<d.elements.length;){l=d.elements[q-1].node;z=d.elements[q].node;if("SPAN"===l.tagName&&"SPAN"===z.tagName&&l._isd_element===z._isd_element){l.textContent+=z.textContent;for(m=0;m<z.style.length;m++){var u=z.style[m];if(0<=u.indexOf("border")||0<=u.indexOf("padding"))l.style[u]=z.style[u]}z.parentElement.removeChild(z);l=!0}else l=!1;l?d.elements.splice(q,1):q++}b=[];for(l=0;l<v.length;l++)for(z=0;z<v[l].elements.length;z++)if(d=
v[l].elements[z].node,q=c(d,b,!1))d.style.backgroundColor=q;for(d=0;d<b.length;d++)b[d].style.backgroundColor="";if(a.flg){d=t(r.getBoundingClientRect(),a);b=d.before;d=d.after;q=Math.sign(d-b);for(l=0;l<=v.length;l++){z=0===l?Math.round(b):l===v.length?Math.round(d):Math.round((v[l-1].after+v[l].before)/2);if(0<l&&v[l-1])for(u=0;u<v[l-1].elements.length;u++){var h=v[l-1].elements[u];m=q*(z-h.after)+"px";"lr"===a.bpd?h.node.style.paddingRight=m:"rl"===a.bpd?h.node.style.paddingLeft=m:"tb"===a.bpd&&
(h.node.style.paddingBottom=m)}if(l<v.length)for(u=0;u<v[l].elements.length;u++)h=v[l].elements[u],m=q*(h.before-z)+"px","lr"===a.bpd?h.node.style.paddingLeft=m:"rl"===a.bpd?h.node.style.paddingRight=m:"tb"===a.bpd&&(h.node.style.paddingTop=m)}a.flg=null}}"region"===e.kind&&"tb"===a.bpd&&a.enableRollUp&&0<e.contents.length&&"after"===e.styleAttrs[g.byName.displayAlign.qname]&&(x(a,r,v,null),e=new w(""===e.id?"_":e.id,v),a.currentISDState[e.id]=e,a.previousISDState&&e.id in a.previousISDState&&0<a.previousISDState[e.id].plist.length&&
1<e.plist.length&&e.plist[e.plist.length-2].text===a.previousISDState[e.id].plist[a.previousISDState[e.id].plist.length-1].text&&(a=n.firstElementChild,e=e.plist[e.plist.length-1].after-e.plist[e.plist.length-1].before,a.style.bottom="-"+e+"px",a.style.transition="transform 0.4s",a.style.position="relative",a.style.transform="translateY(-"+e+"px)"))}else if(a=a.errorHandler,e="Error processing ISD element kind: "+e.kind,a&&a.error&&a.error(e))throw e;}function c(a,b,e){if(a.style.backgroundColor)return e&&
!b.includes(a)&&b.push(a),a.style.backgroundColor;if("SPAN"===a.parentElement.nodeName)return c(a.parentElement,b,!0)}function w(a,c){this.id=a;this.plist=c}function t(a,c){var b={before:null,after:null,start:null,end:null};"tb"===c.bpd?(b.before=a.top,b.after=a.bottom,"lr"===c.ipd?(b.start=a.left,b.end=a.right):(b.start=a.right,b.end=a.left)):"lr"===c.bpd?(b.before=a.left,b.after=a.right,b.start=a.top,b.end=a.bottom):"rl"===c.bpd&&(b.before=a.right,b.after=a.left,b.start=a.top,b.end=a.bottom);return b}
function x(a,c,b,d){if("rt"!==c.localName&&"rtc"!==c.localName)if(d=c.style.backgroundColor||d,0===c.childElementCount)if("span"===c.localName||"rb"===c.localName){var e=c.getBoundingClientRect();a=t(e,a);if(!(e=0===b.length)){e=a.before;var n=a.after,q=b[b.length-1].before,g=b[b.length-1].after;e=!(n<g&&e>q||g<=n&&q>=e)}e?b.push({before:a.before,after:a.after,start:a.start,end:a.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1}):(e=Math.sign(a.after-a.before),n=Math.sign(a.end-
a.start),0>e*(a.before-b[b.length-1].before)&&(b[b.length-1].before=a.before),0<e*(a.after-b[b.length-1].after)&&(b[b.length-1].after=a.after),0>n*(a.start-b[b.length-1].start)&&(b[b.length-1].start=a.start,b[b.length-1].start_elem=b[b.length-1].elements.length),0<n*(a.end-b[b.length-1].end)&&(b[b.length-1].end=a.end,b[b.length-1].end_elem=b[b.length-1].elements.length));b[b.length-1].text+=c.textContent;b[b.length-1].elements.push({node:c,bgcolor:d,before:a.before,after:a.after})}else"br"===c.localName&&
0!==b.length&&(b[b.length-1].br=!0);else for(c=c.firstChild;c;)c.nodeType===Node.ELEMENT_NODE&&(x(a,c,b,d),"ruby"===c.localName||"rtc"===c.localName?0<b.length&&b[b.length-1].rbc.push(c):"span"===c.localName&&c.style[L]&&"none"!==c.style[L]&&0<b.length&&b[b.length-1].te.push(c)),c=c.nextSibling}function p(a,c,b,d){"none"!==d.style&&(c.style[L]="auto"===d.style?"filled":d.style+" "+d.symbol,"before"===d.position||"after"===d.position)&&(c.style[F]="tb"===a.bpd?"before"===d.position?"left over":"left under":
"rl"===a.bpd?"before"===d.position?"right under":"left under":"before"===d.position?"left under":"right under")}function r(a,c){this.qname=a;this.map=c}a.render=function(a,c,b,g,l,w,r,x,t,p){g=g||c.clientHeight;var e=l||c.clientWidth;null!==a.aspectRatio&&(l=g*a.aspectRatio,l>e?g=Math.round(e/a.aspectRatio):e=l);l=document.createElement("div");l.style.position="relative";l.style.width=e+"px";l.style.height=g+"px";l.style.margin="auto";l.style.top=0;l.style.bottom=0;l.style.left=0;l.style.right=0;
l.style.zIndex=0;b={h:g,w:e,regionH:null,regionW:null,imgResolver:b,displayForcedOnlyMode:w||!1,isd:a,errorHandler:r,previousISDState:x,enableRollUp:t||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null,options:Object.assign({},p)||{}};b.options.colorAdjust&&(b.options.colorAdjust=d(b.options.colorAdjust));w=["region","body","div","p","span"];for(var n in w)w.hasOwnProperty(n)&&(r=w[n]+"BackgroundColorAdjust",b.options[r]&&(b.options[r]=
d(b.options[r])));c.appendChild(l);for(var h in a.contents)a.contents.hasOwnProperty(h)&&k(b,l,a.contents[h],a);return b.currentISDState};var C=[new r("http://www.w3.org/ns/ttml#styling backgroundColor",function(a,c,b,d){(b=(b=a.options[b.kind+"BackgroundColorAdjust"])&&b[d.toString()])&&(d=b);b=d[3];0!==b&&(void 0!=a.options.backgroundOpacityScale&&(b*=a.options.backgroundOpacityScale),c.style.backgroundColor="rgba("+d[0].toString()+","+d[1].toString()+","+d[2].toString()+","+(b/255).toString()+
")")}),new r("http://www.w3.org/ns/ttml#styling color",function(a,c,b,d){b=a.options.colorOpacityScale||1;a=a.options.colorAdjust;void 0!=a&&(a=a[d.toString()])&&(d=a);c.style.color="rgba("+d[0].toString()+","+d[1].toString()+","+d[2].toString()+","+(b*d[3]/255).toString()+")"}),new r("http://www.w3.org/ns/ttml#styling direction",function(a,c,b,d){c.style.direction=d}),new r("http://www.w3.org/ns/ttml#styling display",function(a,c,b,d){}),new r("http://www.w3.org/ns/ttml#styling displayAlign",function(a,
c,b,d){c.style.display="flex";c.style.flexDirection="column";"before"===d?c.style.justifyContent="flex-start":"center"===d?c.style.justifyContent="center":"after"===d&&(c.style.justifyContent="flex-end")}),new r("http://www.w3.org/ns/ttml#styling extent",function(a,c,b,d){a.regionH=d.h.toUsedLength(a.w,a.h);a.regionW=d.w.toUsedLength(a.w,a.h);var e=d=0;if(b=b.styleAttrs["http://www.w3.org/ns/ttml#styling padding"])d=b[0].toUsedLength(a.w,a.h)+b[2].toUsedLength(a.w,a.h),e=b[1].toUsedLength(a.w,a.h)+
b[3].toUsedLength(a.w,a.h);c.style.height=a.regionH-d+"px";c.style.width=a.regionW-e+"px"}),new r("http://www.w3.org/ns/ttml#styling fontFamily",function(a,c,b,d){b=[];a.options.fontFamily&&(d=a.options.fontFamily.split(","));for(var e in d)d[e].hasOwnProperty(e)&&(d[e]=d[e].trim(),"monospaceSerif"===d[e]?(b.push("Courier New"),b.push('"Liberation Mono"'),b.push("Courier"),b.push("monospace")):"proportionalSansSerif"===d[e]||"default"===d[e]?(b.push("Arial"),b.push("Helvetica"),b.push('"Liberation Sans"'),
b.push("sans-serif")):"monospace"===d[e]?b.push("monospace"):"sansSerif"===d[e]?b.push("sans-serif"):"serif"===d[e]?b.push("serif"):"monospaceSansSerif"===d[e]?(b.push("Consolas"),b.push("monospace")):"proportionalSerif"===d[e]?b.push("serif"):b.push(d[e]));if(0<b.length){a=[b[0]];for(d=1;d<b.length;d++)-1==a.indexOf(b[d])&&a.push(b[d]);b=a}c.style.fontFamily=b.join(",")}),new r("http://www.w3.org/ns/ttml#styling shear",function(a,c,b,d){0!==d&&(b=-.9*d,c.style.transform="tb"===a.bpd?"skewX("+b+"deg)":
"skewY("+b+"deg)")}),new r("http://www.w3.org/ns/ttml#styling fontSize",function(a,c,b,d){c.style.fontSize=d.multiply(d.toUsedLength(a.w,a.h),a.options.sizeAdjust)+"px"}),new r("http://www.w3.org/ns/ttml#styling fontStyle",function(a,c,b,d){c.style.fontStyle=d}),new r("http://www.w3.org/ns/ttml#styling fontWeight",function(a,c,b,d){c.style.fontWeight=d}),new r("http://www.w3.org/ns/ttml#styling lineHeight",function(a,c,b,d){c.style.lineHeight="normal"===d?"normal":d.multiply(d.multiply(d.toUsedLength(a.w,
a.h),a.options.sizeAdjust),a.options.lineHeightAdjust)+"px"}),new r("http://www.w3.org/ns/ttml#styling opacity",function(a,c,b,d){b=d;void 0!=a.options.regionOpacityScale&&(b*=a.options.regionOpacityScale);c.style.opacity=b}),new r("http://www.w3.org/ns/ttml#styling origin",function(a,c,b,d){c.style.top=d.h.toUsedLength(a.w,a.h)+"px";c.style.left=d.w.toUsedLength(a.w,a.h)+"px"}),new r("http://www.w3.org/ns/ttml#styling overflow",function(a,c,b,d){c.style.overflow=d}),new r("http://www.w3.org/ns/ttml#styling padding",
function(a,c,b,d){b=[];b[0]=d[0].toUsedLength(a.w,a.h)+"px";b[1]=d[3].toUsedLength(a.w,a.h)+"px";b[2]=d[2].toUsedLength(a.w,a.h)+"px";b[3]=d[1].toUsedLength(a.w,a.h)+"px";c.style.padding=b.join(" ")}),new r("http://www.w3.org/ns/ttml#styling position",function(a,c,b,d){c.style.top=d.h.toUsedLength(a.w,a.h)+"px";c.style.left=d.w.toUsedLength(a.w,a.h)+"px"}),new r("http://www.w3.org/ns/ttml#styling rubyAlign",function(a,c,b,d){c.style.rubyAlign="spaceAround"===d?"space-around":"center"}),new r("http://www.w3.org/ns/ttml#styling rubyPosition",
function(a,c,b,d){if("before"===d||"after"===d)c.parentElement.style[B]=y?d:"tb"===a.bpd?"before"===d?"over":"under":"rl"===a.bpd?"before"===d?"over":"under":"before"===d?"under":"over"}),new r("http://www.w3.org/ns/ttml#styling showBackground",null),new r("http://www.w3.org/ns/ttml#styling textAlign",function(a,c,b,d){c.style.textAlign="start"===d?"rl"===a.ipd?"right":"left":"end"===d?"rl"===a.ipd?"left":"right":d}),new r("http://www.w3.org/ns/ttml#styling textDecoration",function(a,c,b,d){c.style.textDecoration=
d.join(" ").replace("lineThrough","line-through")}),new r("http://www.w3.org/ns/ttml#styling textOutline",function(a,c,b,d){}),new r("http://www.w3.org/ns/ttml#styling textShadow",function(a,c,b,d){b=b.styleAttrs[g.byName.textOutline.qname];var e=a.options.textOutline;if(e)if("none"===e)b=e;else{var k={};e=e.split(" ");if(0!==e.length&&2>=e.length){var n=l.parseColor(e[0]);k.color=n;null!==n&&e.shift();1===e.length&&(e=l.parseLength(e[0]))&&(k.thickness=e,b=k)}}if("none"===d&&"none"===b)c.style.textShadow=
"";else{k=[];"none"!==b&&(b="rgba("+b.color[0].toString()+","+b.color[1].toString()+","+b.color[2].toString()+","+(b.color[3]/255).toString()+")",k.push("1px 1px 1px "+b),k.push("-1px 1px 1px "+b),k.push("1px -1px 1px "+b),k.push("-1px -1px 1px "+b));if("none"!==d)for(var w in d)d.hasOwnProperty(w)&&k.push(d[w].x_off.toUsedLength(a.w,a.h)+"px "+d[w].y_off.toUsedLength(a.w,a.h)+"px "+d[w].b_radius.toUsedLength(a.w,a.h)+"px rgba("+d[w].color[0].toString()+","+d[w].color[1].toString()+","+d[w].color[2].toString()+
","+(d[w].color[3]/255).toString()+")");c.style.textShadow=k.join(",")}}),new r("http://www.w3.org/ns/ttml#styling textCombine",function(a,c,b,d){c.style.textCombineUpright=d}),new r("http://www.w3.org/ns/ttml#styling textEmphasis",function(a,c,b,d){}),new r("http://www.w3.org/ns/ttml#styling unicodeBidi",function(a,c,b,d){c.style.unicodeBidi="bidiOverride"===d?"bidi-override":d}),new r("http://www.w3.org/ns/ttml#styling visibility",function(a,c,b,d){c.style.visibility=d}),new r("http://www.w3.org/ns/ttml#styling wrapOption",
function(a,c,b,d){c.style.whiteSpace="wrap"===d?"preserve"===b.space?"pre-wrap":"normal":"preserve"===b.space?"pre":"noWrap"}),new r("http://www.w3.org/ns/ttml#styling writingMode",function(a,c,b,d){if("lrtb"===d||"lr"===d)c.style.writingMode="horizontal-tb";else if("rltb"===d||"rl"===d)c.style.writingMode="horizontal-tb";else if("tblr"===d)c.style.writingMode="vertical-lr";else if("tbrl"===d||"tb"===d)c.style.writingMode="vertical-rl"}),new r("http://www.w3.org/ns/ttml#styling zIndex",function(a,
c,b,d){c.style.zIndex=d}),new r("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(a,c,b,d){a.displayForcedOnlyMode&&!1===d&&(c.style.visibility="hidden")})],G;for(G in C)C.hasOwnProperty(G);var y="webkitRubyPosition"in window.getComputedStyle(document.documentElement),B=y?"webkitRubyPosition":"rubyPosition",L="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",F="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?
"webkitTextEmphasisPosition":"textEmphasisPosition"})("undefined"===typeof g?this.imscHTML={}:g,"undefined"===typeof imscNames?b("./names"):imscNames,"undefined"===typeof imscStyles?b("./styles"):imscStyles,"undefined"===typeof imscUtils?b("./utils"):imscUtils)},{"./names":37,"./styles":38,"./utils":39}],35:[function(b,p,g){(function(a,b,g,l){function d(a,b,t,z,u,A,F,n,v){if(b<F.begin||b>=F.end)return null;A="regionID"in F&&""!==F.regionID?F.regionID:A;if(null!==u&&A!==t.id&&(!("contents"in F)||"contents"in
F&&0===F.contents.length||""!==A))return null;var e=new x(F);for(r in F.sets)!F.sets.hasOwnProperty(r)||b<F.sets[r].begin||b>=F.sets[r].end||(e.styleAttrs[F.sets[r].qname]=F.sets[r].value);var r={};for(var y in e.styleAttrs)if(e.styleAttrs.hasOwnProperty(y)&&(r[y]=!0,"region"===e.kind&&y===g.byName.writingMode.qname&&!(g.byName.direction.qname in e.styleAttrs))){var B=e.styleAttrs[y];if("lrtb"===B||"lr"===B)e.styleAttrs[g.byName.direction.qname]="ltr";else if("rltb"===B||"rl"===B)e.styleAttrs[g.byName.direction.qname]=
"rtl"}if(null!==u)for(var C in g.all)if(g.all.hasOwnProperty(C))if(y=g.all[C],y.qname===g.byName.textDecoration.qname){B=u.styleAttrs[y.qname];var G=e.styleAttrs[y.qname],D=[];void 0===G?D=B:-1===G.indexOf("none")?((-1===G.indexOf("noUnderline")&&-1!==B.indexOf("underline")||-1!==G.indexOf("underline"))&&D.push("underline"),(-1===G.indexOf("noLineThrough")&&-1!==B.indexOf("lineThrough")||-1!==G.indexOf("lineThrough"))&&D.push("lineThrough"),(-1===G.indexOf("noOverline")&&-1!==B.indexOf("overline")||
-1!==G.indexOf("overline"))&&D.push("overline")):D.push("none");e.styleAttrs[y.qname]=D}else y.qname!==g.byName.fontSize.qname||y.qname in e.styleAttrs||"span"!==e.kind||"textContainer"!==e.styleAttrs[g.byName.ruby.qname]?y.qname!==g.byName.fontSize.qname||y.qname in e.styleAttrs||"span"!==e.kind||"text"!==e.styleAttrs[g.byName.ruby.qname]?y.inherit&&y.qname in u.styleAttrs&&!(y.qname in e.styleAttrs)&&(e.styleAttrs[y.qname]=u.styleAttrs[y.qname]):(B=u.styleAttrs[g.byName.fontSize.qname],e.styleAttrs[y.qname]=
"textContainer"===u.styleAttrs[g.byName.ruby.qname]?B:new l.ComputedLength(.5*B.rw,.5*B.rh)):(B=u.styleAttrs[g.byName.fontSize.qname],e.styleAttrs[y.qname]=new l.ComputedLength(.5*B.rw,.5*B.rh));for(var I in g.all)if(g.all.hasOwnProperty(I)&&(C=g.all[I],!(C.qname in e.styleAttrs||C.qname===g.byName.position.qname&&g.byName.origin.qname in e.styleAttrs||C.qname===g.byName.origin.qname&&g.byName.position.qname in e.styleAttrs)&&(y=a.head.styling.initials[C.qname]||C.initial,null!==y&&("region"===e.kind||
!1===C.inherit&&null!==y))))if(y=C.parse(y),null!==y)e.styleAttrs[C.qname]=y,r[C.qname]=!0;else if(C="Invalid initial value for '"+C.qname+"' on element '"+e.kind,n&&n.error&&n.error(C))throw C;for(var m in g.all)if(g.all.hasOwnProperty(m)&&(I=g.all[m],I.qname in r&&null!==I.compute))if(C=I.compute(a,u,e,e.styleAttrs[I.qname],v),null!==C)e.styleAttrs[I.qname]=C;else if(e.styleAttrs[I.qname]=I.compute(a,u,e,I.parse(I.initial),v),I="Style '"+I.qname+"' on element '"+e.kind+"' cannot be computed",n&&
n.error&&n.error(I))throw I;if("none"===e.styleAttrs[g.byName.display.qname])return null;if(null===u)var E=null===z?[]:[z];else"contents"in F&&(E=F.contents);for(var h in E)E.hasOwnProperty(h)&&(u=d(a,b,t,z,e,A,E[h],n,v),null!==u&&e.contents.push(u.element));for(var f in e.styleAttrs)e.styleAttrs.hasOwnProperty(f)&&(a=!1,"span"===e.kind&&(b=e.styleAttrs[g.byName.ruby.qname],(a=("container"===b||"textContainer"===b||"baseContainer"===b)&&-1!==p.indexOf(f))||(a="container"!==b&&f===g.byName.rubyAlign.qname),
a||(a=!("textContainer"===b||"text"===b)&&f===g.byName.rubyPosition.qname)),a||(a=-1===g.byQName[f].applies.indexOf(e.kind)),a&&delete e.styleAttrs[f]);f=e.styleAttrs[g.byName.ruby.qname];if("p"===e.kind||"span"===e.kind&&("textContainer"===f||"text"===f))f=[],c(e,f),k(f),w(e);return"div"===e.kind&&g.byName.backgroundImage.qname in e.styleAttrs||"br"===e.kind||"image"===e.kind||"contents"in e&&0<e.contents.length||"span"===e.kind&&null!==e.text||"region"===e.kind&&"always"===e.styleAttrs[g.byName.showBackground.qname]?
{region_id:A,element:e}:null}function k(a){function c(a){return"br"===a.kind||/[\r\n\t ]$/.test(a.text)}function b(a){return"br"===a.kind||"preserve"===a.space&&/^[\r\n]/.test(a.text)}for(var d,g=0;g<a.length;)if(d=a[g],"br"===d.kind||"preserve"===d.space)g++;else{var k=d.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(k)&&(0===g||c(a[g-1]))&&(k=k.substring(1));d.text=k;0===k.length?a.splice(g,1):g++}for(g=0;g<a.length;g++)d=a[g],"br"===d.kind||"preserve"===d.space?g++:/[ ]$/.test(d.text)&&(g===a.length-
1||b(a[g+1]))&&(d.text=d.text.slice(0,-1))}function c(a,b){for(var d in a.contents)if(a.contents.hasOwnProperty(d)){var k=a.contents[d],l=k.styleAttrs[g.byName.ruby.qname];if("span"!==k.kind||"textContainer"!==l&&"text"!==l)"contents"in k?c(k,b):("span"===k.kind&&0!==k.text.length||"br"===k.kind)&&b.push(k)}}function w(a){if("br"===a.kind)return!1;if("text"in a)return 0===a.text.length;if("contents"in a){for(var c=a.contents.length;c--;)w(a.contents[c])&&a.contents.splice(c,1);return 0===a.contents.length}}
function t(a){this.contents=[];this.aspectRatio=a.aspectRatio;this.lang=a.lang}function x(a){this.kind=a.kind||"region";this.lang=a.lang;a.id&&(this.id=a.id);this.styleAttrs={};for(var c in a.styleAttrs)a.styleAttrs.hasOwnProperty(c)&&(this.styleAttrs[c]=a.styleAttrs[c]);"src"in a&&(this.src=a.src);"type"in a&&(this.type=a.type);if("text"in a)this.text=a.text;else if("region"===this.kind||"contents"in a)this.contents=[];"space"in a&&(this.space=a.space)}a.generateISD=function(a,c,b){function g(a,
c){function b(c){return!(a<c.begin||a>=c.end)}if(c.contents){var d={},e;for(e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);d.contents=[];c.contents.filter(b).forEach(function(c){c=g(a,c);c.regionID&&n.add(c.regionID);null!==c&&d.contents.push(c)});return d}return c}var k=new t(a),l={},w={},n=new Set;w=g(c,a.body);0===n.size&&a.head.layout.regions.hasOwnProperty("")&&n.add("");n.forEach(function(g){g=d(a,c,a.head.layout.regions[g],w,null,"",a.head.layout.regions[g],b,l);null!==g&&k.contents.push(g.element)});
return k};var p=[g.byName.color.qname,g.byName.textCombine.qname,g.byName.textDecoration.qname,g.byName.textEmphasis.qname,g.byName.textOutline.qname,g.byName.textShadow.qname]})("undefined"===typeof g?this.imscISD={}:g,"undefined"===typeof imscNames?b("./names"):imscNames,"undefined"===typeof imscStyles?b("./styles"):imscStyles,"undefined"===typeof imscUtils?b("./utils"):imscUtils)},{"./names":37,"./styles":38,"./utils":39}],36:[function(b,p,g){g.generateISD=b("./isd").generateISD;g.fromXML=b("./doc").fromXML;
g.renderHTML=b("./html").render},{"./doc":33,"./html":34,"./isd":35}],37:[function(b,p,g){b="undefined"===typeof g?this.imscNames={}:g;b.ns_tt="http://www.w3.org/ns/ttml";b.ns_tts="http://www.w3.org/ns/ttml#styling";b.ns_ttp="http://www.w3.org/ns/ttml#parameter";b.ns_xml="http://www.w3.org/XML/1998/namespace";b.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling";b.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter";b.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt";b.ns_ebutts=
"urn:ebu:tt:style";b.ttaf_map={"http://www.w3.org/2006/10/ttaf1":b.ns_tt,"http://www.w3.org/2006/10/ttaf1#style":b.ns_tts,"http://www.w3.org/2006/10/ttaf1#parameter":b.ns_ttp}},{}],38:[function(b,p,g){(function(a,b,g){function d(a,b,d,g,k,l,p,u){this.name=b;this.ns=a;this.qname=a+" "+b;this.inherit=k;this.animatable=l;this.initial=d;this.applies=g;this.parse=p;this.compute=u}a.all=[new d(b.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,g.parseColor,null),new d(b.ns_tts,
"color","white",["span"],!0,!0,g.parseColor,null),new d(b.ns_tts,"direction","ltr",["p","span"],!0,!0,function(a){return a},null),new d(b.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(a){return a},null),new d(b.ns_tts,"displayAlign","before",["region"],!1,!0,function(a){return a},null),new d(b.ns_tts,"extent","auto",["tt","region"],!1,!0,function(a){if("auto"===a)return a;var c=a.split(" ");if(2!==c.length)return null;a=g.parseLength(c[0]);return(c=g.parseLength(c[1]))&&
a?{h:c,w:a}:null},function(a,b,d,k,l){if("auto"===k)b=new g.ComputedLength(0,1);else if(b=g.toComputedLength(k.h.value,k.h.unit,null,a.dimensions.h,null,a.pxLength.h),null===b)return null;if("auto"===k)a=new g.ComputedLength(1,0);else if(a=g.toComputedLength(k.w.value,k.w.unit,null,a.dimensions.w,null,a.pxLength.w),null===a)return null;return{h:b,w:a}}),new d(b.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(a){a=a.split(",");for(var c=[],b=0;b<a.length;b++)"'"!==a[b].charAt(0)&&'"'!==a[b].charAt(0)?
"default"===a[b]?c.push("monospaceSerif"):c.push(a[b]):c.push(a[b]);return c},null),new d(b.ns_tts,"shear","0%",["p"],!0,!0,g.parseLength,function(a,b,d,g){if("%"===g.unit)a=100<Math.abs(g.value)?100*Math.sign(g.value):g.value;else return null;return a}),new d(b.ns_tts,"fontSize","1c",["span","p"],!0,!0,g.parseLength,function(c,b,d,k,l){return g.toComputedLength(k.value,k.unit,null!==b?b.styleAttrs[a.byName.fontSize.qname]:c.cellLength.h,null!==b?b.styleAttrs[a.byName.fontSize.qname]:c.cellLength.h,
c.cellLength.h,c.pxLength.h)}),new d(b.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(a){return a},null),new d(b.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(a){return a},null),new d(b.ns_tts,"lineHeight","normal",["p"],!0,!0,function(a){return"normal"===a?a:g.parseLength(a)},function(c,b,d,k,l){if("normal"===k)c=k;else if(c=g.toComputedLength(k.value,k.unit,d.styleAttrs[a.byName.fontSize.qname],d.styleAttrs[a.byName.fontSize.qname],c.cellLength.h,c.pxLength.h),null===c)return null;
return c}),new d(b.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new d(b.ns_tts,"origin","auto",["region"],!1,!0,function(a){if("auto"===a)return a;var c=a.split(" ");if(2!==c.length)return null;a=g.parseLength(c[0]);return(c=g.parseLength(c[1]))&&a?{h:c,w:a}:null},function(a,b,d,k,l){if("auto"===k)b=new g.ComputedLength(0,0);else if(b=g.toComputedLength(k.h.value,k.h.unit,null,a.dimensions.h,null,a.pxLength.h),null===b)return null;if("auto"===k)a=new g.ComputedLength(0,0);else if(a=g.toComputedLength(k.w.value,
k.w.unit,null,a.dimensions.w,null,a.pxLength.w),null===a)return null;return{h:b,w:a}}),new d(b.ns_tts,"overflow","hidden",["region"],!1,!0,function(a){return a},null),new d(b.ns_tts,"padding","0px",["region"],!1,!0,function(a){a=a.split(" ");if(4<a.length)return null;for(var c=[],b=0;b<a.length;b++){var d=g.parseLength(a[b]);if(!d)return null;c.push(d)}return c},function(c,b,d,k,l){if(1===k.length)b=[k[0],k[0],k[0],k[0]];else if(2===k.length)b=[k[0],k[1],k[0],k[1]];else if(3===k.length)b=[k[0],k[1],
k[2],k[1]];else if(4===k.length)b=[k[0],k[1],k[2],k[3]];else return null;k=d.styleAttrs[a.byName.writingMode.qname];if("lrtb"===k||"lr"===k)b=[b[0],b[3],b[2],b[1]];else if("rltb"===k||"rl"===k)b=[b[0],b[1],b[2],b[3]];else if("tblr"===k)b=[b[3],b[0],b[1],b[2]];else if("tbrl"===k||"tb"===k)b=[b[3],b[2],b[1],b[0]];else return null;k=[];for(l=0;l<b.length;l++)if(0===b[l].value)k[l]=new g.ComputedLength(0,0);else if(k[l]=g.toComputedLength(b[l].value,b[l].unit,d.styleAttrs[a.byName.fontSize.qname],"0"===
l||"2"===l?d.styleAttrs[a.byName.extent.qname].h:d.styleAttrs[a.byName.extent.qname].w,"0"===l||"2"===l?c.cellLength.h:c.cellLength.w,"0"===l||"2"===l?c.pxLength.h:c.pxLength.w),null===k[l])return null;return k}),new d(b.ns_tts,"position","top left",["region"],!1,!0,function(a){return g.parsePosition(a)},function(b,d,k,l){d=g.toComputedLength(l.v.offset.value,l.v.offset.unit,null,new g.ComputedLength(-k.styleAttrs[a.byName.extent.qname].h.rw,b.dimensions.h.rh-k.styleAttrs[a.byName.extent.qname].h.rh),
null,b.pxLength.h);if(null===d)return null;"bottom"===l.v.edge&&(d=new g.ComputedLength(-d.rw-k.styleAttrs[a.byName.extent.qname].h.rw,b.dimensions.h.rh-d.rh-k.styleAttrs[a.byName.extent.qname].h.rh));var c=g.toComputedLength(l.h.offset.value,l.h.offset.unit,null,new g.ComputedLength(b.dimensions.w.rw-k.styleAttrs[a.byName.extent.qname].w.rw,-k.styleAttrs[a.byName.extent.qname].w.rh),null,b.pxLength.w);if(null===d)return null;"right"===l.h.edge&&(c=new g.ComputedLength(b.dimensions.w.rw-c.rw-k.styleAttrs[a.byName.extent.qname].w.rw,
-c.rh-k.styleAttrs[a.byName.extent.qname].w.rh));return{h:d,w:c}}),new d(b.ns_tts,"ruby","none",["span"],!1,!0,function(a){return a},null),new d(b.ns_tts,"rubyAlign","center",["span"],!0,!0,function(a){return"center"!==a&&"spaceAround"!==a?null:a},null),new d(b.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(a){return a},null),new d(b.ns_tts,"rubyReserve","none",["p"],!0,!0,function(a){var b=a.split(" ");a=[null,null];if(0===b.length||2<b.length||"none"!==b[0]&&"both"!==b[0]&&"after"!==b[0]&&
"before"!==b[0]&&"outside"!==b[0])return null;a[0]=b[0];if(2===b.length&&"none"!==b[0])if(b=g.parseLength(b[1]))a[1]=b;else return null;return a},function(b,d,k,l,p){if("none"===l[0])return l;b=null===l[1]?new g.ComputedLength(.5*k.styleAttrs[a.byName.fontSize.qname].rw,.5*k.styleAttrs[a.byName.fontSize.qname].rh):g.toComputedLength(l[1].value,l[1].unit,k.styleAttrs[a.byName.fontSize.qname],k.styleAttrs[a.byName.fontSize.qname],b.cellLength.h,b.pxLength.h);return null===b?null:[l[0],b]}),new d(b.ns_tts,
"showBackground","whenActive",["region"],!1,!0,function(a){return a},null),new d(b.ns_tts,"textAlign","start",["p"],!0,!0,function(a){return a},function(a,b,d,g,k){return"left"===g?"start":"right"===g?"end":g}),new d(b.ns_tts,"textCombine","none",["span"],!0,!0,function(a){return"none"===a||"all"===a?a:null},null),new d(b.ns_tts,"textDecoration","none",["span"],!0,!0,function(a){return a.split(" ")},null),new d(b.ns_tts,"textEmphasis","none",["span"],!0,!0,function(a){a=a.split(" ");for(var b={style:null,
symbol:null,color:null,position:null},c=0;c<a.length;c++)if("none"===a[c]||"auto"===a[c])b.style=a[c];else if("filled"===a[c]||"open"===a[c])b.style=a[c];else if("circle"===a[c]||"dot"===a[c]||"sesame"===a[c])b.symbol=a[c];else if("current"===a[c])b.color=a[c];else if("outside"===a[c]||"before"===a[c]||"after"===a[c])b.position=a[c];else if(b.color=g.parseColor(a[c]),null===b.color)return null;null==b.style&&null==b.symbol?b.style="auto":(b.symbol=b.symbol||"circle",b.style=b.style||"filled");b.position=
b.position||"outside";b.color=b.color||"current";return b},null),new d(b.ns_tts,"textOutline","none",["span"],!0,!0,function(a){if("none"===a)return a;var b={};a=a.split(" ");if(0===a.length||2<a.length)return null;var c=g.parseColor(a[0]);b.color=c;null!==c&&a.shift();if(1!==a.length)return null;a=g.parseLength(a[0]);if(!a)return null;b.thickness=a;return b},function(b,d,k,l,p){if("none"===l)return l;d={};d.color=null===l.color?k.styleAttrs[a.byName.color.qname]:l.color;d.thickness=g.toComputedLength(l.thickness.value,
l.thickness.unit,k.styleAttrs[a.byName.fontSize.qname],k.styleAttrs[a.byName.fontSize.qname],b.cellLength.h,b.pxLength.h);return null===d.thickness?null:d}),new d(b.ns_tts,"textShadow","none",["span"],!0,!0,g.parseTextShadow,function(b,d,k,l){if("none"===l)return l;d=[];for(var c in l)if(c.hasOwnProperty(l)){var p={};p.x_off=g.toComputedLength(l[c][0].value,l[c][0].unit,null,k.styleAttrs[a.byName.fontSize.qname],null,b.pxLength.w);if(null===p.x_off)return null;p.y_off=g.toComputedLength(l[c][1].value,
l[c][1].unit,null,k.styleAttrs[a.byName.fontSize.qname],null,b.pxLength.h);if(null===p.y_off)return null;if(null===l[c][2])p.b_radius=0;else if(p.b_radius=g.toComputedLength(l[c][2].value,l[c][2].unit,null,k.styleAttrs[a.byName.fontSize.qname],null,b.pxLength.h),null===p.b_radius)return null;p.color=null===l[c][3]?k.styleAttrs[a.byName.color.qname]:l[c][3];d.push(p)}return d}),new d(b.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(a){return a},null),new d(b.ns_tts,"visibility","visible",
["body","div","p","region","span"],!0,!0,function(a){return a},null),new d(b.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(a){return a},null),new d(b.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(a){return a},null),new d(b.ns_tts,"zIndex","auto",["region"],!1,!0,function(a){"auto"!==a&&(a=parseInt(a),isNaN(a)&&(a=null));return a},null),new d(b.ns_ebutts,"linePadding","0c",["p"],!0,!1,g.parseLength,function(a,b,d,k,l){return g.toComputedLength(k.value,k.unit,null,null,a.cellLength.w,null)}),
new d(b.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(a){return a},null),new d(b.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(a){return a},null),new d(b.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(a){return"true"===a?!0:!1},null),new d(b.ns_itts,"fillLineGap","true",["p"],!0,!0,function(a){return"true"===a?!0:!1},null)];a.byQName={};for(var k in a.all)a.all.hasOwnProperty(k)&&(a.byQName[a.all[k].qname]=a.all[k]);a.byName={};for(var p in a.all)a.all.hasOwnProperty(p)&&
(a.byName[a.all[p].name]=a.all[p])})("undefined"===typeof g?this.imscStyles={}:g,"undefined"===typeof imscNames?b("./names"):imscNames,"undefined"===typeof imscUtils?b("./utils"):imscUtils)},{"./names":37,"./utils":39}],39:[function(b,p,g){(function(a){var b=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,g=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,l=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,p={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,
128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};a.parseColor=function(a){var c,d=null,k=p[a.toLowerCase()];void 0!==k?d=k:null!==(c=b.exec(a))?d=[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16),void 0!==c[4]?parseInt(c[4],
16):255]:null!==(c=g.exec(a))?d=[parseInt(c[1]),parseInt(c[2]),parseInt(c[3]),255]:null!==(c=l.exec(a))&&(d=[parseInt(c[1]),parseInt(c[2]),parseInt(c[3]),parseInt(c[4])]);return d};var A=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;a.parseLength=function(a){var b,c=null;null!==(b=A.exec(a))&&(c={value:parseFloat(b[1]),unit:b[2]});return c};a.parseTextShadow=function(b){b=b.split(",");for(var c=[],d=0;d<b.length;d++){var g=b[d].split(" ");if(1===g.length&&"none"===g[0])return"none";if(1<g.length&&
5>g.length){var k=[null,null,null,null],l=a.parseLength(g.shift());if(null===l)return null;k[0]=l;l=a.parseLength(g.shift());if(null===l)return null;k[1]=l;if(0!==g.length&&(l=a.parseLength(g[0]),null!==l&&(k[2]=l,g.shift()),0!==g.length)){g=a.parseColor(g[0]);if(null===g)return null;k[3]=g}c.push(k)}}return c};a.parsePosition=function(b){b=b.split(" ");var c=function(a){return"center"===a||"left"===a||"top"===a||"bottom"===a||"right"===a};if(4<b.length)return null;for(var d in b)if(b.hasOwnProperty(d)&&
!c(b[d])){var g=a.parseLength(b[d]);if(null===g)return null;b[d]=g}d={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}};for(g=0;g<b.length;){var k=b[g++];if(c(k)){var l={value:0,unit:"%"};2!==b.length&&g<b.length&&!c(b[g])&&(l=b[g++]);"right"===k?(d.h.edge=k,d.h.offset=l):"bottom"===k?(d.v.edge=k,d.v.offset=l):"left"===k?d.h.offset=l:"top"===k&&(d.v.offset=l)}else if(1===b.length||2===b.length)1===g?d.h.offset=k:d.v.offset=k;else return null}return d};a.ComputedLength=
function(a,b){this.rw=a;this.rh=b};a.ComputedLength.prototype.toUsedLength=function(a,b){return a*this.rw+b*this.rh};a.ComputedLength.prototype.multiply=function(a,b){return b?a*b:a};a.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh};a.toComputedLength=function(b,d,g,k,l,p){return"%"===d&&k?new a.ComputedLength(k.rw*b/100,k.rh*b/100):"em"===d&&g?new a.ComputedLength(g.rw*b,g.rh*b):"c"===d&&l?new a.ComputedLength(b*l.rw,b*l.rh):"px"===d&&p?new a.ComputedLength(b*p.rw,b*p.rh):
"rh"===d?new a.ComputedLength(0,b/100):"rw"===d?new a.ComputedLength(b/100,0):null}})("undefined"===typeof g?this.imscUtils={}:g)},{}]},{},[36])(36)});
